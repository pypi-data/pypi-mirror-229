import{S as ve,i as we,s as be,E as he,k as I,a as U,y as P,l as D,m as E,c as j,z as H,h as _,F as Yt,G as ue,b as V,a0 as v,A,H as ze,L as Re,g,d as w,B,N as Ee,C as ut,o as jn,Q as De,q as Y,r as Q,n as y,u as fe,e as oe,v as ne,f as ie,M as xe,w as Oe,W as yt,X as It,D as Yn,I as Qn,J as Wn,K as Gn,Z as _e,_ as ge,$ as Te,a1 as J,Y as Vi,p as ot,V as Kn,R as mt,af as Ni,a7 as ye,a8 as Le,O as ke,a4 as Pe,ab as Ne,a2 as Dt,ag as Ti,P as Ci,T as We,U as Ge,a3 as ht,a9 as Et,x as it,a6 as Qt,ad as Mi}from"../chunks/index.8706e7a3.js";import{g as Vt}from"../chunks/navigation.5a12ff62.js";import{O as zi,a as nt,P as Fi}from"../chunks/Page.a00a6e3e.js";import{W as Pi,R as Ai,d as Ye,U as Bi,h as Ie,V as Ue,X as $e,Y as Nt,Z as ft,_ as Zn,t as Ze,C as Je,$ as Me,a0 as Ke,S as Jn,a1 as Tt,a2 as Ri,a3 as Ct,a4 as Hi,O as Xn,a5 as Oi,B as xn,a6 as ei,n as Wt,c as Be,a as Mt,a7 as _t,a8 as ti,a9 as at,aa as Li,ab as gt,ac as Gt,ad as Xe,ae as qi,af as zt,ag as Ui,ah as ji,ai as Yi,aj as Qi,ak as Wi,al as li,am as ni,an as ii,i as Gi,b as Ft,ao as Ki,ap as Zi,aq as Ji,F as Xi,ar as lt,as as ri,at as xi,au as si,av as er,aw as tr,ax as rt,ay as Pt,az as ai,aA as pt,aB as St,aC as oi,aD as fi,aE as bt,aF as lr,aG as st,K as nr,A as At,aH as ir,aI as rr,aJ as sr,aK as ar,M as Bt,G as Rt,H as Ht,I as or,J as fr,aL as Ot,aM as ci,aN as cr,aO as kt,z as ui,aP as di,aQ as ur,g as dr,aR as mr,aS as hr,aT as _r,aU as gr,aV as pr,aW as br,aX as vr,aY as wr,aZ as kr,a_ as $r,a$ as Er}from"../chunks/Commands.0d29256a.js";import{w as Sr}from"../chunks/index.8b48d14e.js";import{C as yr,b as mi,I as Kt,a as Ir,T as Dr,E as Vr,S as Nr}from"../chunks/ConceptView.56f2a192.js";import{E as hi,S as _i,T as gi}from"../chunks/StringSpanHighlight.8d1f5830.js";import{M as Lt,S as Tr}from"../chunks/Settings.92d5275a.js";import{I as Cr}from"../chunks/ItemMetadata.fd962e9d.js";import{g as pi}from"../chunks/settingsStore.7a558b1a.js";import{L as Mr,a as zr,b as Fr,c as Pr,C as Ar}from"../chunks/ComboBox.6984b56b.js";import{s as vt,C as Br,f as Rr}from"../chunks/notificationsStore.2895bc3e.js";function Zt(i,e,l){const t=i.slice();return t[39]=e[l],t[41]=l,t}const Hr=i=>({item:i[0]&8,index:i[0]&8}),Jt=i=>({item:i[39],index:i[41]});function Xt(i){let e,l;return{c(){e=I("label"),l=Y(i[10]),this.h()},l(t){e=D(t,"LABEL",{for:!0});var n=E(e);l=Q(n,i[10]),n.forEach(_),this.h()},h(){y(e,"for",i[19]),ue(e,"bx--label",!0),ue(e,"bx--label--disabled",i[9]),ue(e,"bx--visually-hidden",i[17])},m(t,n){V(t,e,n),v(e,l)},p(t,n){n[0]&1024&&fe(l,t[10]),n[0]&524288&&y(e,"for",t[19]),n[0]&512&&ue(e,"bx--label--disabled",t[9]),n[0]&131072&&ue(e,"bx--visually-hidden",t[17])},d(t){t&&_(e)}}}function xt(i){let e,l;return e=new Pi({props:{class:"bx--list-box__invalid-icon"}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function el(i){let e,l;return e=new Ai({props:{class:"bx--list-box__invalid-icon bx--list-box__invalid-icon--warning"}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Or(i){let e;return{c(){e=Y(i[16])},l(l){e=Q(l,i[16])},m(l,t){V(l,e,t)},p(l,t){t[0]&65536&&fe(e,l[16])},d(l){l&&_(e)}}}function Lr(i){let e=i[4](i[22])+"",l;return{c(){l=Y(e)},l(t){l=Q(t,e)},m(t,n){V(t,l,n)},p(t,n){n[0]&4194320&&e!==(e=t[4](t[22])+"")&&fe(l,e)},d(t){t&&_(l)}}}function tl(i){let e,l;return e=new Fr({props:{"aria-labelledby":i[19],id:i[19],$$slots:{default:[jr]},$$scope:{ctx:i}}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&524288&&(o["aria-labelledby"]=t[19]),n[0]&524288&&(o.id=t[19]),n[0]&2097181|n[1]&64&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function qr(i){let e=i[4](i[39])+"",l;return{c(){l=Y(e)},l(t){l=Q(t,e)},m(t,n){V(t,l,n)},p(t,n){n[0]&24&&e!==(e=t[4](t[39])+"")&&fe(l,e)},d(t){t&&_(l)}}}function Ur(i){let e,l;const t=i[29].default,n=Yn(t,i,i[37],Jt),o=n||qr(i);return{c(){o&&o.c(),e=U()},l(r){o&&o.l(r),e=j(r)},m(r,s){o&&o.m(r,s),V(r,e,s),l=!0},p(r,s){n?n.p&&(!l||s[0]&8|s[1]&64)&&Qn(n,t,r,r[37],l?Gn(t,r[37],s,Hr):Wn(r[37]),Jt):o&&o.p&&(!l||s[0]&24)&&o.p(r,l?s:[-1,-1])},i(r){l||(g(o,r),l=!0)},o(r){w(o,r),l=!1},d(r){o&&o.d(r),r&&_(e)}}}function ll(i,e){let l,t,n;function o(...s){return e[34](e[39],...s)}function r(){return e[35](e[39],e[41])}return t=new Pr({props:{id:e[39].id,active:e[0]===e[39].id,highlighted:e[21]===e[41],disabled:e[39].disabled,$$slots:{default:[Ur]},$$scope:{ctx:e}}}),t.$on("click",o),t.$on("mouseenter",r),{key:i,first:null,c(){l=oe(),P(t.$$.fragment),this.h()},l(s){l=oe(),H(t.$$.fragment,s),this.h()},h(){this.first=l},m(s,a){V(s,l,a),A(t,s,a),n=!0},p(s,a){e=s;const f={};a[0]&8&&(f.id=e[39].id),a[0]&9&&(f.active=e[0]===e[39].id),a[0]&2097160&&(f.highlighted=e[21]===e[41]),a[0]&8&&(f.disabled=e[39].disabled),a[0]&24|a[1]&64&&(f.$$scope={dirty:a,ctx:e}),t.$set(f)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){w(t.$$.fragment,s),n=!1},d(s){s&&_(l),B(t,s)}}}function jr(i){let e=[],l=new Map,t,n,o=i[3];const r=s=>s[39].id;for(let s=0;s<o.length;s+=1){let a=Zt(i,o,s),f=r(a);l.set(f,e[s]=ll(f,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=oe()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);t=oe()},m(s,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,a);V(s,t,a),n=!0},p(s,a){a[0]&35651613|a[1]&64&&(o=s[3],ne(),e=yt(e,a,r,1,s,o,l,t.parentNode,It,ll,t,Zt),ie())},i(s){if(!n){for(let a=0;a<o.length;a+=1)g(e[a]);n=!0}},o(s){for(let a=0;a<e.length;a+=1)w(e[a]);n=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&_(t)}}}function Yr(i){let e,l,t,n,o,r,s,a,f,c,m,u=i[11]&&xt(),d=!i[11]&&i[13]&&el();function h(b,S){return b[22]?Lr:Or}let p=h(i),k=p(i);r=new zr({props:{translateWithId:i[18],open:i[1]}}),r.$on("click",i[30]);let $=i[1]&&tl(i);return{c(){u&&u.c(),e=U(),d&&d.c(),l=U(),t=I("button"),n=I("span"),k.c(),o=U(),P(r.$$.fragment),s=U(),$&&$.c(),a=oe(),this.h()},l(b){u&&u.l(b),e=j(b),d&&d.l(b),l=j(b),t=D(b,"BUTTON",{type:!0,tabindex:!0,"aria-expanded":!0,translatewithid:!0,id:!0});var S=E(t);n=D(S,"SPAN",{});var N=E(n);k.l(N),N.forEach(_),o=j(S),H(r.$$.fragment,S),S.forEach(_),s=j(b),$&&$.l(b),a=oe(),this.h()},h(){ue(n,"bx--list-box__label",!0),y(t,"type","button"),y(t,"tabindex","0"),y(t,"aria-expanded",i[1]),t.disabled=i[9],y(t,"translatewithid",i[18]),y(t,"id",i[19]),ue(t,"bx--list-box__field",!0)},m(b,S){u&&u.m(b,S),V(b,e,S),d&&d.m(b,S),V(b,l,S),V(b,t,S),v(t,n),k.m(n,null),v(t,o),A(r,t,null),i[31](t),V(b,s,S),$&&$.m(b,S),V(b,a,S),f=!0,c||(m=[ze(t,"keydown",i[32]),ze(t,"keyup",i[33])],c=!0)},p(b,S){b[11]?u?S[0]&2048&&g(u,1):(u=xt(),u.c(),g(u,1),u.m(e.parentNode,e)):u&&(ne(),w(u,1,1,()=>{u=null}),ie()),!b[11]&&b[13]?d?S[0]&10240&&g(d,1):(d=el(),d.c(),g(d,1),d.m(l.parentNode,l)):d&&(ne(),w(d,1,1,()=>{d=null}),ie()),p===(p=h(b))&&k?k.p(b,S):(k.d(1),k=p(b),k&&(k.c(),k.m(n,null)));const N={};S[0]&262144&&(N.translateWithId=b[18]),S[0]&2&&(N.open=b[1]),r.$set(N),(!f||S[0]&2)&&y(t,"aria-expanded",b[1]),(!f||S[0]&512)&&(t.disabled=b[9]),(!f||S[0]&262144)&&y(t,"translatewithid",b[18]),(!f||S[0]&524288)&&y(t,"id",b[19]),b[1]?$?($.p(b,S),S[0]&2&&g($,1)):($=tl(b),$.c(),g($,1),$.m(a.parentNode,a)):$&&(ne(),w($,1,1,()=>{$=null}),ie())},i(b){f||(g(u),g(d),g(r.$$.fragment,b),g($),f=!0)},o(b){w(u),w(d),w(r.$$.fragment,b),w($),f=!1},d(b){u&&u.d(b),b&&_(e),d&&d.d(b),b&&_(l),b&&_(t),k.d(),B(r),i[31](null),b&&_(s),$&&$.d(b),b&&_(a),c=!1,xe(m)}}}function nl(i){let e,l;return{c(){e=I("div"),l=Y(i[15]),this.h()},l(t){e=D(t,"DIV",{});var n=E(e);l=Q(n,i[15]),n.forEach(_),this.h()},h(){ue(e,"bx--form__helper-text",!0),ue(e,"bx--form__helper-text--disabled",i[9])},m(t,n){V(t,e,n),v(e,l)},p(t,n){n[0]&32768&&fe(l,t[15]),n[0]&512&&ue(e,"bx--form__helper-text--disabled",t[9])},d(t){t&&_(e)}}}function Qr(i){let e,l,t,n,o,r,s,a=i[10]&&Xt(i);t=new Mr({props:{role:void 0,type:i[5],size:i[7],name:i[20],"aria-label":i[28]["aria-label"],class:`bx--dropdown 
      `+(i[6]==="top"&&"bx--list-box--up")+` 
      `+(i[11]&&"bx--dropdown--invalid")+` 
      `+(!i[11]&&i[13]&&"bx--dropdown--warning")+` 
      `+(i[1]&&"bx--dropdown--open")+`
      `+(i[7]==="sm"&&"bx--dropdown--sm")+`
      `+(i[7]==="xl"&&"bx--dropdown--xl")+`
      `+(i[23]&&"bx--dropdown--inline")+`
      `+(i[9]&&"bx--dropdown--disabled")+`
      `+(i[8]&&"bx--dropdown--light"),disabled:i[9],open:i[1],invalid:i[11],invalidText:i[12],light:i[8],warn:i[13],warnText:i[14],$$slots:{default:[Yr]},$$scope:{ctx:i}}}),t.$on("click",i[36]);let f=!i[23]&&!i[11]&&!i[13]&&i[15]&&nl(i),c=[i[27]],m={};for(let u=0;u<c.length;u+=1)m=he(m,c[u]);return{c(){e=I("div"),a&&a.c(),l=U(),P(t.$$.fragment),n=U(),f&&f.c(),this.h()},l(u){e=D(u,"DIV",{});var d=E(e);a&&a.l(d),l=j(d),H(t.$$.fragment,d),n=j(d),f&&f.l(d),d.forEach(_),this.h()},h(){Yt(e,m),ue(e,"bx--dropdown__wrapper",!0),ue(e,"bx--list-box__wrapper",!0),ue(e,"bx--dropdown__wrapper--inline",i[23]),ue(e,"bx--list-box__wrapper--inline",i[23]),ue(e,"bx--dropdown__wrapper--inline--invalid",i[23]&&i[11])},m(u,d){V(u,e,d),a&&a.m(e,null),v(e,l),A(t,e,null),v(e,n),f&&f.m(e,null),o=!0,r||(s=ze(window,"click",i[26]),r=!0)},p(u,d){u[10]?a?a.p(u,d):(a=Xt(u),a.c(),a.m(e,l)):a&&(a.d(1),a=null);const h={};d[0]&32&&(h.type=u[5]),d[0]&128&&(h.size=u[7]),d[0]&1048576&&(h.name=u[20]),d[0]&268435456&&(h["aria-label"]=u[28]["aria-label"]),d[0]&8399810&&(h.class=`bx--dropdown 
      `+(u[6]==="top"&&"bx--list-box--up")+` 
      `+(u[11]&&"bx--dropdown--invalid")+` 
      `+(!u[11]&&u[13]&&"bx--dropdown--warning")+` 
      `+(u[1]&&"bx--dropdown--open")+`
      `+(u[7]==="sm"&&"bx--dropdown--sm")+`
      `+(u[7]==="xl"&&"bx--dropdown--xl")+`
      `+(u[23]&&"bx--dropdown--inline")+`
      `+(u[9]&&"bx--dropdown--disabled")+`
      `+(u[8]&&"bx--dropdown--light")),d[0]&512&&(h.disabled=u[9]),d[0]&2&&(h.open=u[1]),d[0]&2048&&(h.invalid=u[11]),d[0]&4096&&(h.invalidText=u[12]),d[0]&256&&(h.light=u[8]),d[0]&8192&&(h.warn=u[13]),d[0]&16384&&(h.warnText=u[14]),d[0]&7154207|d[1]&64&&(h.$$scope={dirty:d,ctx:u}),t.$set(h),!u[23]&&!u[11]&&!u[13]&&u[15]?f?f.p(u,d):(f=nl(u),f.c(),f.m(e,null)):f&&(f.d(1),f=null),Yt(e,m=Re(c,[d[0]&134217728&&u[27]])),ue(e,"bx--dropdown__wrapper",!0),ue(e,"bx--list-box__wrapper",!0),ue(e,"bx--dropdown__wrapper--inline",u[23]),ue(e,"bx--list-box__wrapper--inline",u[23]),ue(e,"bx--dropdown__wrapper--inline--invalid",u[23]&&u[11])},i(u){o||(g(t.$$.fragment,u),o=!0)},o(u){w(t.$$.fragment,u),o=!1},d(u){u&&_(e),a&&a.d(),B(t),f&&f.d(),r=!1,s()}}}function Wr(i,e,l){let t,n;const o=["items","itemToString","selectedId","type","direction","size","open","light","disabled","titleText","invalid","invalidText","warn","warnText","helperText","label","hideLabel","translateWithId","id","name","ref"];let r=Ee(e,o),{$$slots:s={},$$scope:a}=e,{items:f=[]}=e,{itemToString:c=z=>z.text||z.id}=e,{selectedId:m}=e,{type:u="default"}=e,{direction:d="bottom"}=e,{size:h=void 0}=e,{open:p=!1}=e,{light:k=!1}=e,{disabled:$=!1}=e,{titleText:b=""}=e,{invalid:S=!1}=e,{invalidText:N=""}=e,{warn:T=!1}=e,{warnText:C=""}=e,{helperText:M=""}=e,{label:Z=void 0}=e,{hideLabel:X=!1}=e,{translateWithId:R=void 0}=e,{id:F="ccs-"+Math.random().toString(36)}=e,{name:ee=void 0}=e,{ref:O=null}=e;const K=ut();let L=-1;function W(z){let re=L+z;if(f.length===0)return;re<0?re=f.length-1:re>=f.length&&(re=0);let Se=f[re].disabled;for(;Se;)re=re+z,re<0?re=f.length-1:re>=f.length&&(re=0),Se=f[re].disabled;l(21,L=re)}const le=()=>{K("select",{selectedId:m,selectedItem:f.find(z=>z.id===m)})},q=({target:z})=>{p&&O&&!O.contains(z)&&l(1,p=!1)};jn(()=>(parent&&parent.addEventListener("click",q),()=>{parent&&parent.removeEventListener("click",q)}));const te=z=>{z.stopPropagation(),!$&&l(1,p=!p)};function pe(z){Oe[z?"unshift":"push"](()=>{O=z,l(2,O)})}const ce=z=>{const{key:re}=z;["Enter","ArrowDown","ArrowUp"].includes(re)&&z.preventDefault(),re==="Enter"?(l(1,p=!p),L>-1&&f[L].id!==m&&(l(0,m=f[L].id),le(),l(1,p=!1))):re==="Tab"?(l(1,p=!1),O.blur()):re==="ArrowDown"?(p||l(1,p=!0),W(1)):re==="ArrowUp"?(p||l(1,p=!0),W(-1)):re==="Escape"&&l(1,p=!1)},ae=z=>{const{key:re}=z;if([" "].includes(re))z.preventDefault();else return;l(1,p=!p),L>-1&&f[L].id!==m&&(l(0,m=f[L].id),le(),l(1,p=!1))},x=(z,re)=>{if(z.disabled){re.stopPropagation();return}l(0,m=z.id),le(),O.focus()},se=(z,re)=>{z.disabled||l(21,L=re)},G=({target:z})=>{$||l(1,p=O.contains(z)?!p:!1)};return i.$$set=z=>{l(28,e=he(he({},e),De(z))),l(27,r=Ee(e,o)),"items"in z&&l(3,f=z.items),"itemToString"in z&&l(4,c=z.itemToString),"selectedId"in z&&l(0,m=z.selectedId),"type"in z&&l(5,u=z.type),"direction"in z&&l(6,d=z.direction),"size"in z&&l(7,h=z.size),"open"in z&&l(1,p=z.open),"light"in z&&l(8,k=z.light),"disabled"in z&&l(9,$=z.disabled),"titleText"in z&&l(10,b=z.titleText),"invalid"in z&&l(11,S=z.invalid),"invalidText"in z&&l(12,N=z.invalidText),"warn"in z&&l(13,T=z.warn),"warnText"in z&&l(14,C=z.warnText),"helperText"in z&&l(15,M=z.helperText),"label"in z&&l(16,Z=z.label),"hideLabel"in z&&l(17,X=z.hideLabel),"translateWithId"in z&&l(18,R=z.translateWithId),"id"in z&&l(19,F=z.id),"name"in z&&l(20,ee=z.name),"ref"in z&&l(2,O=z.ref),"$$scope"in z&&l(37,a=z.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&32&&l(23,t=u==="inline"),i.$$.dirty[0]&9&&l(22,n=f.find(z=>z.id===m)),i.$$.dirty[0]&2&&(p||l(21,L=-1))},e=De(e),[m,p,O,f,c,u,d,h,k,$,b,S,N,T,C,M,Z,X,R,F,ee,L,n,t,W,le,q,r,e,s,te,pe,ce,ae,x,se,G,a]}class Gr extends ve{constructor(e){super(),we(this,e,Wr,Qr,be,{items:3,itemToString:4,selectedId:0,type:5,direction:6,size:7,open:1,light:8,disabled:9,titleText:10,invalid:11,invalidText:12,warn:13,warnText:14,helperText:15,label:16,hideLabel:17,translateWithId:18,id:19,name:20,ref:2},null,[-1,-1])}}const Kr=Gr;function il(i){let e,l;return{c(){e=_e("title"),l=Y(i[1])},l(t){e=ge(t,"title",{});var n=E(e);l=Q(n,i[1]),n.forEach(_)},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&2&&fe(l,t[1])},d(t){t&&_(e)}}}function Zr(i){let e,l,t=i[1]&&il(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=he(o,n[r]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(r){e=ge(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=E(e);t&&t.l(s),l=ge(s,"path",{d:!0}),E(l).forEach(_),s.forEach(_),this.h()},h(){y(l,"d","M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"),Te(e,o)},m(r,s){V(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=il(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Te(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:J,o:J,d(r){r&&_(e),t&&t.d()}}}function Jr(i,e,l){let t,n;const o=["size","title"];let r=Ee(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=he(he({},e),De(f))),l(3,r=Ee(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=De(e),[s,a,n,r,t]}class Xr extends ve{constructor(e){super(),we(this,e,Jr,Zr,be,{size:0,title:1})}}function rl(i){let e,l;return{c(){e=_e("title"),l=Y(i[1])},l(t){e=ge(t,"title",{});var n=E(e);l=Q(n,i[1]),n.forEach(_)},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&2&&fe(l,t[1])},d(t){t&&_(e)}}}function xr(i){let e,l,t=i[1]&&rl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=he(o,n[r]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(r){e=ge(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=E(e);t&&t.l(s),l=ge(s,"path",{d:!0}),E(l).forEach(_),s.forEach(_),this.h()},h(){y(l,"d","M26 24v4H6V24H4v4H4a2 2 0 002 2H26a2 2 0 002-2h0V24zM26 14L24.59 12.59 17 20.17 17 2 15 2 15 20.17 7.41 12.59 6 14 16 24 26 14z"),Te(e,o)},m(r,s){V(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=rl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Te(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:J,o:J,d(r){r&&_(e),t&&t.d()}}}function es(i,e,l){let t,n;const o=["size","title"];let r=Ee(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=he(he({},e),De(f))),l(3,r=Ee(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=De(e),[s,a,n,r,t]}class ts extends ve{constructor(e){super(),we(this,e,es,xr,be,{size:0,title:1})}}function sl(i){let e,l;return{c(){e=_e("title"),l=Y(i[1])},l(t){e=ge(t,"title",{});var n=E(e);l=Q(n,i[1]),n.forEach(_)},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&2&&fe(l,t[1])},d(t){t&&_(e)}}}function ls(i){let e,l,t=i[1]&&sl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=he(o,n[r]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(r){e=ge(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=E(e);t&&t.l(s),l=ge(s,"path",{d:!0}),E(l).forEach(_),s.forEach(_),this.h()},h(){y(l,"d","M16 7a3 3 0 113-3A3.0033 3.0033 0 0116 7zm0-4a1 1 0 101 1A1.001 1.001 0 0016 3zM11 30a3 3 0 113-3A3.0033 3.0033 0 0111 30zm0-4a1 1 0 101 1A1.001 1.001 0 0011 26zM7 11a3 3 0 113-3A3.0033 3.0033 0 017 11zM7 7A1 1 0 108 8 1.001 1.001 0 007 7zM21 30a3 3 0 113-3A3.0033 3.0033 0 0121 30zm0-4a1 1 0 101 1A1.001 1.001 0 0021 26zM25 11a3 3 0 113-3A3.0033 3.0033 0 0125 11zm0-4a1 1 0 101 1A1.001 1.001 0 0025 7zM4 21a3 3 0 113-3A3.0033 3.0033 0 014 21zm0-4a1 1 0 101 1A1.001 1.001 0 004 17zM28 21a3 3 0 113-3A3.0033 3.0033 0 0128 21zm0-4a1 1 0 101 1A1.001 1.001 0 0028 17zM16 22a6 6 0 116-6A6.0069 6.0069 0 0116 22zm0-10a4 4 0 104 4A4.0045 4.0045 0 0016 12z"),Te(e,o)},m(r,s){V(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=sl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Te(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:J,o:J,d(r){r&&_(e),t&&t.d()}}}function ns(i,e,l){let t,n;const o=["size","title"];let r=Ee(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=he(he({},e),De(f))),l(3,r=Ee(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=De(e),[s,a,n,r,t]}class is extends ve{constructor(e){super(),we(this,e,ns,ls,be,{size:0,title:1})}}function al(i){let e,l;return{c(){e=_e("title"),l=Y(i[1])},l(t){e=ge(t,"title",{});var n=E(e);l=Q(n,i[1]),n.forEach(_)},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&2&&fe(l,t[1])},d(t){t&&_(e)}}}function rs(i){let e,l,t,n,o,r,s,a,f,c=i[1]&&al(i),m=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],u={};for(let d=0;d<m.length;d+=1)u=he(u,m[d]);return{c(){e=_e("svg"),c&&c.c(),l=_e("path"),t=_e("circle"),n=_e("path"),o=_e("circle"),r=_e("path"),s=_e("circle"),a=_e("path"),f=_e("path"),this.h()},l(d){e=ge(d,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var h=E(e);c&&c.l(h),l=ge(h,"path",{d:!0}),E(l).forEach(_),t=ge(h,"circle",{cx:!0,cy:!0,r:!0}),E(t).forEach(_),n=ge(h,"path",{d:!0}),E(n).forEach(_),o=ge(h,"circle",{cx:!0,cy:!0,r:!0}),E(o).forEach(_),r=ge(h,"path",{d:!0}),E(r).forEach(_),s=ge(h,"circle",{cx:!0,cy:!0,r:!0}),E(s).forEach(_),a=ge(h,"path",{d:!0}),E(a).forEach(_),f=ge(h,"path",{d:!0}),E(f).forEach(_),h.forEach(_),this.h()},h(){y(l,"d","M20 25H27V27H20zM22 29H25V31H22zM27 23h-2c0-1.1.4-2 1.2-2.8l.5-.5c.8-.8 1.3-2 1.3-3.2 0-2.5-2-4.5-4.5-4.5S19 14 19 16.5c0 1.2.5 2.3 1.3 3.2l.5.5C21.6 21 22 21.9 22 23h-2c0-.5-.2-1-.6-1.4l-.5-.5c-1.2-1.2-1.9-2.9-1.9-4.6 0-3.6 2.9-6.5 6.5-6.5s6.5 2.9 6.5 6.5c0 1.7-.7 3.4-1.9 4.6l-.5.5C27.2 22 27 22.5 27 23zM6 22H14V24H6z"),y(t,"cx","12"),y(t,"cy","19"),y(t,"r","1"),y(n,"d","M6 18H9V20H6zM6 14H13V16H6zM10 10H17V12H10z"),y(o,"cx","7"),y(o,"cy","11"),y(o,"r","1"),y(r,"d","M16 6H20V8H16z"),y(s,"cx","13"),y(s,"cy","7"),y(s,"r","1"),y(a,"d","M6 6H10V8H6z"),y(f,"d","M18,28H4V4l18,0v4h2V4c0-1.1-0.9-2-2-2H4C2.9,2,2,2.9,2,4v24c0,1.1,0.9,2,2,2h14V28z"),Te(e,u)},m(d,h){V(d,e,h),c&&c.m(e,null),v(e,l),v(e,t),v(e,n),v(e,o),v(e,r),v(e,s),v(e,a),v(e,f)},p(d,[h]){d[1]?c?c.p(d,h):(c=al(d),c.c(),c.m(e,l)):c&&(c.d(1),c=null),Te(e,u=Re(m,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},h&1&&{width:d[0]},h&1&&{height:d[0]},h&4&&d[2],h&8&&d[3]]))},i:J,o:J,d(d){d&&_(e),c&&c.d()}}}function ss(i,e,l){let t,n;const o=["size","title"];let r=Ee(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=he(he({},e),De(f))),l(3,r=Ee(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=De(e),[s,a,n,r,t]}class as extends ve{constructor(e){super(),we(this,e,ss,rs,be,{size:0,title:1})}}function ol(i){let e,l;return{c(){e=_e("title"),l=Y(i[1])},l(t){e=ge(t,"title",{});var n=E(e);l=Q(n,i[1]),n.forEach(_)},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&2&&fe(l,t[1])},d(t){t&&_(e)}}}function os(i){let e,l,t,n=i[1]&&ol(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let s=0;s<o.length;s+=1)r=he(r,o[s]);return{c(){e=_e("svg"),n&&n.c(),l=_e("path"),t=_e("path"),this.h()},l(s){e=ge(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=E(e);n&&n.l(a),l=ge(a,"path",{d:!0}),E(l).forEach(_),t=ge(a,"path",{d:!0}),E(t).forEach(_),a.forEach(_),this.h()},h(){y(l,"d","M17 22L17 14 13 14 13 16 15 16 15 22 12 22 12 24 20 24 20 22 17 22zM16 8a1.5 1.5 0 101.5 1.5A1.5 1.5 0 0016 8z"),y(t,"d","M16,30A14,14,0,1,1,30,16,14,14,0,0,1,16,30ZM16,4A12,12,0,1,0,28,16,12,12,0,0,0,16,4Z"),Te(e,r)},m(s,a){V(s,e,a),n&&n.m(e,null),v(e,l),v(e,t)},p(s,[a]){s[1]?n?n.p(s,a):(n=ol(s),n.c(),n.m(e,l)):n&&(n.d(1),n=null),Te(e,r=Re(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:s[0]},a&1&&{height:s[0]},a&4&&s[2],a&8&&s[3]]))},i:J,o:J,d(s){s&&_(e),n&&n.d()}}}function fs(i,e,l){let t,n;const o=["size","title"];let r=Ee(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=he(he({},e),De(f))),l(3,r=Ee(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=De(e),[s,a,n,r,t]}class ct extends ve{constructor(e){super(),we(this,e,fs,os,be,{size:0,title:1})}}function fl(i){let e,l;return{c(){e=_e("title"),l=Y(i[1])},l(t){e=ge(t,"title",{});var n=E(e);l=Q(n,i[1]),n.forEach(_)},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&2&&fe(l,t[1])},d(t){t&&_(e)}}}function cs(i){let e,l,t=i[1]&&fl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=he(o,n[r]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(r){e=ge(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=E(e);t&&t.l(s),l=ge(s,"path",{d:!0}),E(l).forEach(_),s.forEach(_),this.h()},h(){y(l,"d","M29,27.5859l-7.5521-7.5521a11.0177,11.0177,0,1,0-1.4141,1.4141L27.5859,29ZM4,13a9,9,0,1,1,9,9A9.01,9.01,0,0,1,4,13Z"),Te(e,o)},m(r,s){V(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=fl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Te(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:J,o:J,d(r){r&&_(e),t&&t.d()}}}function us(i,e,l){let t,n;const o=["size","title"];let r=Ee(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=he(he({},e),De(f))),l(3,r=Ee(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=De(e),[s,a,n,r,t]}class ds extends ve{constructor(e){super(),we(this,e,us,cs,be,{size:0,title:1})}}function cl(i){let e,l;return{c(){e=_e("title"),l=Y(i[1])},l(t){e=ge(t,"title",{});var n=E(e);l=Q(n,i[1]),n.forEach(_)},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&2&&fe(l,t[1])},d(t){t&&_(e)}}}function ms(i){let e,l,t=i[1]&&cl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=he(o,n[r]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(r){e=ge(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=E(e);t&&t.l(s),l=ge(s,"path",{d:!0}),E(l).forEach(_),s.forEach(_),this.h()},h(){y(l,"d","M30 6L26 6 26 2 24 2 24 6 20 6 20 8 24 8 24 12 26 12 26 8 30 8 30 6zM24 28.5859l-5.9751-5.9751a9.0234 9.0234 0 10-1.4141 1.4141L22.5859 30zM4 17a7 7 0 117 7A7.0078 7.0078 0 014 17z"),Te(e,o)},m(r,s){V(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=cl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Te(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:J,o:J,d(r){r&&_(e),t&&t.d()}}}function hs(i,e,l){let t,n;const o=["size","title"];let r=Ee(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=he(he({},e),De(f))),l(3,r=Ee(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=De(e),[s,a,n,r,t]}class bi extends ve{constructor(e){super(),we(this,e,hs,ms,be,{size:0,title:1})}}function ul(i){let e,l;return{c(){e=_e("title"),l=Y(i[1])},l(t){e=ge(t,"title",{});var n=E(e);l=Q(n,i[1]),n.forEach(_)},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&2&&fe(l,t[1])},d(t){t&&_(e)}}}function _s(i){let e,l,t=i[1]&&ul(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=he(o,n[r]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(r){e=ge(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=E(e);t&&t.l(s),l=ge(s,"path",{d:!0}),E(l).forEach(_),s.forEach(_),this.h()},h(){y(l,"d","M18 22L19.414 20.586 23 24.172 23 4 25 4 25 24.172 28.586 20.586 30 22 24 28 18 22zM2 18H16V20H2zM6 12H16V14H6zM10 6H16V8H10z"),Te(e,o)},m(r,s){V(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=ul(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Te(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:J,o:J,d(r){r&&_(e),t&&t.d()}}}function gs(i,e,l){let t,n;const o=["size","title"];let r=Ee(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=he(he({},e),De(f))),l(3,r=Ee(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=De(e),[s,a,n,r,t]}class vi extends ve{constructor(e){super(),we(this,e,gs,_s,be,{size:0,title:1})}}function dl(i){let e,l;return{c(){e=_e("title"),l=Y(i[1])},l(t){e=ge(t,"title",{});var n=E(e);l=Q(n,i[1]),n.forEach(_)},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&2&&fe(l,t[1])},d(t){t&&_(e)}}}function ps(i){let e,l,t=i[1]&&dl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=he(o,n[r]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(r){e=ge(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=E(e);t&&t.l(s),l=ge(s,"path",{d:!0}),E(l).forEach(_),s.forEach(_),this.h()},h(){y(l,"d","M18 22L19.414 20.586 23 24.172 23 4 25 4 25 24.172 28.586 20.586 30 22 24 28 18 22zM2 6H16V8H2zM6 12H16V14H6zM10 18H16V20H10z"),Te(e,o)},m(r,s){V(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=dl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Te(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:J,o:J,d(r){r&&_(e),t&&t.d()}}}function bs(i,e,l){let t,n;const o=["size","title"];let r=Ee(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=he(he({},e),De(f))),l(3,r=Ee(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=De(e),[s,a,n,r,t]}class wi extends ve{constructor(e){super(),we(this,e,bs,ps,be,{size:0,title:1})}}function ml(i){let e,l;return{c(){e=_e("title"),l=Y(i[1])},l(t){e=ge(t,"title",{});var n=E(e);l=Q(n,i[1]),n.forEach(_)},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&2&&fe(l,t[1])},d(t){t&&_(e)}}}function vs(i){let e,l,t=i[1]&&ml(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=he(o,n[r]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(r){e=ge(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=E(e);t&&t.l(s),l=ge(s,"path",{d:!0}),E(l).forEach(_),s.forEach(_),this.h()},h(){y(l,"d","M30 19.415L28.586 18 25 21.587 21.414 18 20 19.415 23.586 23 20 26.586 21.414 28 25 24.414 28.586 28 30 26.586 26.414 23 30 19.415zM10 18H16V20H10zM2 6H16V8H2zM6 12H16V14H6z"),Te(e,o)},m(r,s){V(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=ml(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Te(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:J,o:J,d(r){r&&_(e),t&&t.d()}}}function ws(i,e,l){let t,n;const o=["size","title"];let r=Ee(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=he(he({},e),De(f))),l(3,r=Ee(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=De(e),[s,a,n,r,t]}class ks extends ve{constructor(e){super(),we(this,e,ws,vs,be,{size:0,title:1})}}function hl(i){let e,l;return{c(){e=_e("title"),l=Y(i[1])},l(t){e=ge(t,"title",{});var n=E(e);l=Q(n,i[1]),n.forEach(_)},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&2&&fe(l,t[1])},d(t){t&&_(e)}}}function $s(i){let e,l,t=i[1]&&hl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=he(o,n[r]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(r){e=ge(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=E(e);t&&t.l(s),l=ge(s,"path",{d:!0}),E(l).forEach(_),s.forEach(_),this.h()},h(){y(l,"d","M4 6H22V8H4zM4 12H22V14H4zM4 18H22V20H4zM4 24H22V26H4zM26 6H28V8H26zM26 12H28V14H26zM26 18H28V20H26zM26 24H28V26H26z"),Te(e,o)},m(r,s){V(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=hl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Te(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:J,o:J,d(r){r&&_(e),t&&t.d()}}}function Es(i,e,l){let t,n;const o=["size","title"];let r=Ee(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=he(he({},e),De(f))),l(3,r=Ee(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=De(e),[s,a,n,r,t]}class Ss extends ve{constructor(e){super(),we(this,e,Es,$s,be,{size:0,title:1})}}function _l(i){let e;return{c(){e=I("div"),this.h()},l(l){e=D(l,"DIV",{id:!0,style:!0}),E(e).forEach(_),this.h()},h(){y(e,"id","svelte-infinite-scroll"),ot(e,"width","0")},m(l,t){V(l,e,t),i[11](e)},p:J,d(l){l&&_(e),i[11](null)}}}function ys(i){let e,l=!i[1]&&!i[0]&&_l(i);return{c(){l&&l.c(),e=oe()},l(t){l&&l.l(t),e=oe()},m(t,n){l&&l.m(t,n),V(t,e,n)},p(t,[n]){!t[1]&&!t[0]?l?l.p(t,n):(l=_l(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:J,o:J,d(t){l&&l.d(t),t&&_(e)}}}function Is(i,e,l){let{threshold:t=0}=e,{horizontal:n=!1}=e,{elementScroll:o=null}=e,{hasMore:r=!0}=e,{reverse:s=!1}=e,{window:a=!1}=e;const f=ut();let c=!1,m,u,d,h;const p=b=>{if(!r)return;const S=b.target;k(S,s,n)<=t?(!c&&r&&(f("loadMore"),l(8,u=S.scrollHeight),l(9,d=S.scrollTop)),l(7,c=!0)):l(7,c=!1)},k=(b,S,N)=>{const T=b.documentElement?b.documentElement:b;return S?N?T.scrollLeft:T.scrollTop:N?T.scrollWidth-T.clientWidth-T.scrollLeft:T.scrollHeight-T.clientHeight-T.scrollTop};jn(()=>{a?l(10,h=document):o?l(10,h=o):l(10,h=m.parentNode)}),Vi(()=>{h&&(h.removeEventListener("scroll",p),h.removeEventListener("resize",p))});function $(b){Oe[b?"unshift":"push"](()=>{m=b,l(2,m)})}return i.$$set=b=>{"threshold"in b&&l(3,t=b.threshold),"horizontal"in b&&l(4,n=b.horizontal),"elementScroll"in b&&l(0,o=b.elementScroll),"hasMore"in b&&l(5,r=b.hasMore),"reverse"in b&&l(6,s=b.reverse),"window"in b&&l(1,a=b.window)},i.$$.update=()=>{i.$$.dirty&1088&&h&&(s&&l(10,h.scrollTop=h.scrollHeight,h),h.addEventListener("scroll",p),h.addEventListener("resize",p)),i.$$.dirty&1984&&c&&s&&l(10,h.scrollTop=h.scrollHeight-u+d,h)},[o,a,m,t,n,r,s,c,u,d,h,$]}class Ds extends ve{constructor(e){super(),we(this,e,Is,ys,be,{threshold:3,horizontal:4,elementScroll:0,hasMore:5,reverse:6,window:1})}}function Vs(i){let e,l,t,n,o,r,s,a;t=new Bi({});const f=i[3].default,c=Yn(f,i,i[6],null);return{c(){e=I("div"),l=I("button"),P(t.$$.fragment),n=U(),o=I("span"),c&&c.c(),this.h()},l(m){e=D(m,"DIV",{class:!0});var u=E(e);l=D(u,"BUTTON",{class:!0});var d=E(l);H(t.$$.fragment,d),d.forEach(_),n=j(u),o=D(u,"SPAN",{class:!0});var h=E(o);c&&c.l(h),h.forEach(_),u.forEach(_),this.h()},h(){y(l,"class","p-0 opacity-50 hover:opacity-100"),y(o,"class","truncate"),y(e,"class","removable-tag flex items-center gap-x-1")},m(m,u){V(m,e,u),v(e,l),A(t,l,null),v(e,n),v(e,o),c&&c.m(o,null),r=!0,s||(a=ze(l,"click",Ni(i[4])),s=!0)},p(m,u){c&&c.p&&(!r||u&64)&&Qn(c,f,m,m[6],r?Gn(f,m[6],u,null):Wn(m[6]),null)},i(m){r||(g(t.$$.fragment,m),g(c,m),r=!0)},o(m){w(t.$$.fragment,m),w(c,m),r=!1},d(m){m&&_(e),B(t),c&&c.d(m),s=!1,a()}}}function Ns(i){let e,l;const t=[{type:i[0]},i[2]];let n={$$slots:{default:[Vs]},$$scope:{ctx:i}};for(let o=0;o<t.length;o+=1)n=he(n,t[o]);return e=new Ye({props:n}),e.$on("click",i[5]),{c(){P(e.$$.fragment)},l(o){H(e.$$.fragment,o)},m(o,r){A(e,o,r),l=!0},p(o,[r]){const s=r&5?Re(t,[r&1&&{type:o[0]},r&4&&Kn(o[2])]):{};r&64&&(s.$$scope={dirty:r,ctx:o}),e.$set(s)},i(o){l||(g(e.$$.fragment,o),l=!0)},o(o){w(e.$$.fragment,o),l=!1},d(o){B(e,o)}}}function Ts(i,e,l){const t=["type"];let n=Ee(e,t),{$$slots:o={},$$scope:r}=e;const s=ut();let{type:a}=e;const f=()=>s("remove");function c(m){mt.call(this,i,m)}return i.$$set=m=>{e=he(he({},e),De(m)),l(2,n=Ee(e,t)),"type"in m&&l(0,a=m.type),"$$scope"in m&&l(6,r=m.$$scope)},[a,s,n,o,f,c,r]}class qt extends ve{constructor(e){super(),we(this,e,Ts,Ns,be,{type:0})}}function Cs(i){let e,l=(i[2]?"":i[5])+"",t,n,o=i[0][i[1].op]+"",r,s,a;return{c(){e=I("span"),t=Y(l),n=U(),r=Y(o),s=U(),a=Y(i[4]),this.h()},l(f){e=D(f,"SPAN",{class:!0});var c=E(e);t=Q(c,l),c.forEach(_),n=j(f),r=Q(f,o),s=j(f),a=Q(f,i[4]),this.h()},h(){y(e,"class","font-mono")},m(f,c){V(f,e,c),v(e,t),V(f,n,c),V(f,r,c),V(f,s,c),V(f,a,c)},p(f,c){c&36&&l!==(l=(f[2]?"":f[5])+"")&&fe(t,l),c&2&&o!==(o=f[0][f[1].op]+"")&&fe(r,o),c&16&&fe(a,f[4])},d(f){f&&_(e),f&&_(n),f&&_(r),f&&_(s),f&&_(a)}}}function Ms(i){let e,l,t=(i[2]?"":i[5])+"",n;return{c(){e=Y("has "),l=I("span"),n=Y(t),this.h()},l(o){e=Q(o,"has "),l=D(o,"SPAN",{class:!0});var r=E(l);n=Q(r,t),r.forEach(_),this.h()},h(){y(l,"class","font-mono")},m(o,r){V(o,e,r),V(o,l,r),v(l,n)},p(o,r){r&36&&t!==(t=(o[2]?"":o[5])+"")&&fe(n,t)},d(o){o&&_(e),o&&_(l)}}}function zs(i){let e;function l(o,r){return o[1].op==="exists"?Ms:Cs}let t=l(i),n=t(i);return{c(){n.c(),e=oe()},l(o){n.l(o),e=oe()},m(o,r){n.m(o,r),V(o,e,r)},p(o,r){t===(t=l(o))&&n?n.p(o,r):(n.d(1),n=t(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){n.d(o),o&&_(e)}}}function Fs(i){let e,l,t,n,o,r;return l=new qt({props:{interactive:!0,type:"magenta",$$slots:{default:[zs]},$$scope:{ctx:i}}}),l.$on("click",i[9]),l.$on("remove",i[10]),{c(){e=I("div"),P(l.$$.fragment),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=E(e);H(l.$$.fragment,a),a.forEach(_),this.h()},h(){y(e,"class","filter-pill items-center")},m(s,a){V(s,e,a),A(l,e,null),n=!0,o||(r=ye(t=Ie.call(null,e,{text:i[6]})),o=!0)},p(s,[a]){const f={};a&2102&&(f.$$scope={dirty:a,ctx:s}),l.$set(f),t&&Le(t.update)&&a&64&&t.update.call(null,{text:s[6]})},i(s){n||(g(l.$$.fragment,s),n=!0)},o(s){w(l.$$.fragment,s),n=!1},d(s){s&&_(e),B(l),o=!1,r()}}}function Ps(i,e,l){let t,n,o,r,s;const a={equals:"=",not_equal:"≠",less:"<",less_equal:"≤",greater:">",greater_equal:"≥",in:"in",exists:"exists"};let{filter:f}=e,{hidePath:c=!1}=e;const m=Ue();ke(i,m,h=>l(7,s=h));const u=()=>Ze({command:Je.EditFilter,namespace:s.namespace,datasetName:s.datasetName,path:n}),d=()=>m.removeFilter(f);return i.$$set=h=>{"filter"in h&&l(1,f=h.filter),"hidePath"in h&&l(2,c=h.hidePath)},i.$$.update=()=>{i.$$.dirty&2&&l(4,t=$e(f.value||"false")),i.$$.dirty&2&&l(3,n=Nt(f.path)),i.$$.dirty&26&&l(6,o=f.op==="exists"?`has ${ft(n)}`:`${ft(n)} ${a[f.op]} ${t}`),i.$$.dirty&8&&l(5,r=Zn(n))},[a,f,c,n,t,r,o,s,m,u,d]}class ki extends ve{constructor(e){super(),we(this,e,Ps,Fs,be,{FILTER_SHORTHANDS:0,filter:1,hidePath:2})}get FILTER_SHORTHANDS(){return this.$$.ctx[0]}}function gl(i){let e,l=i[0].concept_namespace+"",t,n,o=i[0].concept_name+"",r;return{c(){e=I("div"),t=Y(l),n=Y(" / "),r=Y(o),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=E(e);t=Q(a,l),n=Q(a," / "),r=Q(a,o),a.forEach(_),this.h()},h(){y(e,"class","mb-2 w-full text-center text-xs")},m(s,a){V(s,e,a),v(e,t),v(e,n),v(e,r)},p(s,a){a&1&&l!==(l=s[0].concept_namespace+"")&&fe(t,l),a&1&&o!==(o=s[0].concept_name+"")&&fe(r,o)},d(s){s&&_(e)}}}function As(i){let e=Me(i[0].path)+"",l,t,n=i[0].type+"",o;return{c(){l=Y(e),t=Y(": "),o=Y(n)},l(r){l=Q(r,e),t=Q(r,": "),o=Q(r,n)},m(r,s){V(r,l,s),V(r,t,s),V(r,o,s)},p(r,s){s&1&&e!==(e=Me(r[0].path)+"")&&fe(l,e),s&1&&n!==(n=r[0].type+"")&&fe(o,n)},d(r){r&&_(l),r&&_(t),r&&_(o)}}}function pl(i){let e,l,t;return l=new hi({props:{embedding:i[0].embedding}}),{c(){e=I("div"),P(l.$$.fragment),this.h()},l(n){e=D(n,"DIV",{class:!0});var o=E(e);H(l.$$.fragment,o),o.forEach(_),this.h()},h(){y(e,"class","ml-2")},m(n,o){V(n,e,o),A(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.embedding=n[0].embedding),l.$set(r)},i(n){t||(g(l.$$.fragment,n),t=!0)},o(n){w(l.$$.fragment,n),t=!1},d(n){n&&_(e),B(l)}}}function bl(i){let e,l;return{c(){e=I("div"),l=Y(i[2]),this.h()},l(t){e=D(t,"DIV",{class:!0});var n=E(e);l=Q(n,i[2]),n.forEach(_),this.h()},h(){y(e,"class","mt-2 whitespace-pre-wrap text-left")},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&4&&fe(l,t[2])},d(t){t&&_(e)}}}function Bs(i){let e,l,t,n,o,r,s,a,f=i[0].type==="concept"&&gl(i);n=new Ye({props:{type:i[1],$$slots:{default:[As]},$$scope:{ctx:i}}});let c=(i[0].type==="semantic"||i[0].type==="concept")&&pl(i),m=i[2]&&bl(i);return{c(){f&&f.c(),e=U(),l=I("div"),t=I("div"),P(n.$$.fragment),o=U(),c&&c.c(),r=U(),m&&m.c(),s=oe(),this.h()},l(u){f&&f.l(u),e=j(u),l=D(u,"DIV",{class:!0});var d=E(l);t=D(d,"DIV",{class:!0});var h=E(t);H(n.$$.fragment,h),h.forEach(_),o=j(d),c&&c.l(d),d.forEach(_),r=j(u),m&&m.l(u),s=oe(),this.h()},h(){y(t,"class","whitespace-nowrap"),y(l,"class","flex items-center justify-items-center")},m(u,d){f&&f.m(u,d),V(u,e,d),V(u,l,d),v(l,t),A(n,t,null),v(l,o),c&&c.m(l,null),V(u,r,d),m&&m.m(u,d),V(u,s,d),a=!0},p(u,[d]){u[0].type==="concept"?f?f.p(u,d):(f=gl(u),f.c(),f.m(e.parentNode,e)):f&&(f.d(1),f=null);const h={};d&2&&(h.type=u[1]),d&9&&(h.$$scope={dirty:d,ctx:u}),n.$set(h),u[0].type==="semantic"||u[0].type==="concept"?c?(c.p(u,d),d&1&&g(c,1)):(c=pl(u),c.c(),g(c,1),c.m(l,null)):c&&(ne(),w(c,1,1,()=>{c=null}),ie()),u[2]?m?m.p(u,d):(m=bl(u),m.c(),m.m(s.parentNode,s)):m&&(m.d(1),m=null)},i(u){a||(g(n.$$.fragment,u),g(c),a=!0)},o(u){w(n.$$.fragment,u),w(c),a=!1},d(u){f&&f.d(u),u&&_(e),u&&_(l),B(n),c&&c.d(),u&&_(r),m&&m.d(u),u&&_(s)}}}function Rs(i,e,l){let t,{search:n}=e,{tagType:o="outline"}=e;return i.$$set=r=>{"search"in r&&l(0,n=r.search),"tagType"in r&&l(1,o=r.tagType)},i.$$.update=()=>{i.$$.dirty&1&&l(2,t=n.type==="concept"?"":n.query)},[n,o,t]}class vl extends ve{constructor(e){super(),we(this,e,Rs,Bs,be,{search:0,tagType:1})}}function Hs(i){let e,l=Me(i[0].path)+"",t,n,o,r;return{c(){e=I("span"),t=Y(l),n=Y(' has "'),o=Y(i[2]),r=Y('"'),this.h()},l(s){e=D(s,"SPAN",{class:!0});var a=E(e);t=Q(a,l),a.forEach(_),n=Q(s,' has "'),o=Q(s,i[2]),r=Q(s,'"'),this.h()},h(){y(e,"class","font-mono")},m(s,a){V(s,e,a),v(e,t),V(s,n,a),V(s,o,a),V(s,r,a)},p(s,a){a&1&&l!==(l=Me(s[0].path)+"")&&fe(t,l),a&4&&fe(o,s[2])},d(s){s&&_(e),s&&_(n),s&&_(o),s&&_(r)}}}function Os(i){let e,l,t,n,o,r;return l=new qt({props:{title:"query",interactive:!0,type:i[1],$$slots:{default:[Hs]},$$scope:{ctx:i}}}),l.$on("click",i[6]),l.$on("remove",i[7]),{c(){e=I("div"),P(l.$$.fragment),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=E(e);H(l.$$.fragment,a),a.forEach(_),this.h()},h(){y(e,"class","search-pill items-center text-left")},m(s,a){V(s,e,a),A(l,e,null),n=!0,o||(r=ye(t=Ie.call(null,e,{component:vl,props:{search:i[0],tagType:i[1]}})),o=!0)},p(s,[a]){const f={};a&2&&(f.type=s[1]),a&517&&(f.$$scope={dirty:a,ctx:s}),l.$set(f),t&&Le(t.update)&&a&3&&t.update.call(null,{component:vl,props:{search:s[0],tagType:s[1]}})},i(s){n||(g(l.$$.fragment,s),n=!0)},o(s){w(l.$$.fragment,s),n=!1},d(s){s&&_(e),B(l),o=!1,r()}}}function Ls(i,e,l){let t,n,o,{search:r}=e;const s={keyword:"outline",semantic:"teal",concept:"green"},a=Ue(),f=Ke();ke(i,f,u=>l(3,o=u));function c(u){mt.call(this,i,u)}const m=()=>{var u;return a.removeSearch(r,((u=o.selectRowsSchema)==null?void 0:u.data)||null)};return i.$$set=u=>{"search"in u&&l(0,r=u.search)},i.$$.update=()=>{i.$$.dirty&1&&l(2,t=r.type==="concept"?r.concept_name:r.query),i.$$.dirty&1&&l(1,n=r.type!=null?s[r.type]:"outline")},[r,n,t,o,a,f,c,m]}class $i extends ve{constructor(e){super(),we(this,e,Ls,Os,be,{search:0})}}function wl(i,e,l){const t=i.slice();return t[26]=e[l][0],t[27]=e[l][1],t}function kl(i,e,l){const t=i.slice();return t[30]=e[l],t}function $l(i,e,l){const t=i.slice();return t[33]=e[l],t}function El(i,e,l){const t=i.slice();return t[36]=e[l],t}function Sl(i,e,l){const t=i.slice();return t[39]=e[l],t}function qs(i){let e,l,t,n=i[13],o=[];for(let a=0;a<n.length;a+=1)o[a]=Dl(El(i,n,a));const r=a=>w(o[a],1,1,()=>{o[a]=null});let s=i[8]!=null&&i[8].length>0&&Vl(i);return{c(){e=I("div");for(let a=0;a<o.length;a+=1)o[a].c();l=U(),s&&s.c(),this.h()},l(a){e=D(a,"DIV",{class:!0});var f=E(e);for(let c=0;c<o.length;c+=1)o[c].l(f);l=j(f),s&&s.l(f),f.forEach(_),this.h()},h(){y(e,"class","flex w-full flex-row gap-x-4")},m(a,f){V(a,e,f);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);v(e,l),s&&s.m(e,null),t=!0},p(a,f){if(f[0]&57352){n=a[13];let c;for(c=0;c<n.length;c+=1){const m=El(a,n,c);o[c]?(o[c].p(m,f),g(o[c],1)):(o[c]=Dl(m),o[c].c(),g(o[c],1),o[c].m(e,l))}for(ne(),c=n.length;c<o.length;c+=1)r(c);ie()}a[8]!=null&&a[8].length>0?s?(s.p(a,f),f[0]&256&&g(s,1)):(s=Vl(a),s.c(),g(s,1),s.m(e,null)):s&&(ne(),w(s,1,1,()=>{s=null}),ie())},i(a){if(!t){for(let f=0;f<n.length;f+=1)g(o[f]);g(s),t=!0}},o(a){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)w(o[f]);w(s),t=!1},d(a){a&&_(e),Pe(o,a),s&&s.d()}}}function yl(i){let e,l,t=i[14][i[36]]+"",n,o,r,s,a,f=i[3][i[36]],c=[];for(let u=0;u<f.length;u+=1)c[u]=Il(Sl(i,f,u));const m=u=>w(c[u],1,1,()=>{c[u]=null});return{c(){e=I("div"),l=I("div"),n=Y(t),o=U(),r=I("div");for(let u=0;u<c.length;u+=1)c[u].c();s=U(),this.h()},l(u){e=D(u,"DIV",{class:!0});var d=E(e);l=D(d,"DIV",{class:!0});var h=E(l);n=Q(h,t),h.forEach(_),o=j(d),r=D(d,"DIV",{class:!0});var p=E(r);for(let k=0;k<c.length;k+=1)c[k].l(p);p.forEach(_),s=j(d),d.forEach(_),this.h()},h(){y(l,"class","text-xs font-light"),y(r,"class","flex flex-row gap-x-1"),y(e,"class","filter-group rounded bg-slate-50 px-2 py-1 shadow-sm svelte-16ln9ke")},m(u,d){V(u,e,d),v(e,l),v(l,n),v(e,o),v(e,r);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(r,null);v(e,s),a=!0},p(u,d){if(d[0]&40968){f=u[3][u[36]];let h;for(h=0;h<f.length;h+=1){const p=Sl(u,f,h);c[h]?(c[h].p(p,d),g(c[h],1)):(c[h]=Il(p),c[h].c(),g(c[h],1),c[h].m(r,null))}for(ne(),h=f.length;h<c.length;h+=1)m(h);ie()}},i(u){if(!a){for(let d=0;d<f.length;d+=1)g(c[d]);a=!0}},o(u){c=c.filter(Boolean);for(let d=0;d<c.length;d+=1)w(c[d]);a=!1},d(u){u&&_(e),Pe(c,u)}}}function Il(i){let e,l;function t(){return i[23](i[39])}return e=new $i({props:{search:i[39]}}),e.$on("click",t),{c(){P(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,o){A(e,n,o),l=!0},p(n,o){i=n;const r={};o[0]&8&&(r.search=i[39]),e.$set(r)},i(n){l||(g(e.$$.fragment,n),l=!0)},o(n){w(e.$$.fragment,n),l=!1},d(n){B(e,n)}}}function Dl(i){let e,l,t=i[3][i[36]]&&yl(i);return{c(){t&&t.c(),e=oe()},l(n){t&&t.l(n),e=oe()},m(n,o){t&&t.m(n,o),V(n,e,o),l=!0},p(n,o){n[3][n[36]]?t?(t.p(n,o),o[0]&8&&g(t,1)):(t=yl(n),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(ne(),w(t,1,1,()=>{t=null}),ie())},i(n){l||(g(t),l=!0)},o(n){w(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}function Vl(i){let e,l,t,n,o,r,s=i[8],a=[];for(let c=0;c<s.length;c+=1)a[c]=Nl($l(i,s,c));const f=c=>w(a[c],1,1,()=>{a[c]=null});return{c(){e=I("div"),l=I("div"),t=Y("Filters"),n=U(),o=I("div");for(let c=0;c<a.length;c+=1)a[c].c();this.h()},l(c){e=D(c,"DIV",{class:!0});var m=E(e);l=D(m,"DIV",{class:!0});var u=E(l);t=Q(u,"Filters"),u.forEach(_),n=j(m),o=D(m,"DIV",{class:!0});var d=E(o);for(let h=0;h<a.length;h+=1)a[h].l(d);d.forEach(_),m.forEach(_),this.h()},h(){y(l,"class","text-xs font-light"),y(o,"class","flex flex-row gap-x-1"),y(e,"class","filter-group rounded bg-slate-50 px-2 py-1 shadow-sm svelte-16ln9ke")},m(c,m){V(c,e,m),v(e,l),v(l,t),v(e,n),v(e,o);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(o,null);r=!0},p(c,m){if(m[0]&256){s=c[8];let u;for(u=0;u<s.length;u+=1){const d=$l(c,s,u);a[u]?(a[u].p(d,m),g(a[u],1)):(a[u]=Nl(d),a[u].c(),g(a[u],1),a[u].m(o,null))}for(ne(),u=s.length;u<a.length;u+=1)f(u);ie()}},i(c){if(!r){for(let m=0;m<s.length;m+=1)g(a[m]);r=!0}},o(c){a=a.filter(Boolean);for(let m=0;m<a.length;m+=1)w(a[m]);r=!1},d(c){c&&_(e),Pe(a,c)}}}function Nl(i){let e,l;return e=new ki({props:{filter:i[33]}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&256&&(o.filter=t[33]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Tl(i){let e=$e(i[0])+"",l,t,n=$e(i[1].dataset_manifest.num_items)+"",o,r;return{c(){l=Y(e),t=Y(" of "),o=Y(n),r=Y(" rows")},l(s){l=Q(s,e),t=Q(s," of "),o=Q(s,n),r=Q(s," rows")},m(s,a){V(s,l,a),V(s,t,a),V(s,o,a),V(s,r,a)},p(s,a){a[0]&1&&e!==(e=$e(s[0])+"")&&fe(l,e),a[0]&2&&n!==(n=$e(s[1].dataset_manifest.num_items)+"")&&fe(o,n)},d(s){s&&_(l),s&&_(t),s&&_(o),s&&_(r)}}}function Cl(i){let e,l;return e=new Mt({props:{value:i[30].path!=null?Me(i[30].path):void 0,text:i[30].text,disabled:i[30].disabled}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.value=t[30].path!=null?Me(t[30].path):void 0),n[0]&128&&(o.text=t[30].text),n[0]&128&&(o.disabled=t[30].disabled),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Us(i){let e,l,t=i[27],n=[];for(let r=0;r<t.length;r+=1)n[r]=Cl(kl(i,t,r));const o=r=>w(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=U()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=j(r)},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);V(r,e,s),l=!0},p(r,s){if(s[0]&128){t=r[27];let a;for(a=0;a<t.length;a+=1){const f=kl(r,t,a);n[a]?(n[a].p(f,s),g(n[a],1)):(n[a]=Cl(f),n[a].c(),g(n[a],1),n[a].m(e.parentNode,e))}for(ne(),a=t.length;a<n.length;a+=1)o(a);ie()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)g(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)w(n[s]);l=!1},d(r){Pe(n,r),r&&_(e)}}}function Ml(i){let e,l;return e=new Oi({props:{label:i[26],$$slots:{default:[Us]},$$scope:{ctx:i}}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.label=t[26]),n[0]&128|n[1]&2048&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function js(i){let e,l,t=Object.entries(i[7]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Ml(wl(i,t,r));const o=r=>w(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=oe()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=oe()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);V(r,e,s),l=!0},p(r,s){if(s[0]&128){t=Object.entries(r[7]);let a;for(a=0;a<t.length;a+=1){const f=wl(r,t,a);n[a]?(n[a].p(f,s),g(n[a],1)):(n[a]=Ml(f),n[a].c(),g(n[a],1),n[a].m(e.parentNode,e))}for(ne(),a=t.length;a<n.length;a+=1)o(a);ie()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)g(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)w(n[s]);l=!1},d(r){Pe(n,r),r&&_(e)}}}function zl(i){let e,l,t,n,o,r;return l=new Hi({}),{c(){e=I("button"),P(l.$$.fragment),this.h()},l(s){e=D(s,"BUTTON",{});var a=E(e);H(l.$$.fragment,a),a.forEach(_),this.h()},h(){e.disabled=t=i[4]==null},m(s,a){V(s,e,a),A(l,e,null),n=!0,o||(r=[ye(Ie.call(null,e,{text:"Clear sort"})),ze(e,"click",i[18])],o=!0)},p(s,a){(!n||a[0]&16&&t!==(t=s[4]==null))&&(e.disabled=t)},i(s){n||(g(l.$$.fragment,s),n=!0)},o(s){w(l.$$.fragment,s),n=!1},d(s){s&&_(e),B(l),o=!1,xe(r)}}}function Ys(i){let e,l;return e=new wi({}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Qs(i){let e,l;return e=new vi({}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Ws(i){let e,l;return e=new ks({}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Fl(i){let e,l;return e=new Lt({props:{open:!0,modalHeading:"",passiveModal:!0,size:"lg",$$slots:{default:[Xs]},$$scope:{ctx:i}}}),e.$on("close",i[24]),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&1024|n[1]&2048&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Gs(i){var r;let e,l,t,n,o;return l=new xn({props:{size:"small",kind:"ghost",icon:ei,href:Wt((r=i[10])==null?void 0:r.data.namespace,i[10].data.concept_name),iconDescription:"Open concept page",$$slots:{default:[Js]},$$scope:{ctx:i}}}),n=new yr({props:{concept:i[10].data}}),{c(){e=I("div"),P(l.$$.fragment),t=U(),P(n.$$.fragment),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=E(e);H(l.$$.fragment,a),a.forEach(_),t=j(s),H(n.$$.fragment,s),this.h()},h(){y(e,"class","mb-4 ml-6")},m(s,a){V(s,e,a),A(l,e,null),V(s,t,a),A(n,s,a),o=!0},p(s,a){var m;const f={};a[0]&1024&&(f.href=Wt((m=s[10])==null?void 0:m.data.namespace,s[10].data.concept_name)),a[1]&2048&&(f.$$scope={dirty:a,ctx:s}),l.$set(f);const c={};a[0]&1024&&(c.concept=s[10].data),n.$set(c)},i(s){o||(g(l.$$.fragment,s),g(n.$$.fragment,s),o=!0)},o(s){w(l.$$.fragment,s),w(n.$$.fragment,s),o=!1},d(s){s&&_(e),B(l),s&&_(t),B(n,s)}}}function Ks(i){let e,l=i[10].error.message+"",t;return{c(){e=I("p"),t=Y(l)},l(n){e=D(n,"P",{});var o=E(e);t=Q(o,l),o.forEach(_)},m(n,o){V(n,e,o),v(e,t)},p(n,o){o[0]&1024&&l!==(l=n[10].error.message+"")&&fe(t,l)},i:J,o:J,d(n){n&&_(e)}}}function Zs(i){let e,l;return e=new Be({}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Js(i){let e;return{c(){e=Y("Go to concept")},l(l){e=Q(l,"Go to concept")},m(l,t){V(l,e,t)},d(l){l&&_(e)}}}function Xs(i){let e,l,t,n;const o=[Zs,Ks,Gs],r=[];function s(a,f){var c,m,u;return(c=a[10])!=null&&c.isLoading?0:(m=a[10])!=null&&m.isError?1:(u=a[10])!=null&&u.isSuccess?2:-1}return~(e=s(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=oe()},l(a){l&&l.l(a),t=oe()},m(a,f){~e&&r[e].m(a,f),V(a,t,f),n=!0},p(a,f){let c=e;e=s(a),e===c?~e&&r[e].p(a,f):(l&&(ne(),w(r[c],1,1,()=>{r[c]=null}),ie()),~e?(l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),g(l,1),l.m(t.parentNode,t)):l=null)},i(a){n||(g(l),n=!0)},o(a){w(l),n=!1},d(a){~e&&r[e].d(a),a&&_(t)}}}function xs(i){let e,l,t,n,o,r,s,a,f,c,m,u,d,h,p,k,$,b,S,N,T,C,M=i[13].length>0&&qs(i),Z=i[0]&&i[1]&&Tl(i);c=new Jn({props:{noLabel:!0,size:"sm",class:"w-80",selected:i[5],$$slots:{default:[js]},$$scope:{ctx:i}}}),c.$on("update",i[16]);let X=i[6]!=null&&zl(i);const R=[Ws,Qs,Ys],F=[];function ee(K,L){var W,le,q;return((W=K[4])==null?void 0:W.order)==null?0:((le=K[4])==null?void 0:le.order)==="ASC"?1:((q=K[4])==null?void 0:q.order)==="DESC"?2:-1}~(h=ee(i))&&(p=F[h]=R[h](i));let O=i[2]&&Fl(i);return{c(){e=I("div"),M&&M.c(),l=U(),t=I("div"),n=I("div"),Z&&Z.c(),o=U(),r=I("div"),s=I("div"),a=Y("Sort by"),f=U(),P(c.$$.fragment),m=U(),X&&X.c(),u=U(),d=I("button"),p&&p.c(),b=U(),O&&O.c(),S=oe(),this.h()},l(K){e=D(K,"DIV",{class:!0});var L=E(e);M&&M.l(L),l=j(L),t=D(L,"DIV",{class:!0});var W=E(t);n=D(W,"DIV",{class:!0});var le=E(n);Z&&Z.l(le),le.forEach(_),o=j(W),r=D(W,"DIV",{class:!0});var q=E(r);s=D(q,"DIV",{class:!0});var te=E(s);a=Q(te,"Sort by"),te.forEach(_),f=j(q),H(c.$$.fragment,q),m=j(q),X&&X.l(q),u=j(q),d=D(q,"BUTTON",{});var pe=E(d);p&&p.l(pe),pe.forEach(_),q.forEach(_),W.forEach(_),L.forEach(_),b=j(K),O&&O.l(K),S=oe(),this.h()},h(){y(n,"class","py-1"),y(s,"class","mr-1"),d.disabled=k=i[4]==null,y(r,"class","sort-container flex flex-row items-center gap-x-1"),y(t,"class","flex w-full flex-row items-center justify-between"),y(e,"class","mx-5 my-2 flex flex-col gap-y-2")},m(K,L){var W;V(K,e,L),M&&M.m(e,null),v(e,l),v(e,t),v(t,n),Z&&Z.m(n,null),v(t,o),v(t,r),v(r,s),v(s,a),v(r,f),A(c,r,null),v(r,m),X&&X.m(r,null),v(r,u),v(r,d),~h&&F[h].m(d,null),V(K,b,L),O&&O.m(K,L),V(K,S,L),N=!0,T||(C=[ye($=Ie.call(null,d,{text:((W=i[4])==null?void 0:W.order)==="ASC"?"Sorted ascending. Toggle to switch to descending.":"Sorted descending. Toggle to switch to ascending."})),ze(d,"click",i[17])],T=!0)},p(K,L){var q;K[13].length>0&&M.p(K,L),K[0]&&K[1]?Z?Z.p(K,L):(Z=Tl(K),Z.c(),Z.m(n,null)):Z&&(Z.d(1),Z=null);const W={};L[0]&32&&(W.selected=K[5]),L[0]&128|L[1]&2048&&(W.$$scope={dirty:L,ctx:K}),c.$set(W),K[6]!=null?X?(X.p(K,L),L[0]&64&&g(X,1)):(X=zl(K),X.c(),g(X,1),X.m(r,u)):X&&(ne(),w(X,1,1,()=>{X=null}),ie());let le=h;h=ee(K),h!==le&&(p&&(ne(),w(F[le],1,1,()=>{F[le]=null}),ie()),~h?(p=F[h],p||(p=F[h]=R[h](K),p.c()),g(p,1),p.m(d,null)):p=null),(!N||L[0]&16&&k!==(k=K[4]==null))&&(d.disabled=k),$&&Le($.update)&&L[0]&16&&$.update.call(null,{text:((q=K[4])==null?void 0:q.order)==="ASC"?"Sorted ascending. Toggle to switch to descending.":"Sorted descending. Toggle to switch to ascending."}),K[2]?O?(O.p(K,L),L[0]&4&&g(O,1)):(O=Fl(K),O.c(),g(O,1),O.m(S.parentNode,S)):O&&(ne(),w(O,1,1,()=>{O=null}),ie())},i(K){N||(g(M),g(c.$$.fragment,K),g(X),g(p),g(O),N=!0)},o(K){w(M),w(c.$$.fragment,K),w(X),w(p),w(O),N=!1},d(K){K&&_(e),M&&M.d(),Z&&Z.d(),B(c),X&&X.d(),~h&&F[h].d(),K&&_(b),O&&O.d(K),K&&_(S),T=!1,xe(C)}}}function ea(i,e,l){let t,n,o,r,s,a,f,c,m,u,d,h=J,p=()=>(h(),h=Ne(t,L=>l(10,d=L)),t);i.$$.on_destroy.push(()=>h());let{totalNumRows:k}=e,{manifest:$}=e,b=Ue();ke(i,b,L=>l(22,u=L));let S=Ke();ke(i,S,L=>l(21,m=L));let N=null;const T=["keyword","semantic","concept"],C={keyword:"Keyword",semantic:"Semantic",concept:"Concepts"};let M={};function Z(L){L.type==="concept"&&l(2,N={namespace:L.concept_namespace,name:L.concept_name})}let X={};const R=L=>{const W=L.detail;W!==s&&b.setSortBy(W===""?null:Nt(W))},F=()=>{r!=null&&b.setSortBy(r.path),b.setSortOrder((r==null?void 0:r.order)==="ASC"?"DESC":"ASC")},ee=()=>{b.clearSorts()},O=L=>Z(L),K=()=>l(2,N=null);return i.$$set=L=>{"totalNumRows"in L&&l(0,k=L.totalNumRows),"manifest"in L&&l(1,$=L.manifest)},i.$$.update=()=>{var L,W,le,q;if(i.$$.dirty[0]&4&&p(l(9,t=N?Xn(N.namespace,N.name):void 0)),i.$$.dirty[0]&4194304&&l(20,n=Tt(u)),i.$$.dirty[0]&4194304&&l(8,o=u.query.filters),i.$$.dirty[0]&1048584){l(3,M={});for(const te of n)te.type&&(te.type in M||l(3,M[te.type]=[],M),M[te.type].push(te))}if(i.$$.dirty[0]&2097152&&l(4,r=Ri(m)),i.$$.dirty[0]&2097152)for(const te of((W=(L=m.selectRowsSchema)==null?void 0:L.data)==null?void 0:W.search_results)||[])X[Me(te.result_path)]=te;i.$$.dirty[0]&16&&l(5,s=r!=null&&r.path?Me(r.path):""),i.$$.dirty[0]&4194304&&l(6,a=u.query.sort_by),i.$$.dirty[0]&2097248&&l(19,f=((q=(le=m.selectRowsSchema)==null?void 0:le.data)==null?void 0:q.schema)!=null?[{path:[""],text:"None",disabled:a==null&&s!==""},...Ct(m.selectRowsSchema.data.schema).filter(te=>te.dtype!="embedding"&&te.dtype!="string_span").map(te=>({path:te.path,text:ft(te.path.slice(1)),disabled:!1}))]:[]),i.$$.dirty[0]&524288&&l(7,c=f.reduce((te,pe)=>{const ce=pe.path[0];return(te[ce]=te[ce]||[]).push(pe),te},{}))},[k,$,N,M,r,s,a,c,o,t,d,b,S,T,C,Z,R,F,ee,f,n,m,u,O,K]}class ta extends ve{constructor(e){super(),we(this,e,ea,xs,be,{totalNumRows:0,manifest:1},null,[-1,-1])}}function Pl(i,e,l){const t=i.slice();t[14]=e[l];const n=gt.value(t[14]);return t[15]=n,t}function $t(i){var n,o,r;const e=i.slice(),l=gt.path(e[14])||[];e[1]=l;const t=((r=(o=(n=e[7].data)==null?void 0:n.ui)==null?void 0:o.markdown_paths)==null?void 0:r.find(function(...a){return i[13](e[1],...a)}))!=null;return e[18]=t,e}function Al(i){let e,l,t,n=Me(i[1])+"",o,r,s,a,f,c;return a=new _i({props:{text:$e(i[15]),row:i[0],path:i[1],markdown:i[18],spanPaths:i[5].spanPaths,valuePaths:i[5].valuePaths,datasetViewStore:i[8],datasetStore:i[2],embeddings:i[6]}}),{c(){e=I("div"),l=I("div"),t=I("div"),o=Y(n),r=U(),s=I("div"),P(a.$$.fragment),f=U(),this.h()},l(m){e=D(m,"DIV",{class:!0});var u=E(e);l=D(u,"DIV",{class:!0});var d=E(l);t=D(d,"DIV",{class:!0});var h=E(t);o=Q(h,n),h.forEach(_),r=j(d),s=D(d,"DIV",{class:!0});var p=E(s);H(a.$$.fragment,p),p.forEach(_),d.forEach(_),f=j(u),u.forEach(_),this.h()},h(){y(t,"class","sticky top-0 z-10 w-full self-start border-t border-neutral-200 bg-neutral-100 px-2 py-2 pb-2 font-mono font-medium text-neutral-500"),y(s,"class","mx-4 font-normal"),y(l,"class","flex w-full flex-col"),y(e,"class","flex flex-row")},m(m,u){V(m,e,u),v(e,l),v(l,t),v(t,o),v(l,r),v(l,s),A(a,s,null),v(e,f),c=!0},p(m,u){(!c||u&8)&&n!==(n=Me(m[1])+"")&&fe(o,n);const d={};u&8&&(d.text=$e(m[15])),u&1&&(d.row=m[0]),u&8&&(d.path=m[1]),u&136&&(d.markdown=m[18]),u&32&&(d.spanPaths=m[5].spanPaths),u&32&&(d.valuePaths=m[5].valuePaths),u&4&&(d.datasetStore=m[2]),u&64&&(d.embeddings=m[6]),a.$set(d)},i(m){c||(g(a.$$.fragment,m),c=!0)},o(m){w(a.$$.fragment,m),c=!1},d(m){m&&_(e),B(a)}}}function Bl(i){let e=Gt(i[15]),l,t,n=e&&Al($t(i));return{c(){n&&n.c(),l=oe()},l(o){n&&n.l(o),l=oe()},m(o,r){n&&n.m(o,r),V(o,l,r),t=!0},p(o,r){r&8&&(e=Gt(o[15])),e?n?(n.p($t(o),r),r&8&&g(n,1)):(n=Al($t(o)),n.c(),g(n,1),n.m(l.parentNode,l)):n&&(ne(),w(n,1,1,()=>{n=null}),ie())},i(o){t||(g(n),t=!0)},o(o){w(n),t=!1},d(o){n&&n.d(o),o&&_(l)}}}function la(i){let e,l,t=i[3],n=[];for(let r=0;r<t.length;r+=1)n[r]=Bl(Pl(i,t,r));const o=r=>w(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=oe()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=oe()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);V(r,e,s),l=!0},p(r,[s]){if(s&493){t=r[3];let a;for(a=0;a<t.length;a+=1){const f=Pl(r,t,a);n[a]?(n[a].p(f,s),g(n[a],1)):(n[a]=Bl(f),n[a].c(),g(n[a],1),n[a].m(e.parentNode,e))}for(ne(),a=t.length;a<n.length;a+=1)o(a);ie()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)g(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)w(n[s]);l=!1},d(r){Pe(n,r),r&&_(e)}}}function na(i,e,l){let t,n,o,r,s,a,f,c=J,m=()=>(c(),c=Ne(o,S=>l(7,f=S)),o);i.$$.on_destroy.push(()=>c());let{path:u}=e,{row:d}=e,{field:h}=e,{highlightedFields:p}=e;const k=Ue();ke(i,k,S=>l(12,s=S));const $=Ke();ke(i,$,S=>l(2,a=S));const b=(S,N)=>Xe(N,S);return i.$$set=S=>{"path"in S&&l(1,u=S.path),"row"in S&&l(0,d=S.row),"field"in S&&l(10,h=S.field),"highlightedFields"in S&&l(11,p=S.highlightedFields)},i.$$.update=()=>{i.$$.dirty&6&&l(6,t=_t(a.schema,u)),i.$$.dirty&3072&&l(5,n=ti(h,p)),i.$$.dirty&4096&&m(l(4,o=at(s.namespace,s.datasetName))),i.$$.dirty&3&&l(3,r=Li(d,u))},[d,u,a,r,o,n,t,f,k,$,h,p,s,b]}class ia extends ve{constructor(e){super(),we(this,e,na,la,be,{path:1,row:0,field:10,highlightedFields:11})}}function Rl(i,e,l){const t=i.slice();return t[8]=e[l],t[10]=l,t}function Hl(i){let e,l=[],t=new Map,n,o,r=i[1];const s=a=>Me(a[8].path);for(let a=0;a<r.length;a+=1){let f=Rl(i,r,a),c=s(f);t.set(c,l[a]=Ol(c,f))}return{c(){e=I("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=D(a,"DIV",{class:!0});var f=E(e);for(let c=0;c<l.length;c+=1)l[c].l(f);f.forEach(_),this.h()},h(){y(e,"class","w-2/3 overflow-hidden"),Dt(()=>i[7].call(e))},m(a,f){V(a,e,f);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null);n=Ti(e,i[7].bind(e)),o=!0},p(a,f){f&7&&(r=a[1],ne(),l=yt(l,f,s,1,a,r,t,e,It,Ol,null,Rl),ie())},i(a){if(!o){for(let f=0;f<r.length;f+=1)g(l[f]);o=!0}},o(a){for(let f=0;f<l.length;f+=1)w(l[f]);o=!1},d(a){a&&_(e);for(let f=0;f<l.length;f+=1)l[f].d();n()}}}function Ol(i,e){let l,t,n,o;return t=new ia({props:{row:e[0],path:e[8].path,field:e[8],highlightedFields:e[2]}}),{key:i,first:null,c(){l=I("div"),P(t.$$.fragment),n=U(),this.h()},l(r){l=D(r,"DIV",{class:!0});var s=E(l);H(t.$$.fragment,s),n=j(s),s.forEach(_),this.h()},h(){y(l,"class","border-gray-100"),ue(l,"border-b",e[10]<e[1].length-1),this.first=l},m(r,s){V(r,l,s),A(t,l,null),v(l,n),o=!0},p(r,s){e=r;const a={};s&1&&(a.row=e[0]),s&2&&(a.path=e[8].path),s&2&&(a.field=e[8]),s&4&&(a.highlightedFields=e[2]),t.$set(a),(!o||s&2)&&ue(l,"border-b",e[10]<e[1].length-1)},i(r){o||(g(t.$$.fragment,r),o=!0)},o(r){w(t.$$.fragment,r),o=!1},d(r){r&&_(l),B(t)}}}function ra(i){let e,l,t,n,o,r,s,a,f,c=i[1].length>0&&Hl(i);return s=new Cr({props:{row:i[0],selectRowsSchema:i[4],highlightedFields:i[2]}}),{c(){e=I("div"),l=I("div"),c&&c.c(),t=U(),n=I("div"),o=I("div"),r=I("div"),P(s.$$.fragment),this.h()},l(m){e=D(m,"DIV",{class:!0});var u=E(e);l=D(u,"DIV",{class:!0});var d=E(l);c&&c.l(d),t=j(d),n=D(d,"DIV",{class:!0});var h=E(n);o=D(h,"DIV",{class:!0});var p=E(o);r=D(p,"DIV",{style:!0,class:!0});var k=E(r);H(s.$$.fragment,k),k.forEach(_),p.forEach(_),h.forEach(_),d.forEach(_),u.forEach(_),this.h()},h(){y(r,"style",a=`max-height: ${Math.max(Ll,i[3])}px`),y(r,"class","overflow-y-auto py-2"),y(o,"class","sticky top-0 w-full self-start"),y(n,"class","flex h-full w-1/3 bg-neutral-100"),y(l,"class","flex h-full w-full flex-row"),y(e,"class","rounded border-x border-b border-neutral-200 shadow-md")},m(m,u){V(m,e,u),v(e,l),c&&c.m(l,null),v(l,t),v(l,n),v(n,o),v(o,r),A(s,r,null),f=!0},p(m,[u]){m[1].length>0?c?(c.p(m,u),u&2&&g(c,1)):(c=Hl(m),c.c(),g(c,1),c.m(l,t)):c&&(ne(),w(c,1,1,()=>{c=null}),ie());const d={};u&1&&(d.row=m[0]),u&16&&(d.selectRowsSchema=m[4]),u&4&&(d.highlightedFields=m[2]),s.$set(d),(!f||u&8&&a!==(a=`max-height: ${Math.max(Ll,m[3])}px`))&&y(r,"style",a)},i(m){f||(g(c),g(s.$$.fragment,m),f=!0)},o(m){w(c),w(s.$$.fragment,m),f=!1},d(m){m&&_(e),c&&c.d(),B(s)}}}const Ll=320;function sa(i,e,l){let t,n,{row:o}=e,{mediaFields:r}=e,{highlightedFields:s}=e;const a=Ke();ke(i,a,m=>l(6,n=m));let f=0;function c(){f=this.clientHeight,l(3,f)}return i.$$set=m=>{"row"in m&&l(0,o=m.row),"mediaFields"in m&&l(1,r=m.mediaFields),"highlightedFields"in m&&l(2,s=m.highlightedFields)},i.$$.update=()=>{var m;i.$$.dirty&64&&l(4,t=(m=n.selectRowsSchema)==null?void 0:m.data)},[o,r,s,f,t,a,n,c]}class aa extends ve{constructor(e){super(),we(this,e,sa,ra,be,{row:0,mediaFields:1,highlightedFields:2})}}function ql(i,e,l){const t=i.slice();return t[22]=e[l],t}function oa(i){let e,l;return{c(){e=I("div"),l=Y("No results."),this.h()},l(t){e=D(t,"DIV",{class:!0});var n=E(e);l=Q(n,"No results."),n.forEach(_),this.h()},h(){y(e,"class","mx-4 mt-8 w-full text-gray-600")},m(t,n){V(t,e,n),v(e,l)},p:J,i:J,o:J,d(t){t&&_(e)}}}function fa(i){let e,l;return e=new Be({props:{paragraph:!0,lines:3}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function ca(i){var t,n;let e,l;return e=new li({props:{lowContrast:!0,title:"Could not fetch schema:",subtitle:((t=i[1].error.body)==null?void 0:t.detail)||((n=i[1])==null?void 0:n.error.message)}}),{c(){P(e.$$.fragment)},l(o){H(e.$$.fragment,o)},m(o,r){A(e,o,r),l=!0},p(o,r){var a,f;const s={};r&2&&(s.subtitle=((a=o[1].error.body)==null?void 0:a.detail)||((f=o[1])==null?void 0:f.error.message)),e.$set(s)},i(o){l||(g(e.$$.fragment,o),l=!0)},o(o){w(e.$$.fragment,o),l=!1},d(o){B(e,o)}}}function ua(i){var t;let e,l;return e=new li({props:{lowContrast:!0,title:"Could not fetch rows:",subtitle:((t=i[3].error.body)==null?void 0:t.detail)||i[3].error.message}}),{c(){P(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,o){A(e,n,o),l=!0},p(n,o){var s;const r={};o&8&&(r.subtitle=((s=n[3].error.body)==null?void 0:s.detail)||n[3].error.message),e.$set(r)},i(n){l||(g(e.$$.fragment,n),l=!0)},o(n){w(e.$$.fragment,n),l=!1},d(n){B(e,n)}}}function Ul(i){let e,l,t,n=i[5],o=[];for(let a=0;a<n.length;a+=1)o[a]=jl(ql(i,n,a));const r=a=>w(o[a],1,1,()=>{o[a]=null});let s=i[5].length>0&&Yl(i);return{c(){e=I("div");for(let a=0;a<o.length;a+=1)o[a].c();l=U(),s&&s.c(),this.h()},l(a){e=D(a,"DIV",{class:!0});var f=E(e);for(let c=0;c<o.length;c+=1)o[c].l(f);l=j(f),s&&s.l(f),f.forEach(_),this.h()},h(){y(e,"class","flex h-full w-full flex-col gap-y-10 overflow-y-scroll px-5 pb-32")},m(a,f){V(a,e,f);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);v(e,l),s&&s.m(e,null),i[20](e),t=!0},p(a,f){if(f&304){n=a[5];let c;for(c=0;c<n.length;c+=1){const m=ql(a,n,c);o[c]?(o[c].p(m,f),g(o[c],1)):(o[c]=jl(m),o[c].c(),g(o[c],1),o[c].m(e,l))}for(ne(),c=n.length;c<o.length;c+=1)r(c);ie()}a[5].length>0?s?(s.p(a,f),f&32&&g(s,1)):(s=Yl(a),s.c(),g(s,1),s.m(e,null)):s&&(ne(),w(s,1,1,()=>{s=null}),ie())},i(a){if(!t){for(let f=0;f<n.length;f+=1)g(o[f]);g(s),t=!0}},o(a){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)w(o[f]);w(s),t=!1},d(a){a&&_(e),Pe(o,a),s&&s.d(),i[20](null)}}}function jl(i){let e,l;return e=new aa({props:{row:i[22],mediaFields:i[4],highlightedFields:i[8]}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n&32&&(o.row=t[22]),n&16&&(o.mediaFields=t[4]),n&256&&(o.highlightedFields=t[8]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Yl(i){let e,l;return e=new Ds({props:{threshold:100}}),e.$on("loadMore",i[19]),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function da(i){let e,l,t,n,o,r,s;e=new ta({props:{totalNumRows:i[6],manifest:i[12].data}});const a=[ua,ca,fa,oa],f=[];function c(u,d){var h,p,k,$;return u[3].isError?0:(h=u[1])!=null&&h.isError?1:(p=u[3])!=null&&p.isFetching||u[13].isFetching||(k=u[1])!=null&&k.isFetching||u[2].isFetching?2:($=u[3])!=null&&$.isSuccess&&u[5]&&u[5].length===0?3:-1}~(t=c(i))&&(n=f[t]=a[t](i));let m=i[5]&&i[13].isSuccess&&i[4]!=null&&Ul(i);return{c(){P(e.$$.fragment),l=U(),n&&n.c(),o=U(),m&&m.c(),r=oe()},l(u){H(e.$$.fragment,u),l=j(u),n&&n.l(u),o=j(u),m&&m.l(u),r=oe()},m(u,d){A(e,u,d),V(u,l,d),~t&&f[t].m(u,d),V(u,o,d),m&&m.m(u,d),V(u,r,d),s=!0},p(u,[d]){const h={};d&64&&(h.totalNumRows=u[6]),d&4096&&(h.manifest=u[12].data),e.$set(h);let p=t;t=c(u),t===p?~t&&f[t].p(u,d):(n&&(ne(),w(f[p],1,1,()=>{f[p]=null}),ie()),~t?(n=f[t],n?n.p(u,d):(n=f[t]=a[t](u),n.c()),g(n,1),n.m(o.parentNode,o)):n=null),u[5]&&u[13].isSuccess&&u[4]!=null?m?(m.p(u,d),d&8240&&g(m,1)):(m=Ul(u),m.c(),g(m,1),m.m(r.parentNode,r)):m&&(ne(),w(m,1,1,()=>{m=null}),ie())},i(u){s||(g(e.$$.fragment,u),g(n),g(m),s=!0)},o(u){w(e.$$.fragment,u),w(n),w(m),s=!1},d(u){B(e,u),u&&_(l),~t&&f[t].d(u),u&&_(o),m&&m.d(u),u&&_(r)}}}function ma(i,e,l){let t,n,o,r,s,a,f,c,m,u,d,h=J,p=()=>(h(),h=Ne(r,le=>l(2,d=le)),r),k,$,b=J,S=()=>(b(),b=Ne(f,le=>l(3,$=le)),f),N,T,C=J,M=()=>(C(),C=Ne(t,le=>l(12,T=le)),t),Z,X=J,R=()=>(X(),X=Ne(n,le=>l(13,Z=le)),n);i.$$.on_destroy.push(()=>h()),i.$$.on_destroy.push(()=>b()),i.$$.on_destroy.push(()=>C()),i.$$.on_destroy.push(()=>X());const F=Ue();ke(i,F,le=>l(18,N=le));const ee=Ke();ke(i,ee,le=>l(17,k=le));let O=null;const K=Sr(O),L=()=>$==null?void 0:$.fetchNextPage();function W(le){Oe[le?"unshift":"push"](()=>{O=le,l(0,O)})}return i.$$.update=()=>{var le,q,te,pe;i.$$.dirty&262144&&M(l(11,t=qi(N.namespace,N.datasetName))),i.$$.dirty&262144&&R(l(10,n=zt(N.namespace,N.datasetName))),i.$$.dirty&262144&&l(16,o=Ui(N)),i.$$.dirty&262144&&p(l(9,r=at(N.namespace,N.datasetName))),i.$$.dirty&131072&&l(1,s=k.selectRowsSchema),i.$$.dirty&262146&&l(8,a=ji(N.query,s==null?void 0:s.data)),i.$$.dirty&327682&&S(l(7,f=Yi(N.namespace,N.datasetName,o||{},s!=null&&s.isSuccess?s.data.schema:void 0))),i.$$.dirty&8&&l(6,c=(le=$.data)==null?void 0:le.pages[0].total_num_rows),i.$$.dirty&8&&l(5,m=(q=$.data)==null?void 0:q.pages.flatMap(ce=>ce.rows)),i.$$.dirty&131076&&l(4,u=d.data?Qi((pe=(te=k.selectRowsSchema)==null?void 0:te.data)==null?void 0:pe.schema,d.data):[]),i.$$.dirty&1&&K.set(O)},Ci(Wi,K),[O,s,d,$,u,m,c,f,a,r,n,t,T,Z,F,ee,o,k,N,L,W]}class ha extends ve{constructor(e){super(),we(this,e,ma,da,be,{})}}function Ql(i){const e=i[3].find(function(...o){return i[38](i[48],...o)});i[49]=e;const l=i[49]!=null&&typeof i[49].id=="object"&&i[49].id.type==="field"&&i[49].id.isSignal;i[50]=l;const t=i[49]!=null&&typeof i[49].id=="object"&&i[49].id.type==="concept";i[51]=t}function Wl(i){const e=i[5].find(function(...t){return i[37](i[49],...t)});i[52]=e}function Gl(i){let e,l=i[52].text+"",t,n,o,r,s=i[52].embeddings.length>0&&Kl(i);return{c(){e=I("div"),t=Y(l),n=U(),s&&s.c(),o=oe(),this.h()},l(a){e=D(a,"DIV",{class:!0});var f=E(e);t=Q(f,l),f.forEach(_),n=j(a),s&&s.l(a),o=oe(),this.h()},h(){y(e,"class","w-full flex-grow truncate")},m(a,f){V(a,e,f),v(e,t),V(a,n,f),s&&s.m(a,f),V(a,o,f),r=!0},p(a,f){(!r||f[0]&32|f[1]&262144)&&l!==(l=a[52].text+"")&&fe(t,l),a[52].embeddings.length>0?s?(s.p(a,f),f[0]&32|f[1]&262144&&g(s,1)):(s=Kl(a),s.c(),g(s,1),s.m(o.parentNode,o)):s&&(ne(),w(s,1,1,()=>{s=null}),ie())},i(a){r||(g(s),r=!0)},o(a){w(s),r=!1},d(a){a&&_(e),a&&_(n),s&&s.d(a),a&&_(o)}}}function Kl(i){let e,l,t,n,o,r;return l=new Ye({props:{$$slots:{default:[_a]},$$scope:{ctx:i}}}),{c(){e=I("div"),P(l.$$.fragment)},l(s){e=D(s,"DIV",{});var a=E(e);H(l.$$.fragment,a),a.forEach(_)},m(s,a){V(s,e,a),A(l,e,null),n=!0,o||(r=ye(t=Ie.call(null,e,{text:`Computed embeddings: ${i[52].embeddings.join(", ")}`})),o=!0)},p(s,a){i=s;const f={};a[1]&4194304&&(f.$$scope={dirty:a,ctx:i}),l.$set(f),t&&Le(t.update)&&a[0]&32|a[1]&262144&&t.update.call(null,{text:`Computed embeddings: ${i[52].embeddings.join(", ")}`})},i(s){n||(g(l.$$.fragment,s),n=!0)},o(s){w(l.$$.fragment,s),n=!1},d(s){s&&_(e),B(l),o=!1,r()}}}function _a(i){let e,l;return e=new er({}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function ga(i){Wl(i);let e,l,t=i[52]&&Gl(i);return{c(){e=I("div"),t&&t.c(),this.h()},l(n){e=D(n,"DIV",{class:!0});var o=E(e);t&&t.l(o),o.forEach(_),this.h()},h(){y(e,"class","flex h-full w-full items-center justify-between gap-x-1")},m(n,o){V(n,e,o),t&&t.m(e,null),l=!0},p(n,o){Wl(n),n[52]?t?(t.p(n,o),o[0]&32|o[1]&262144&&g(t,1)):(t=Gl(n),t.c(),g(t,1),t.m(e,null)):t&&(ne(),w(t,1,1,()=>{t=null}),ie())},i(n){l||(g(t),l=!0)},o(n){w(t),l=!1},d(n){n&&_(e),t&&t.d()}}}function pa(i){let e,l,t=i[49].text+"",n,o,r=i[49].description&&Zl(i);return{c(){e=I("div"),l=I("div"),n=Y(t),o=U(),r&&r.c(),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=E(e);l=D(a,"DIV",{});var f=E(l);n=Q(f,t),f.forEach(_),o=j(a),r&&r.l(a),a.forEach(_),this.h()},h(){y(e,"class","flex justify-between gap-x-8"),ue(e,"isSignal",i[50]),ue(e,"isConcept",i[51])},m(s,a){V(s,e,a),v(e,l),v(l,n),v(e,o),r&&r.m(e,null)},p(s,a){a[0]&8|a[1]&131072&&t!==(t=s[49].text+"")&&fe(n,t),s[49].description?r?r.p(s,a):(r=Zl(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null),a[0]&8|a[1]&131072&&ue(e,"isSignal",s[50]),a[0]&8|a[1]&131072&&ue(e,"isConcept",s[51])},i:J,o:J,d(s){s&&_(e),r&&r.d()}}}function ba(i){let e,l,t,n,o,r;return l=new Ye({props:{$$slots:{default:[Ea]},$$scope:{ctx:i}}}),{c(){e=I("div"),P(l.$$.fragment),t=U(),n=I("div"),o=Y("Compute embeddings to enable concept search."),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=E(e);H(l.$$.fragment,a),t=j(a),n=D(a,"DIV",{class:!0});var f=E(n);o=Q(f,"Compute embeddings to enable concept search."),f.forEach(_),a.forEach(_),this.h()},h(){y(n,"class","ml-2"),y(e,"class","new-concept flex items-center")},m(s,a){V(s,e,a),A(l,e,null),v(e,t),v(e,n),v(n,o),r=!0},p(s,a){const f={};a[1]&4194304&&(f.$$scope={dirty:a,ctx:s}),l.$set(f)},i(s){r||(g(l.$$.fragment,s),r=!0)},o(s){w(l.$$.fragment,s),r=!1},d(s){s&&_(e),B(l)}}}function va(i){let e,l,t,n,o,r,s;return l=new Ye({props:{$$slots:{default:[Sa]},$$scope:{ctx:i}}}),{c(){e=I("div"),P(l.$$.fragment),t=U(),n=I("div"),o=Y(`Semantic search:
              `),r=Y(i[1]),this.h()},l(a){e=D(a,"DIV",{class:!0});var f=E(e);H(l.$$.fragment,f),t=j(f),n=D(f,"DIV",{class:!0});var c=E(n);o=Q(c,`Semantic search:
              `),r=Q(c,i[1]),c.forEach(_),f.forEach(_),this.h()},h(){y(n,"class","ml-2"),y(e,"class","new-keyword flex flex-row items-center justify-items-center")},m(a,f){V(a,e,f),A(l,e,null),v(e,t),v(e,n),v(n,o),v(n,r),s=!0},p(a,f){const c={};f[1]&4194304&&(c.$$scope={dirty:f,ctx:a}),l.$set(c),(!s||f[0]&2)&&fe(r,a[1])},i(a){s||(g(l.$$.fragment,a),s=!0)},o(a){w(l.$$.fragment,a),s=!1},d(a){a&&_(e),B(l)}}}function wa(i){let e,l,t,n,o,r,s;return l=new Ye({props:{$$slots:{default:[ya]},$$scope:{ctx:i}}}),{c(){e=I("div"),P(l.$$.fragment),t=U(),n=I("div"),o=Y(`Keyword search:
              `),r=Y(i[1]),this.h()},l(a){e=D(a,"DIV",{class:!0});var f=E(e);H(l.$$.fragment,f),t=j(f),n=D(f,"DIV",{class:!0});var c=E(n);o=Q(c,`Keyword search:
              `),r=Q(c,i[1]),c.forEach(_),f.forEach(_),this.h()},h(){y(n,"class","ml-2"),y(e,"class","new-keyword flex flex-row items-center justify-items-center")},m(a,f){V(a,e,f),A(l,e,null),v(e,t),v(e,n),v(n,o),v(n,r),s=!0},p(a,f){const c={};f[1]&4194304&&(c.$$scope={dirty:f,ctx:a}),l.$set(c),(!s||f[0]&2)&&fe(r,a[1])},i(a){s||(g(l.$$.fragment,a),s=!0)},o(a){w(l.$$.fragment,a),s=!1},d(a){a&&_(e),B(l)}}}function ka(i){let e,l,t,n,o,r=i[1]!=""?":":"",s,a,f,c;return l=new Ye({props:{$$slots:{default:[Ia]},$$scope:{ctx:i}}}),{c(){e=I("div"),P(l.$$.fragment),t=U(),n=I("div"),o=Y("New concept"),s=Y(r),a=U(),f=Y(i[1]),this.h()},l(m){e=D(m,"DIV",{class:!0});var u=E(e);H(l.$$.fragment,u),t=j(u),n=D(u,"DIV",{class:!0});var d=E(n);o=Q(d,"New concept"),s=Q(d,r),a=j(d),f=Q(d,i[1]),d.forEach(_),u.forEach(_),this.h()},h(){y(n,"class","ml-2"),y(e,"class","new-concept flex flex-row items-center justify-items-center")},m(m,u){V(m,e,u),A(l,e,null),v(e,t),v(e,n),v(n,o),v(n,s),v(n,a),v(n,f),c=!0},p(m,u){const d={};u[1]&4194304&&(d.$$scope={dirty:u,ctx:m}),l.$set(d),(!c||u[0]&2)&&r!==(r=m[1]!=""?":":"")&&fe(s,r),(!c||u[0]&2)&&fe(f,m[1])},i(m){c||(g(l.$$.fragment,m),c=!0)},o(m){w(l.$$.fragment,m),c=!1},d(m){m&&_(e),B(l)}}}function $a(i){let e;return{c(){e=I("div")},l(l){e=D(l,"DIV",{}),E(e).forEach(_)},m(l,t){V(l,e,t)},p:J,i:J,o:J,d(l){l&&_(e)}}}function Zl(i){let e,l=i[49].description+"",t;return{c(){e=I("div"),t=Y(l),this.h()},l(n){e=D(n,"DIV",{class:!0});var o=E(e);t=Q(o,l),o.forEach(_),this.h()},h(){y(e,"class","truncate text-xs text-gray-500")},m(n,o){V(n,e,o),v(e,t)},p(n,o){o[0]&8|o[1]&131072&&l!==(l=n[49].description+"")&&fe(t,l)},d(n){n&&_(e)}}}function Ea(i){let e,l;return e=new mi({}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Sa(i){let e,l;return e=new bi({}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function ya(i){let e,l;return e=new bi({}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Ia(i){let e,l;return e=new Xr({}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Da(i){Ql(i);let e,l,t,n;const o=[$a,ka,wa,va,ba,pa],r=[];function s(a,f){return a[49]==null?0:a[49].id==="new-concept"?1:a[49].id==="keyword-search"?2:a[49].id==="semantic-search"?3:a[49].id==="compute-embedding"&&a[2]&&a[0]?4:5}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=oe()},l(a){l.l(a),t=oe()},m(a,f){r[e].m(a,f),V(a,t,f),n=!0},p(a,f){Ql(a);let c=e;e=s(a),e===c?r[e].p(a,f):(ne(),w(r[c],1,1,()=>{r[c]=null}),ie(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),g(l,1),l.m(t.parentNode,t))},i(a){n||(g(l),n=!0)},o(a){w(l),n=!1},d(a){r[e].d(a),a&&_(t)}}}function Va(i){var $;let e,l,t,n,o,r,s,a,f,c,m,u,d,h;n=new ds({props:{class:"ml-2 mr-px",size:16}}),s=new Kr({props:{size:"xl",class:"w-48",disabled:i[0]==null,selectedId:i[0]?Me(i[0]):($=i[5][0])==null?void 0:$.id,items:i[5],$$slots:{default:[ga,({item:b})=>({49:b}),({item:b})=>[0,b?262144:0]]},$$scope:{ctx:i}}}),s.$on("select",i[16]);function p(b){i[40](b)}let k={size:"xl",class:"w-full",items:i[3],shouldFilterItem:Na,placeholder:i[6],$$slots:{default:[Da,({item:b})=>({48:b}),({item:b})=>[0,b?131072:0]]},$$scope:{ctx:i}};return i[1]!==void 0&&(k.value=i[1]),c=new Ar({props:k}),i[39](c),Oe.push(()=>We(c,"value",p)),c.$on("select",i[15]),{c(){e=I("div"),l=I("div"),t=I("div"),P(n.$$.fragment),o=U(),r=I("div"),P(s.$$.fragment),a=U(),f=I("div"),P(c.$$.fragment),this.h()},l(b){e=D(b,"DIV",{class:!0});var S=E(e);l=D(S,"DIV",{class:!0});var N=E(l);t=D(N,"DIV",{class:!0});var T=E(t);H(n.$$.fragment,T),T.forEach(_),o=j(N),r=D(N,"DIV",{class:!0});var C=E(r);H(s.$$.fragment,C),C.forEach(_),a=j(N),f=D(N,"DIV",{class:!0});var M=E(f);H(c.$$.fragment,M),M.forEach(_),N.forEach(_),S.forEach(_),this.h()},h(){y(t,"class","search-icon flex items-center svelte-mzi0ww"),y(r,"class","embedding-dropdown rounded border-r border-gray-200"),y(f,"class","search-container w-full flex-grow"),y(l,"class","flex w-full rounded border border-gray-200"),y(e,"class","flex h-full w-full flex-grow items-center")},m(b,S){V(b,e,S),v(e,l),v(l,t),A(n,t,null),v(l,o),v(l,r),A(s,r,null),v(l,a),v(l,f),A(c,f,null),u=!0,d||(h=ye(Ie.call(null,t,{text:"Select the field to search over."})),d=!0)},p(b,S){var C;const N={};S[0]&1&&(N.disabled=b[0]==null),S[0]&33&&(N.selectedId=b[0]?Me(b[0]):(C=b[5][0])==null?void 0:C.id),S[0]&32&&(N.items=b[5]),S[0]&32|S[1]&4456448&&(N.$$scope={dirty:S,ctx:b}),s.$set(N);const T={};S[0]&8&&(T.items=b[3]),S[0]&64&&(T.placeholder=b[6]),S[0]&15|S[1]&4325376&&(T.$$scope={dirty:S,ctx:b}),!m&&S[0]&2&&(m=!0,T.value=b[1],Ge(()=>m=!1)),c.$set(T)},i(b){u||(g(n.$$.fragment,b),g(s.$$.fragment,b),g(c.$$.fragment,b),u=!0)},o(b){w(n.$$.fragment,b),w(s.$$.fragment,b),w(c.$$.fragment,b),u=!1},d(b){b&&_(e),B(n),B(s),i[39](null),B(c),d=!1,h()}}}const Na=(i,e)=>i.text.toLowerCase().includes(e.toLowerCase())||i.id==="new-concept"||i.id==="compute-embedding";function Ta(i,e,l){let t,n,o,r,s,a,f,c,m,u,d,h,p,k,$,b,S,N,T,C,M,Z,X,R=J,F=()=>(R(),R=Ne(t,de=>l(35,X=de)),t),ee;i.$$.on_destroy.push(()=>R());const O=Ue();ke(i,O,de=>l(36,ee=de));const K=Ke();ke(i,K,de=>l(30,S=de));const L=pi();ke(i,L,de=>l(34,Z=de));let W;function le(de,Ve,Qe,je){if(Qe==null||Ve==null||de==null)return[];const tt=Qe?lt(Qe):[],Ae=[];for(const Ce of tt){if(Ce.dtype==null||Ce.dtype==="embedding"||Ce.dtype==="binary"||!ri(Ce.path,de))continue;const He=xi(Ce);if((He==null?void 0:He.signal_name)==="concept_score"||(je==null?void 0:je.some(Di=>Di.name===(He==null?void 0:He.signal_name))))continue;const Ut=Zn(Ce.path),jt=ft(Ce.path.slice(de.length));if(si(Ce.dtype)){Ae.push({id:{type:"field",path:Ce.path,sort:"DESC",isSignal:He!=null},text:jt,description:`Sort descending by ${Ut}`});continue}if(Ce.dtype==="string"||Ce.dtype==="string_span"){if(He==null)continue;Ae.push({id:{type:"field",path:Ce.path,op:"exists",isSignal:He!=null},text:jt,description:`Find documents with ${Ut}`});continue}}return Ae}const q=ni();ke(i,q,de=>l(43,N=de));const te=ii();ke(i,te,de=>l(33,M=de));const pe=(de,Ve)=>`${Me(de||"")}_${Ve}`;let ce={};const ae=Gi();ke(i,ae,de=>l(32,C=de));const x=Ft();ke(i,x,de=>l(31,T=de));let se=[],G="",z;function re(){f!=null&&(l(17,ce[pe(W,f)]=!0,ce),N.mutate([n,o,{leaf_path:Nt(W||[]),signal:{signal_name:f}}]))}let Se;const me=(de,Ve)=>{W==null||f==null||(O.addSearch({path:W,type:"concept",concept_namespace:de,concept_name:Ve,embedding:f}),Se.clear())},Fe=de=>{if(W!=null){if(de.detail.selectedId==="new-concept"){G===z.id&&l(1,G="");const Ve=G.split("/",2);let Qe="",je="";Ve.length===2?[Qe,je]=Ve:[je]=Ve,Ze({command:Je.CreateConcept,namespace:Qe,conceptName:je,dataset:{namespace:n,name:o},path:W,onCreate:tt=>me(tt.detail.namespace,tt.detail.name)})}else if(de.detail.selectedId==="keyword-search"){if(G=="")return;O.addSearch({path:W,type:"keyword",query:G})}else if(de.detail.selectedId=="semantic-search"){if(G==""||f==null)return;O.addSearch({path:W,type:"semantic",query:G,embedding:f})}else if(de.detail.selectedId=="compute-embedding")re();else if(de.detail.selectedId.type==="concept")me(de.detail.selectedId.namespace,de.detail.selectedId.name);else if(de.detail.selectedId.type==="field"){const Ve=de.detail.selectedId;if(Ve.sort!=null)O.setSortBy(Ve.path),O.setSortOrder(Ve.sort);else if(Ve.op!=null)O.addFilter({path:Ve.path,op:Ve.op});else throw new Error(`Unknown search type ${de.detail.selectedId}`)}else throw new Error(`Unknown search type ${de.detail.selectedId}`);Se.clear()}},qe=de=>{l(0,W=de.detail.selectedItem.path)};let et=[];const dt=(de,Ve)=>Ve===de,Si=(de,Ve)=>Ve.id===de.id;function yi(de){Oe[de?"unshift":"push"](()=>{Se=de,l(4,Se)})}function Ii(de){G=de,l(1,G)}return i.$$.update=()=>{var de,Ve,Qe,je,tt;i.$$.dirty[1]&32&&F(l(7,t=at(ee.namespace,ee.datasetName))),i.$$.dirty[1]&32&&(n=ee.namespace),i.$$.dirty[1]&32&&(o=ee.datasetName),i.$$.dirty[1]&16&&l(19,r=(Qe=(Ve=(de=X.data)==null?void 0:de.ui)==null?void 0:Ve.media_paths)==null?void 0:Qe.map(Ae=>Array.isArray(Ae)?Ae:[Ae])),i.$$.dirty[0]&1074266113&&W==null&&r!=null&&l(0,W=Ki(S,r)),i.$$.dirty[0]&1|i.$$.dirty[1]&32&&l(20,s=Tt(ee,W)),i.$$.dirty[0]&1073741825|i.$$.dirty[1]&4&&l(22,a=le(W,S.stats,S.schema,M.data)),i.$$.dirty[0]&1073741825|i.$$.dirty[1]&28&&l(2,f=Zi(X.data,Z,S,W,(M.data||[]).map(Ae=>Ae.name))),i.$$.dirty[0]&1073741825&&l(29,c=_t(S.schema,W)),i.$$.dirty[0]&536870916&&l(24,m=c!=null&&!!c.includes(f||"")),i.$$.dirty[0]&16908293&&l(27,u=!m&&ce[pe(W,f)]),i.$$.dirty[0]&16777216&&l(6,d=m?"Search by keyword, field or concept.":"Search by keyword or field. Compute embedding to enable concept search."),i.$$.dirty[1]&1&&l(28,h=(tt=(je=T.data)==null?void 0:je.user)==null?void 0:tt.id),i.$$.dirty[0]&285212672|i.$$.dirty[1]&2&&l(21,p=m?Ji(C.data||[],h):[]),i.$$.dirty[0]&2&&l(18,z={id:"new-concept",text:G}),i.$$.dirty[0]&2&&l(26,k={id:"keyword-search",text:G}),i.$$.dirty[0]&2&&l(25,$={id:"semantic-search",text:G}),i.$$.dirty[0]&134217728&&l(23,b={id:"compute-embedding",text:"Compute embedding",disabled:u}),i.$$.dirty[0]&133431302|i.$$.dirty[1]&3&&l(3,se=C!=null&&C.data?[...G!=""?[k]:[],...G!=""&&f&&m?[$]:[],...m?[z]:[b],...a,...p.flatMap(Ae=>Ae.concepts.map(Ce=>({id:{namespace:Ce.namespace,name:Ce.name,type:"concept"},text:Xi(Ce.namespace,Ce.name,T.data),description:Ce.metadata.description,disabled:s.some(He=>He.type==="concept"&&He.concept_namespace===Ce.namespace&&He.concept_name===Ce.name)})))]:[]),i.$$.dirty[0]&1074266112&&l(5,et=(r||[]).map(Ae=>({id:Me(Ae),text:ft(Ae),path:Ae,embeddings:_t(S.schema,Ae)})))},[W,G,f,se,Se,et,d,t,O,K,L,q,te,ae,x,Fe,qe,ce,z,r,s,p,a,b,m,$,k,u,h,c,S,T,C,M,Z,X,ee,dt,Si,yi,Ii]}class Ca extends ve{constructor(e){super(),we(this,e,Ta,Va,be,{},null,[-1,-1])}}function Jl(i){let e,l;return e=new zi({props:{light:!0,flipped:!0,$$slots:{default:[Ma]},$$scope:{ctx:i}}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&767|n[1]&1&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Xl(i){let e,l;return e=new nt({props:{text:"Sort by"}}),e.$on("click",i[20]),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function xl(i){let e,l;return e=new nt({props:{text:"Filter"}}),e.$on("click",i[21]),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function en(i){let e,l,t,n,o,r;return l=new nt({props:{disabled:!i[7],text:"Compute embedding"}}),l.$on("click",i[22]),{c(){e=I("div"),P(l.$$.fragment),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=E(e);H(l.$$.fragment,a),a.forEach(_),this.h()},h(){y(e,"class","w-full")},m(s,a){V(s,e,a),A(l,e,null),n=!0,o||(r=ye(t=Ie.call(null,e,{text:i[7]?"":"User does not have access to compute embeddings over this dataset."})),o=!0)},p(s,a){const f={};a[0]&128&&(f.disabled=!s[7]),l.$set(f),t&&Le(t.update)&&a[0]&128&&t.update.call(null,{text:s[7]?"":"User does not have access to compute embeddings over this dataset."})},i(s){n||(g(l.$$.fragment,s),n=!0)},o(s){w(l.$$.fragment,s),n=!1},d(s){s&&_(e),B(l),o=!1,r()}}}function tn(i){let e,l,t,n,o,r;return l=new nt({props:{text:"Compute concept",disabled:!i[7]||i[9].length===0}}),l.$on("click",i[23]),{c(){e=I("div"),P(l.$$.fragment),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=E(e);H(l.$$.fragment,a),a.forEach(_),this.h()},h(){y(e,"class","w-full")},m(s,a){V(s,e,a),A(l,e,null),n=!0,o||(r=ye(t=Ie.call(null,e,{text:i[7]?i[9].length===0?"No embeddings are computed for this field. Compute embeddings before using concepts.":"":"User does not have access to compute concepts over this dataset."})),o=!0)},p(s,a){const f={};a[0]&640&&(f.disabled=!s[7]||s[9].length===0),l.$set(f),t&&Le(t.update)&&a[0]&640&&t.update.call(null,{text:s[7]?s[9].length===0?"No embeddings are computed for this field. Compute embeddings before using concepts.":"":"User does not have access to compute concepts over this dataset."})},i(s){n||(g(l.$$.fragment,s),n=!0)},o(s){w(l.$$.fragment,s),n=!1},d(s){s&&_(e),B(l),o=!1,r()}}}function ln(i){let e,l,t,n,o,r;return l=new nt({props:{text:"Compute signal",disabled:!i[7]}}),l.$on("click",i[24]),{c(){e=I("div"),P(l.$$.fragment),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=E(e);H(l.$$.fragment,a),a.forEach(_),this.h()},h(){y(e,"class","w-full")},m(s,a){V(s,e,a),A(l,e,null),n=!0,o||(r=ye(t=Ie.call(null,e,{text:i[7]?"":"User does not have access to compute signals over this dataset."})),o=!0)},p(s,a){const f={};a[0]&128&&(f.disabled=!s[7]),l.$set(f),t&&Le(t.update)&&a[0]&128&&t.update.call(null,{text:s[7]?"":"User does not have access to compute signals over this dataset."})},i(s){n||(g(l.$$.fragment,s),n=!0)},o(s){w(l.$$.fragment,s),n=!1},d(s){s&&_(e),B(l),o=!1,r()}}}function nn(i){let e,l;return e=new nt({props:{text:"Preview signal"}}),e.$on("click",i[25]),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function rn(i){let e,l,t,n,o,r;return l=new nt({props:{disabled:!i[6],text:"Delete signal"}}),l.$on("click",i[26]),{c(){e=I("div"),P(l.$$.fragment),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=E(e);H(l.$$.fragment,a),a.forEach(_),this.h()},h(){y(e,"class","w-full")},m(s,a){V(s,e,a),A(l,e,null),n=!0,o||(r=ye(t=Ie.call(null,e,{text:i[6]?"":"User does not have access to delete signals for this dataset."})),o=!0)},p(s,a){const f={};a[0]&64&&(f.disabled=!s[6]),l.$set(f),t&&Le(t.update)&&a[0]&64&&t.update.call(null,{text:s[6]?"":"User does not have access to delete signals for this dataset."})},i(s){n||(g(l.$$.fragment,s),n=!0)},o(s){w(l.$$.fragment,s),n=!1},d(s){s&&_(e),B(l),o=!1,r()}}}function Ma(i){let e=pt(i[0]),l,t=St(i[0]),n,o,r,s,a,f,c,m=e&&Xl(i),u=t&&xl(i),d=!i[2]&&en(i),h=!i[2]&&tn(i),p=!i[2]&&ln(i),k=!i[2]&&nn(i),$=i[1]&&rn(i);return{c(){m&&m.c(),l=U(),u&&u.c(),n=U(),d&&d.c(),o=U(),h&&h.c(),r=U(),p&&p.c(),s=U(),k&&k.c(),a=U(),$&&$.c(),f=oe()},l(b){m&&m.l(b),l=j(b),u&&u.l(b),n=j(b),d&&d.l(b),o=j(b),h&&h.l(b),r=j(b),p&&p.l(b),s=j(b),k&&k.l(b),a=j(b),$&&$.l(b),f=oe()},m(b,S){m&&m.m(b,S),V(b,l,S),u&&u.m(b,S),V(b,n,S),d&&d.m(b,S),V(b,o,S),h&&h.m(b,S),V(b,r,S),p&&p.m(b,S),V(b,s,S),k&&k.m(b,S),V(b,a,S),$&&$.m(b,S),V(b,f,S),c=!0},p(b,S){S[0]&1&&(e=pt(b[0])),e?m?(m.p(b,S),S[0]&1&&g(m,1)):(m=Xl(b),m.c(),g(m,1),m.m(l.parentNode,l)):m&&(ne(),w(m,1,1,()=>{m=null}),ie()),S[0]&1&&(t=St(b[0])),t?u?(u.p(b,S),S[0]&1&&g(u,1)):(u=xl(b),u.c(),g(u,1),u.m(n.parentNode,n)):u&&(ne(),w(u,1,1,()=>{u=null}),ie()),b[2]?d&&(ne(),w(d,1,1,()=>{d=null}),ie()):d?(d.p(b,S),S[0]&4&&g(d,1)):(d=en(b),d.c(),g(d,1),d.m(o.parentNode,o)),b[2]?h&&(ne(),w(h,1,1,()=>{h=null}),ie()):h?(h.p(b,S),S[0]&4&&g(h,1)):(h=tn(b),h.c(),g(h,1),h.m(r.parentNode,r)),b[2]?p&&(ne(),w(p,1,1,()=>{p=null}),ie()):p?(p.p(b,S),S[0]&4&&g(p,1)):(p=ln(b),p.c(),g(p,1),p.m(s.parentNode,s)),b[2]?k&&(ne(),w(k,1,1,()=>{k=null}),ie()):k?(k.p(b,S),S[0]&4&&g(k,1)):(k=nn(b),k.c(),g(k,1),k.m(a.parentNode,a)),b[1]?$?($.p(b,S),S[0]&2&&g($,1)):($=rn(b),$.c(),g($,1),$.m(f.parentNode,f)):$&&(ne(),w($,1,1,()=>{$=null}),ie())},i(b){c||(g(m),g(u),g(d),g(h),g(p),g(k),g($),c=!0)},o(b){w(m),w(u),w(d),w(h),w(p),w(k),w($),c=!1},d(b){m&&m.d(b),b&&_(l),u&&u.d(b),b&&_(n),d&&d.d(b),b&&_(o),h&&h.d(b),b&&_(r),p&&p.d(b),b&&_(s),k&&k.d(b),b&&_(a),$&&$.d(b),b&&_(f)}}}function za(i){let e,l,t,n=Me(i[0].path)+"",o,r,s,a,f;return{c(){e=I("p"),l=Y("Confirm deleting "),t=I("code"),o=Y(n),r=Y(" ?"),s=U(),a=I("p"),f=Y("This is a permanent action and cannot be undone."),this.h()},l(c){e=D(c,"P",{class:!0});var m=E(e);l=Q(m,"Confirm deleting "),t=D(m,"CODE",{});var u=E(t);o=Q(u,n),u.forEach(_),r=Q(m," ?"),m.forEach(_),s=j(c),a=D(c,"P",{class:!0});var d=E(a);f=Q(d,"This is a permanent action and cannot be undone."),d.forEach(_),this.h()},h(){y(e,"class","!text-lg"),y(a,"class","mt-2")},m(c,m){V(c,e,m),v(e,l),v(e,t),v(t,o),v(e,r),V(c,s,m),V(c,a,m),v(a,f)},p(c,m){m[0]&1&&n!==(n=Me(c[0].path)+"")&&fe(o,n)},d(c){c&&_(e),c&&_(s),c&&_(a)}}}function Fa(i){let e,l,t,n,o=i[8]&&Jl(i);function r(a){i[27](a)}let s={danger:!0,modalHeading:"Delete signal",primaryButtonText:"Delete",primaryButtonIcon:i[10].isLoading?Kt:void 0,secondaryButtonText:"Cancel",$$slots:{default:[za]},$$scope:{ctx:i}};return i[3]!==void 0&&(s.open=i[3]),l=new Lt({props:s}),Oe.push(()=>We(l,"open",r)),l.$on("click:button--secondary",i[28]),l.$on("open",i[29]),l.$on("close",i[30]),l.$on("submit",i[15]),{c(){o&&o.c(),e=U(),P(l.$$.fragment)},l(a){o&&o.l(a),e=j(a),H(l.$$.fragment,a)},m(a,f){o&&o.m(a,f),V(a,e,f),A(l,a,f),n=!0},p(a,f){a[8]?o?(o.p(a,f),f[0]&256&&g(o,1)):(o=Jl(a),o.c(),g(o,1),o.m(e.parentNode,e)):o&&(ne(),w(o,1,1,()=>{o=null}),ie());const c={};f[0]&1024&&(c.primaryButtonIcon=a[10].isLoading?Kt:void 0),f[0]&1|f[1]&1&&(c.$$scope={dirty:f,ctx:a}),!t&&f[0]&8&&(t=!0,c.open=a[3],Ge(()=>t=!1)),l.$set(c)},i(a){n||(g(o),g(l.$$.fragment,a),n=!0)},o(a){w(o),w(l.$$.fragment,a),n=!1},d(a){o&&o.d(a),a&&_(e),B(l,a)}}}function Pa(i,e,l){let t,n,o,r,s,a,f,c,m,u,d,h,p,{field:k}=e,$=!1;const b=Ue();ke(i,b,q=>l(19,p=q));const S=Ke();ke(i,S,q=>l(18,h=q));const N=tr();ke(i,N,q=>l(10,u=q));const T=Ft();ke(i,T,q=>l(17,d=q));function C(){u.mutate([t,n,{signal_path:k.path}],{onSuccess:()=>{l(3,$=!1),b.deleteSignal(k.path)}})}const M=()=>b.addSortBy(k.path),Z=()=>Ze({command:Je.EditFilter,namespace:t,datasetName:n,path:k.path}),X=()=>Ze({command:Je.ComputeEmbedding,namespace:t,datasetName:n,path:k==null?void 0:k.path}),R=()=>Ze({command:Je.ComputeConcept,namespace:t,datasetName:n,path:k==null?void 0:k.path}),F=()=>Ze({command:Je.ComputeSignal,namespace:t,datasetName:n,path:k==null?void 0:k.path}),ee=()=>Ze({command:Je.PreviewConcept,namespace:t,datasetName:n,path:k==null?void 0:k.path}),O=()=>l(3,$=!0);function K(q){$=q,l(3,$)}const L=()=>l(3,$=!1);function W(q){mt.call(this,i,q)}function le(q){mt.call(this,i,q)}return i.$$set=q=>{"field"in q&&l(0,k=q.field)},i.$$.update=()=>{var q,te,pe;i.$$.dirty[0]&524288&&l(5,t=p.namespace),i.$$.dirty[0]&524288&&l(4,n=p.datasetName),i.$$.dirty[0]&1&&l(2,o=rt(k)),i.$$.dirty[0]&1&&l(1,r=Pt(k)),i.$$.dirty[0]&262145&&l(9,s=_t(h.schema,k.path)),i.$$.dirty[0]&262145&&l(16,a=ai(((q=h.selectRowsSchema)==null?void 0:q.data)||null,k.path)),i.$$.dirty[0]&65543&&l(8,f=(pt(k)||St(k)||!o||r)&&!a),i.$$.dirty[0]&131072&&l(7,c=(te=d.data)==null?void 0:te.access.dataset.compute_signals),i.$$.dirty[0]&131072&&l(6,m=(pe=d.data)==null?void 0:pe.access.dataset.delete_signals)},[k,r,o,$,n,t,m,c,f,s,u,b,S,N,T,C,a,d,h,p,M,Z,X,R,F,ee,O,K,L,W,le]}class Aa extends ve{constructor(e){super(),we(this,e,Pa,Fa,be,{field:0},null,[-1,-1])}}function Ba(i){let e,l,t,n,o;const r=[i[3],{type:i[0]?"green":"blue"},{icon:i[2]}];let s={};for(let a=0;a<r.length;a+=1)s=he(s,r[a]);return l=new Ye({props:s}),{c(){e=I("div"),P(l.$$.fragment),this.h()},l(a){e=D(a,"DIV",{class:!0});var f=E(e);H(l.$$.fragment,f),f.forEach(_),this.h()},h(){y(e,"class","signal-badge")},m(a,f){V(a,e,f),A(l,e,null),t=!0,n||(o=ye(Ie.call(null,e,{text:i[1]})),n=!0)},p(a,[f]){const c=f&13?Re(r,[f&8&&Kn(a[3]),f&1&&{type:a[0]?"green":"blue"},f&4&&{icon:a[2]}]):{};l.$set(c)},i(a){t||(g(l.$$.fragment,a),t=!0)},o(a){w(l.$$.fragment,a),t=!1},d(a){a&&_(e),B(l),n=!1,o()}}}function Ra(i,e,l){const t=["isPreview"];let n=Ee(e,t),{isPreview:o=!1}=e;const r=o?"Signal is in preview mode and has not been computed for the whole dataset.":"Generated by a signal.",s=o?Ir:is;return i.$$set=a=>{e=he(he({},e),De(a)),l(3,n=Ee(e,t)),"isPreview"in a&&l(0,o=a.isPreview)},[o,r,s,n]}class Ha extends ve{constructor(e){super(),we(this,e,Ra,Ba,be,{isPreview:0})}}function sn(i,e,l){const t=i.slice();t[7]=e[l][0],t[8]=e[l][1];const n=t[2](t[7]);t[9]=n;const o=`${t[8]/t[1]*100}%`;t[10]=o;const r=$e(t[8]);return t[11]=r,t}function an(i){let e,l,t=i[9]+"",n,o,r,s,a,f=i[11]+"",c,m,u,d,h;function p(){return i[6](i[7])}return{c(){e=I("button"),l=I("div"),n=Y(t),r=U(),s=I("div"),a=I("div"),c=Y(f),u=U(),this.h()},l(k){e=D(k,"BUTTON",{class:!0});var $=E(e);l=D($,"DIV",{title:!0,class:!0});var b=E(l);n=Q(b,t),b.forEach(_),r=j($),s=D($,"DIV",{class:!0});var S=E(s);a=D(S,"DIV",{title:!0,class:!0});var N=E(a);c=Q(N,f),N.forEach(_),S.forEach(_),u=j($),$.forEach(_),this.h()},h(){y(l,"title",o=i[9]),y(l,"class","w-48 flex-none truncate px-2"),y(a,"title",m=i[11]),y(a,"class","histogram-bar my-px bg-indigo-200 pl-2 text-xs leading-5"),ot(a,"width",i[10]),y(s,"class","w-36 border-l border-gray-300 pl-2"),y(e,"class","flex items-center p-0 text-left text-xs text-black hover:bg-gray-200")},m(k,$){V(k,e,$),v(e,l),v(l,n),v(e,r),v(e,s),v(s,a),v(a,c),v(e,u),d||(h=ze(e,"click",p),d=!0)},p(k,$){i=k,$&1&&t!==(t=i[9]+"")&&fe(n,t),$&1&&o!==(o=i[9])&&y(l,"title",o),$&1&&f!==(f=i[11]+"")&&fe(c,f),$&1&&m!==(m=i[11])&&y(a,"title",m),$&3&&ot(a,"width",i[10])},d(k){k&&_(e),d=!1,h()}}}function Oa(i){let e,l=i[0],t=[];for(let n=0;n<l.length;n+=1)t[n]=an(sn(i,l,n));return{c(){e=I("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=D(n,"DIV",{class:!0});var o=E(e);for(let r=0;r<t.length;r+=1)t[r].l(o);o.forEach(_),this.h()},h(){y(e,"class","histogram")},m(n,o){V(n,e,o);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(n,[o]){if(o&15){l=n[0];let r;for(r=0;r<l.length;r+=1){const s=sn(n,l,r);t[r]?t[r].p(s,o):(t[r]=an(s),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},i:J,o:J,d(n){n&&_(e),Pe(t,n)}}}function La(i,e,l){let t,{field:n}=e,{counts:o}=e,{bins:r}=e;function s(c){if(c==null)return $e(c);if(r==null||n.bins!=null)return $e(c);const[m,u]=r[c.toString()];return m==null?`< ${$e(u)}`:u==null?`≥ ${$e(m)}`:`${$e(m)} .. ${$e(u)}`}const a=ut(),f=c=>a("row-click",{value:c});return i.$$set=c=>{"field"in c&&l(4,n=c.field),"counts"in c&&l(0,o=c.counts),"bins"in c&&l(5,r=c.bins)},i.$$.update=()=>{i.$$.dirty&1&&l(1,t=Math.max(...o.map(([c,m])=>m)))},[o,t,s,a,n,r,f]}class qa extends ve{constructor(e){super(),we(this,e,La,Oa,be,{field:4,counts:0,bins:5})}}function Ua(i){let e,l,t,n,o,r,s,a,f,c,m,u=$e(i[4].total_count)+"",d,h,p,k,$,b,S,N,T,C,M,Z,X=$e(i[4].approx_count_distinct)+"",R,F,ee,O,K,L;r=new ct({props:{class:"inline"}}),b=new ct({props:{class:"inline"}});let W=i[4].avg_text_length&&on(i),le=i[4].min_val&&i[4].max_val&&fn(i);return{c(){e=I("table"),l=I("tbody"),t=I("tr"),n=I("td"),o=I("span"),P(r.$$.fragment),s=U(),a=I("span"),f=Y("Total count"),c=U(),m=I("td"),d=Y(u),h=U(),p=I("tr"),k=I("td"),$=I("span"),P(b.$$.fragment),S=U(),N=I("span"),T=Y("Unique values"),C=U(),M=I("td"),Z=Y("~"),R=Y(X),F=U(),W&&W.c(),ee=U(),le&&le.c(),this.h()},l(q){e=D(q,"TABLE",{class:!0});var te=E(e);l=D(te,"TBODY",{});var pe=E(l);t=D(pe,"TR",{});var ce=E(t);n=D(ce,"TD",{class:!0});var ae=E(n);o=D(ae,"SPAN",{});var x=E(o);H(r.$$.fragment,x),x.forEach(_),s=j(ae),a=D(ae,"SPAN",{});var se=E(a);f=Q(se,"Total count"),se.forEach(_),ae.forEach(_),c=j(ce),m=D(ce,"TD",{class:!0});var G=E(m);d=Q(G,u),G.forEach(_),ce.forEach(_),h=j(pe),p=D(pe,"TR",{});var z=E(p);k=D(z,"TD",{class:!0});var re=E(k);$=D(re,"SPAN",{});var Se=E($);H(b.$$.fragment,Se),Se.forEach(_),S=j(re),N=D(re,"SPAN",{});var me=E(N);T=Q(me,"Unique values"),me.forEach(_),re.forEach(_),C=j(z),M=D(z,"TD",{class:!0});var Fe=E(M);Z=Q(Fe,"~"),R=Q(Fe,X),Fe.forEach(_),z.forEach(_),F=j(pe),W&&W.l(pe),ee=j(pe),le&&le.l(pe),pe.forEach(_),te.forEach(_),this.h()},h(){y(n,"class","svelte-1tctrjz"),y(m,"class","svelte-1tctrjz"),y(k,"class","svelte-1tctrjz"),y(M,"class","svelte-1tctrjz"),y(e,"class","stats-table w-full svelte-1tctrjz")},m(q,te){V(q,e,te),v(e,l),v(l,t),v(t,n),v(n,o),A(r,o,null),v(n,s),v(n,a),v(a,f),v(t,c),v(t,m),v(m,d),v(l,h),v(l,p),v(p,k),v(k,$),A(b,$,null),v(k,S),v(k,N),v(N,T),v(p,C),v(p,M),v(M,Z),v(M,R),v(l,F),W&&W.m(l,null),v(l,ee),le&&le.m(l,null),O=!0,K||(L=[ye(Ie.call(null,o,{text:"Total number of rows where the value is defined."})),ye(Ie.call(null,$,{text:"An approximation of the total number of unique values."}))],K=!0)},p(q,te){(!O||te&16)&&u!==(u=$e(q[4].total_count)+"")&&fe(d,u),(!O||te&16)&&X!==(X=$e(q[4].approx_count_distinct)+"")&&fe(R,X),q[4].avg_text_length?W?(W.p(q,te),te&16&&g(W,1)):(W=on(q),W.c(),g(W,1),W.m(l,ee)):W&&(ne(),w(W,1,1,()=>{W=null}),ie()),q[4].min_val&&q[4].max_val?le?(le.p(q,te),te&16&&g(le,1)):(le=fn(q),le.c(),g(le,1),le.m(l,null)):le&&(ne(),w(le,1,1,()=>{le=null}),ie())},i(q){O||(g(r.$$.fragment,q),g(b.$$.fragment,q),g(W),g(le),O=!0)},o(q){w(r.$$.fragment,q),w(b.$$.fragment,q),w(W),w(le),O=!1},d(q){q&&_(e),B(r),B(b),W&&W.d(),le&&le.d(),K=!1,xe(L)}}}function ja(i){let e,l;return e=new Be({props:{paragraph:!0,width:"50%"}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Ya(i){let e,l,t=i[2].error.message+"",n;return{c(){e=I("p"),l=Y("Error: "),n=Y(t)},l(o){e=D(o,"P",{});var r=E(e);l=Q(r,"Error: "),n=Q(r,t),r.forEach(_)},m(o,r){V(o,e,r),v(e,l),v(e,n)},p(o,r){r&4&&t!==(t=o[2].error.message+"")&&fe(n,t)},i:J,o:J,d(o){o&&_(e)}}}function on(i){let e,l,t,n,o,r,s,a,f,c=$e(i[4].avg_text_length)+"",m,u,d,h;return n=new ct({props:{class:"inline"}}),{c(){e=I("tr"),l=I("td"),t=I("span"),P(n.$$.fragment),o=U(),r=I("span"),s=Y("Average text length"),a=U(),f=I("td"),m=Y(c),this.h()},l(p){e=D(p,"TR",{});var k=E(e);l=D(k,"TD",{class:!0});var $=E(l);t=D($,"SPAN",{});var b=E(t);H(n.$$.fragment,b),b.forEach(_),o=j($),r=D($,"SPAN",{});var S=E(r);s=Q(S,"Average text length"),S.forEach(_),$.forEach(_),a=j(k),f=D(k,"TD",{class:!0});var N=E(f);m=Q(N,c),N.forEach(_),k.forEach(_),this.h()},h(){y(l,"class","svelte-1tctrjz"),y(f,"class","svelte-1tctrjz")},m(p,k){V(p,e,k),v(e,l),v(l,t),A(n,t,null),v(l,o),v(l,r),v(r,s),v(e,a),v(e,f),v(f,m),u=!0,d||(h=ye(Ie.call(null,t,{text:"The average length of the text in characters."})),d=!0)},p(p,k){(!u||k&16)&&c!==(c=$e(p[4].avg_text_length)+"")&&fe(m,c)},i(p){u||(g(n.$$.fragment,p),u=!0)},o(p){w(n.$$.fragment,p),u=!1},d(p){p&&_(e),B(n),d=!1,h()}}}function fn(i){let e,l,t,n,o,r,s,a,f,c=$e(i[4].min_val)+"",m,u,d=$e(i[4].max_val)+"",h,p,k,$;return n=new ct({props:{class:"inline"}}),{c(){e=I("tr"),l=I("td"),t=I("span"),P(n.$$.fragment),o=U(),r=I("span"),s=Y("Range"),a=U(),f=I("td"),m=Y(c),u=Y(" .. "),h=Y(d),this.h()},l(b){e=D(b,"TR",{});var S=E(e);l=D(S,"TD",{class:!0});var N=E(l);t=D(N,"SPAN",{});var T=E(t);H(n.$$.fragment,T),T.forEach(_),o=j(N),r=D(N,"SPAN",{});var C=E(r);s=Q(C,"Range"),C.forEach(_),N.forEach(_),a=j(S),f=D(S,"TD",{class:!0});var M=E(f);m=Q(M,c),u=Q(M," .. "),h=Q(M,d),M.forEach(_),S.forEach(_),this.h()},h(){y(l,"class","svelte-1tctrjz"),y(f,"class","svelte-1tctrjz")},m(b,S){V(b,e,S),v(e,l),v(l,t),A(n,t,null),v(l,o),v(l,r),v(r,s),v(e,a),v(e,f),v(f,m),v(f,u),v(f,h),p=!0,k||($=ye(Ie.call(null,t,{text:"The minimum and maximum value across the dataset"})),k=!0)},p(b,S){(!p||S&16)&&c!==(c=$e(b[4].min_val)+"")&&fe(m,c),(!p||S&16)&&d!==(d=$e(b[4].max_val)+"")&&fe(h,d)},i(b){p||(g(n.$$.fragment,b),p=!0)},o(b){w(n.$$.fragment,b),p=!1},d(b){b&&_(e),B(n),k=!1,$()}}}function Qa(i){let e,l,t;return l=new qa({props:{counts:i[5],bins:i[3],field:i[0]}}),l.$on("row-click",i[13]),{c(){e=I("div"),P(l.$$.fragment),this.h()},l(n){e=D(n,"DIV",{class:!0});var o=E(e);H(l.$$.fragment,o),o.forEach(_),this.h()},h(){y(e,"class","mt-4")},m(n,o){V(n,e,o),A(l,e,null),t=!0},p(n,o){const r={};o&32&&(r.counts=n[5]),o&8&&(r.bins=n[3]),o&1&&(r.field=n[0]),l.$set(r)},i(n){t||(g(l.$$.fragment,n),t=!0)},o(n){w(l.$$.fragment,n),t=!1},d(n){n&&_(e),B(l)}}}function Wa(i){let e,l;return e=new Be({props:{paragraph:!0,width:"50%"}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Ga(i){let e,l,t=i[1].error.message+"",n;return{c(){e=I("p"),l=Y("Error: "),n=Y(t)},l(o){e=D(o,"P",{});var r=E(e);l=Q(r,"Error: "),n=Q(r,t),r.forEach(_)},m(o,r){V(o,e,r),v(e,l),v(e,n)},p(o,r){r&2&&t!==(t=o[1].error.message+"")&&fe(n,t)},i:J,o:J,d(o){o&&_(e)}}}function Ka(i){let e,l,t,n,o,r,s;const a=[Ya,ja,Ua],f=[];function c(h,p){return h[2].error?0:h[4]==null?1:2}l=c(i),t=f[l]=a[l](i);const m=[Ga,Wa,Qa],u=[];function d(h,p){return h[1].error?0:h[5]==null?1:h[5].length>0?2:-1}return~(o=d(i))&&(r=u[o]=m[o](i)),{c(){e=I("div"),t.c(),n=U(),r&&r.c(),this.h()},l(h){e=D(h,"DIV",{class:!0});var p=E(e);t.l(p),n=j(p),r&&r.l(p),p.forEach(_),this.h()},h(){y(e,"class","p-4")},m(h,p){V(h,e,p),f[l].m(e,null),v(e,n),~o&&u[o].m(e,null),s=!0},p(h,[p]){let k=l;l=c(h),l===k?f[l].p(h,p):(ne(),w(f[k],1,1,()=>{f[k]=null}),ie(),t=f[l],t?t.p(h,p):(t=f[l]=a[l](h),t.c()),g(t,1),t.m(e,n));let $=o;o=d(h),o===$?~o&&u[o].p(h,p):(r&&(ne(),w(u[$],1,1,()=>{u[$]=null}),ie()),~o?(r=u[o],r?r.p(h,p):(r=u[o]=m[o](h),r.c()),g(r,1),r.m(e,null)):r=null)},i(h){s||(g(t),g(r),s=!0)},o(h){w(t),w(r),s=!1},d(h){h&&_(e),f[l].d(),~o&&u[o].d()}}}function Za(i,e,l){let t,n,o,r,s,a=J,f=()=>(a(),a=Ne(n,T=>l(1,s=T)),n),c,m=J,u=()=>(m(),m=Ne(t,T=>l(2,c=T)),t),d;i.$$.on_destroy.push(()=>a()),i.$$.on_destroy.push(()=>m());let{field:h}=e;const p=Ue();ke(i,p,T=>l(12,d=T));let k,$,b=null;function S(T){if(T==null)return;if(b!=null){const[M,Z]=b[T.toString()];if(M!=null){const X={path:h.path,op:"greater_equal",value:M};p.addFilter(X)}if(Z!=null){const X={path:h.path,op:"less",value:Z};p.addFilter(X)}return}const C={path:h.path,op:"equals",value:T};p.addFilter(C)}const N=T=>S(T.detail.value);return i.$$set=T=>{"field"in T&&l(0,h=T.field)},i.$$.update=()=>{var T;if(i.$$.dirty&4097&&u(l(7,t=oi(d.namespace,d.datasetName,{leaf_path:h.path}))),i.$$.dirty&1&&l(10,k=si(h.dtype)&&!h.categorical?"value":"count"),i.$$.dirty&1024&&l(11,$=k==="value"?"ASC":"DESC"),i.$$.dirty&7169&&f(l(6,n=fi(d.namespace,d.datasetName,{leaf_path:h.path,filters:d.query.filters,sort_by:k,sort_order:$}))),i.$$.dirty&2&&l(5,o=s.data!=null?s.data.counts:null),i.$$.dirty&4&&l(4,r=c.data!=null?c.data:null),i.$$.dirty&2)if(((T=s.data)==null?void 0:T.bins)!=null){l(3,b={});for(const[C,M,Z]of Object.values(s.data.bins))l(3,b[C]=[M,Z],b)}else l(3,b=null)},[h,s,c,b,r,o,n,t,p,S,k,$,d,N]}class Ja extends ve{constructor(e){super(),we(this,e,Za,Ka,be,{field:0})}}function cn(i,e,l){const t=i.slice();return t[36]=e[l],t}function un(i,e,l){const t=i.slice();return t[39]=e[l],t}function dn(i,e,l){const t=i.slice();return t[42]=e[l],t}function mn(i,e,l){const t=i.slice();return t[45]=e[l],t}function Xa(i){let e,l="{}",t;return{c(){e=I("span"),t=Y(l),this.h()},l(n){e=D(n,"SPAN",{class:!0});var o=E(e);t=Q(o,l),o.forEach(_),this.h()},h(){y(e,"class","font-mono")},m(n,o){V(n,e,o),v(e,t)},p:J,i:J,o:J,d(n){n&&_(e)}}}function xa(i){let e,l,t,n;var o=st[i[1].repeated_field.dtype];function r(s){return{props:{title:s[1].dtype}}}return o&&(l=it(o,r(i))),{c(){e=I("div"),l&&P(l.$$.fragment),t=Y("[]"),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=E(e);l&&H(l.$$.fragment,a),t=Q(a,"[]"),a.forEach(_),this.h()},h(){y(e,"class","flex")},m(s,a){V(s,e,a),l&&A(l,e,null),v(e,t),n=!0},p(s,a){const f={};if(a[0]&2&&(f.title=s[1].dtype),a[0]&2&&o!==(o=st[s[1].repeated_field.dtype])){if(l){ne();const c=l;w(c.$$.fragment,1,0,()=>{B(c,1)}),ie()}o?(l=it(o,r(s)),P(l.$$.fragment),g(l.$$.fragment,1),A(l,e,t)):l=null}else o&&l.$set(f)},i(s){n||(l&&g(l.$$.fragment,s),n=!0)},o(s){l&&w(l.$$.fragment,s),n=!1},d(s){s&&_(e),l&&B(l)}}}function eo(i){let e,l,t;var n=st[i[1].dtype];function o(r){return{props:{title:r[1].dtype}}}return n&&(e=it(n,o(i))),{c(){e&&P(e.$$.fragment),l=oe()},l(r){e&&H(e.$$.fragment,r),l=oe()},m(r,s){e&&A(e,r,s),V(r,l,s),t=!0},p(r,s){const a={};if(s[0]&2&&(a.title=r[1].dtype),s[0]&2&&n!==(n=st[r[1].dtype])){if(e){ne();const f=e;w(f.$$.fragment,1,0,()=>{B(f,1)}),ie()}n?(e=it(n,o(r)),P(e.$$.fragment),g(e.$$.fragment,1),A(e,l.parentNode,l)):e=null}else n&&e.$set(a)},i(r){t||(e&&g(e.$$.fragment,r),t=!0)},o(r){e&&w(e.$$.fragment,r),t=!1},d(r){r&&_(l),e&&B(e,r)}}}function hn(i){let e,l;return e=new qt({props:{interactive:!0,type:"green",$$slots:{default:[no]},$$scope:{ctx:i}}}),e.$on("click",i[30]),e.$on("remove",i[31]),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&16384|n[1]&131072&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function to(i){let e,l;return e=new wi({}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function lo(i){let e,l;return e=new vi({}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function no(i){let e,l,t,n,o,r,s,a;const f=[lo,to],c=[];function m(u,d){return u[14]=="ASC"?0:1}return r=m(i),s=c[r]=f[r](i),{c(){e=I("div"),l=I("div"),t=Y("Sorted"),n=U(),o=I("span"),s.c(),this.h()},l(u){e=D(u,"DIV",{class:!0});var d=E(e);l=D(d,"DIV",{class:!0});var h=E(l);t=Q(h,"Sorted"),h.forEach(_),n=j(d),o=D(d,"SPAN",{});var p=E(o);s.l(p),p.forEach(_),d.forEach(_),this.h()},h(){y(l,"class","mr-1"),y(e,"class","flex flex-row")},m(u,d){V(u,e,d),v(e,l),v(l,t),v(e,n),v(e,o),c[r].m(o,null),a=!0},p(u,d){let h=r;r=m(u),r!==h&&(ne(),w(c[h],1,1,()=>{c[h]=null}),ie(),s=c[r],s||(s=c[r]=f[r](u),s.c()),g(s,1),s.m(o,null))},i(u){a||(g(s),a=!0)},o(u){w(s),a=!1},d(u){u&&_(e),c[r].d()}}}function _n(i){let e,l,t=i[7],n=[];for(let r=0;r<t.length;r+=1)n[r]=gn(mn(i,t,r));const o=r=>w(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=oe()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=oe()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);V(r,e,s),l=!0},p(r,s){if(s[0]&128){t=r[7];let a;for(a=0;a<t.length;a+=1){const f=mn(r,t,a);n[a]?(n[a].p(f,s),g(n[a],1)):(n[a]=gn(f),n[a].c(),g(n[a],1),n[a].m(e.parentNode,e))}for(ne(),a=t.length;a<n.length;a+=1)o(a);ie()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)g(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)w(n[s]);l=!1},d(r){Pe(n,r),r&&_(e)}}}function gn(i){let e,l;return e=new ki({props:{filter:i[45],hidePath:!0}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.filter=t[45]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function pn(i){let e,l;return e=new $i({props:{search:i[42]}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&4096&&(o.search=t[42]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function bn(i){var t;let e,l;return e=new hi({props:{embedding:(t=i[39].signal)==null?void 0:t.signal_name}}),{c(){P(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,o){A(e,n,o),l=!0},p(n,o){var s;const r={};o[0]&65536&&(r.embedding=(s=n[39].signal)==null?void 0:s.signal_name),e.$set(r)},i(n){l||(g(e.$$.fragment,n),l=!0)},o(n){w(e.$$.fragment,n),l=!1},d(n){B(e,n)}}}function vn(i){let e,l,t,n,o,r,s;return l=new Ye({props:{type:"cyan",icon:mi}}),l.$on("click",i[32]),n=new Ha({props:{isPreview:!0}}),n.$on("click",i[33]),{c(){e=I("div"),P(l.$$.fragment),t=U(),P(n.$$.fragment),this.h()},l(a){e=D(a,"DIV",{class:!0});var f=E(e);H(l.$$.fragment,f),f.forEach(_),t=j(a),H(n.$$.fragment,a),this.h()},h(){y(e,"class","compute-signal-preview pointer-events-auto")},m(a,f){V(a,e,f),A(l,e,null),V(a,t,f),A(n,a,f),o=!0,r||(s=ye(Ie.call(null,e,{text:`Compute signal over the column and save the result.

This may be expensive.`})),r=!0)},p:J,i(a){o||(g(l.$$.fragment,a),g(n.$$.fragment,a),o=!0)},o(a){w(l.$$.fragment,a),w(n.$$.fragment,a),o=!1},d(a){a&&_(e),B(l),a&&_(t),B(n,a),r=!1,s()}}}function wn(i){let e,l,t,n,o,r,s;return t=new Br({}),{c(){e=I("button"),l=I("div"),P(t.$$.fragment),this.h()},l(a){e=D(a,"BUTTON",{});var f=E(e);l=D(f,"DIV",{class:!0});var c=E(l);H(t.$$.fragment,c),c.forEach(_),f.forEach(_),this.h()},h(){y(l,"class","transition"),ue(l,"rotate-180",i[19]),ue(e,"bg-slate-300",i[19])},m(a,f){V(a,e,f),v(e,l),A(t,l,null),o=!0,r||(s=[ye(n=Ie.call(null,e,{text:i[19]?"Close statistics":"See statistics"})),ze(e,"click",i[34])],r=!0)},p(a,f){(!o||f[0]&524288)&&ue(l,"rotate-180",a[19]),n&&Le(n.update)&&f[0]&524288&&n.update.call(null,{text:a[19]?"Close statistics":"See statistics"}),(!o||f[0]&524288)&&ue(e,"bg-slate-300",a[19])},i(a){o||(g(t.$$.fragment,a),o=!0)},o(a){w(t.$$.fragment,a),o=!1},d(a){a&&_(e),B(t),r=!1,xe(s)}}}function kn(i){let e,l,t,n;return l=new Ja({props:{field:i[1]}}),{c(){e=I("div"),P(l.$$.fragment),this.h()},l(o){e=D(o,"DIV",{class:!0});var r=E(e);H(l.$$.fragment,r),r.forEach(_),this.h()},h(){y(e,"class","px-2")},m(o,r){V(o,e,r),A(l,e,null),n=!0},p(o,r){const s={};r[0]&2&&(s.field=o[1]),l.$set(s)},i(o){n||(g(l.$$.fragment,o),o&&Dt(()=>{n&&(t||(t=ht(e,vt,{},!0)),t.run(1))}),n=!0)},o(o){w(l.$$.fragment,o),o&&(t||(t=ht(e,vt,{},!1)),t.run(0)),n=!1},d(o){o&&_(e),B(l),o&&t&&t.end()}}}function $n(i){let e,l,t=i[17],n=[];for(let r=0;r<t.length;r+=1)n[r]=En(cn(i,t,r));const o=r=>w(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=oe()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=oe()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);V(r,e,s),l=!0},p(r,s){if(s[0]&131343){t=r[17];let a;for(a=0;a<t.length;a+=1){const f=cn(r,t,a);n[a]?(n[a].p(f,s),g(n[a],1)):(n[a]=En(f),n[a].c(),g(n[a],1),n[a].m(e.parentNode,e))}for(ne(),a=t.length;a<n.length;a+=1)o(a);ie()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)g(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)w(n[s]);l=!1},d(r){Pe(n,r),r&&_(e)}}}function En(i){let e,l;return e=new Ei({props:{schema:i[0],field:i[36],indent:i[3]+1,sourceField:i[8]&&rt(i[36])?i[1]:i[2]}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.schema=t[0]),n[0]&131072&&(o.field=t[36]),n[0]&8&&(o.indent=t[3]+1),n[0]&131334&&(o.sourceField=t[8]&&rt(t[36])?t[1]:t[2]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function io(i){let e,l,t,n,o,r,s,a,f,c,m,u,d,h,p,k,$,b,S,N,T,C,M,Z,X;const R=[eo,xa,Xa],F=[];function ee(G,z){return G[1].dtype?0:G[1].repeated_field&&G[1].repeated_field.dtype?1:2}n=ee(i),o=F[n]=R[n](i);let O=i[15]&&hn(i),K=i[13]&&_n(i),L=i[12],W=[];for(let G=0;G<L.length;G+=1)W[G]=pn(dn(i,L,G));const le=G=>w(W[G],1,1,()=>{W[G]=null});let q=i[16],te=[];for(let G=0;G<q.length;G+=1)te[G]=bn(un(i,q,G));const pe=G=>w(te[G],1,1,()=>{te[G]=null});let ce=i[4]&&i[20]&&vn(i),ae=i[10]&&wn(i);b=new Aa({props:{field:i[1]}});let x=i[19]&&kn(i),se=i[17].length&&$n(i);return{c(){e=I("div"),l=I("div"),t=I("div"),o.c(),s=U(),a=I("button"),f=Y(i[18]),m=U(),O&&O.c(),u=U(),K&&K.c(),d=U();for(let G=0;G<W.length;G+=1)W[G].c();h=U();for(let G=0;G<te.length;G+=1)te[G].c();p=U(),ce&&ce.c(),k=U(),ae&&ae.c(),$=U(),P(b.$$.fragment),S=U(),x&&x.c(),N=U(),T=I("div"),se&&se.c(),this.h()},l(G){e=D(G,"DIV",{class:!0});var z=E(e);l=D(z,"DIV",{class:!0});var re=E(l);t=D(re,"DIV",{class:!0});var Se=E(t);o.l(Se),Se.forEach(_),s=j(re),a=D(re,"BUTTON",{class:!0});var me=E(a);f=Q(me,i[18]),me.forEach(_),m=j(re),O&&O.l(re),u=j(re),K&&K.l(re),d=j(re);for(let qe=0;qe<W.length;qe+=1)W[qe].l(re);h=j(re);for(let qe=0;qe<te.length;qe+=1)te[qe].l(re);p=j(re),ce&&ce.l(re),k=j(re),ae&&ae.l(re),$=j(re),H(b.$$.fragment,re),re.forEach(_),S=j(z),x&&x.l(z),N=j(z),T=D(z,"DIV",{});var Fe=E(T);se&&se.l(Fe),Fe.forEach(_),z.forEach(_),this.h()},h(){y(t,"class","rounded-md bg-blue-200 p-0.5"),ue(t,"bg-blue-200",i[5]),ot(t,"margin-left",i[3]*1.5+"rem"),y(a,"class","ml-2 grow cursor-pointer truncate whitespace-nowrap text-left text-gray-900"),a.disabled=c=!i[10],ue(a,"cursor-default",!i[10]),y(l,"class","flex w-full flex-row items-center gap-x-2 border-gray-300 px-4 hover:bg-gray-100"),ue(l,"bg-blue-50",i[5]),ue(l,"bg-emerald-100",i[4]),ue(l,"hover:bg-blue-100",i[5]),y(e,"class","border-gray-300"),ue(e,"border-b",!i[5])},m(G,z){V(G,e,z),v(e,l),v(l,t),F[n].m(t,null),v(l,s),v(l,a),v(a,f),v(l,m),O&&O.m(l,null),v(l,u),K&&K.m(l,null),v(l,d);for(let re=0;re<W.length;re+=1)W[re]&&W[re].m(l,null);v(l,h);for(let re=0;re<te.length;re+=1)te[re]&&te[re].m(l,null);v(l,p),ce&&ce.m(l,null),v(l,k),ae&&ae.m(l,null),v(l,$),A(b,l,null),v(e,S),x&&x.m(e,null),v(e,N),v(e,T),se&&se.m(T,null),M=!0,Z||(X=[ye(r=Ie.call(null,t,{text:i[11]})),ze(a,"click",i[29])],Z=!0)},p(G,z){let re=n;if(n=ee(G),n===re?F[n].p(G,z):(ne(),w(F[re],1,1,()=>{F[re]=null}),ie(),o=F[n],o?o.p(G,z):(o=F[n]=R[n](G),o.c()),g(o,1),o.m(t,null)),r&&Le(r.update)&&z[0]&2048&&r.update.call(null,{text:G[11]}),(!M||z[0]&32)&&ue(t,"bg-blue-200",G[5]),z[0]&8&&ot(t,"margin-left",G[3]*1.5+"rem"),(!M||z[0]&262144)&&fe(f,G[18]),(!M||z[0]&1024&&c!==(c=!G[10]))&&(a.disabled=c),(!M||z[0]&1024)&&ue(a,"cursor-default",!G[10]),G[15]?O?(O.p(G,z),z[0]&32768&&g(O,1)):(O=hn(G),O.c(),g(O,1),O.m(l,u)):O&&(ne(),w(O,1,1,()=>{O=null}),ie()),G[13]?K?(K.p(G,z),z[0]&8192&&g(K,1)):(K=_n(G),K.c(),g(K,1),K.m(l,d)):K&&(ne(),w(K,1,1,()=>{K=null}),ie()),z[0]&4096){L=G[12];let me;for(me=0;me<L.length;me+=1){const Fe=dn(G,L,me);W[me]?(W[me].p(Fe,z),g(W[me],1)):(W[me]=pn(Fe),W[me].c(),g(W[me],1),W[me].m(l,h))}for(ne(),me=L.length;me<W.length;me+=1)le(me);ie()}if(z[0]&65536){q=G[16];let me;for(me=0;me<q.length;me+=1){const Fe=un(G,q,me);te[me]?(te[me].p(Fe,z),g(te[me],1)):(te[me]=bn(Fe),te[me].c(),g(te[me],1),te[me].m(l,p))}for(ne(),me=q.length;me<te.length;me+=1)pe(me);ie()}G[4]&&G[20]?ce?(ce.p(G,z),z[0]&1048592&&g(ce,1)):(ce=vn(G),ce.c(),g(ce,1),ce.m(l,k)):ce&&(ne(),w(ce,1,1,()=>{ce=null}),ie()),G[10]?ae?(ae.p(G,z),z[0]&1024&&g(ae,1)):(ae=wn(G),ae.c(),g(ae,1),ae.m(l,$)):ae&&(ne(),w(ae,1,1,()=>{ae=null}),ie());const Se={};z[0]&2&&(Se.field=G[1]),b.$set(Se),(!M||z[0]&32)&&ue(l,"bg-blue-50",G[5]),(!M||z[0]&16)&&ue(l,"bg-emerald-100",G[4]),(!M||z[0]&32)&&ue(l,"hover:bg-blue-100",G[5]),G[19]?x?(x.p(G,z),z[0]&524288&&g(x,1)):(x=kn(G),x.c(),g(x,1),x.m(e,N)):x&&(ne(),w(x,1,1,()=>{x=null}),ie()),G[17].length?se?(se.p(G,z),z[0]&131072&&g(se,1)):(se=$n(G),se.c(),g(se,1),se.m(T,null)):se&&(ne(),w(se,1,1,()=>{se=null}),ie()),(!M||z[0]&32)&&ue(e,"border-b",!G[5])},i(G){if(!M){g(o),g(O),g(K);for(let z=0;z<L.length;z+=1)g(W[z]);for(let z=0;z<q.length;z+=1)g(te[z]);g(ce),g(ae),g(b.$$.fragment,G),g(x),g(se),G&&Dt(()=>{M&&(C||(C=ht(T,vt,{},!0)),C.run(1))}),M=!0}},o(G){w(o),w(O),w(K),W=W.filter(Boolean);for(let z=0;z<W.length;z+=1)w(W[z]);te=te.filter(Boolean);for(let z=0;z<te.length;z+=1)w(te[z]);w(ce),w(ae),w(b.$$.fragment,G),w(x),w(se),G&&(C||(C=ht(T,vt,{},!1)),C.run(0)),M=!1},d(G){G&&_(e),F[n].d(),O&&O.d(),K&&K.d(),Pe(W,G),Pe(te,G),ce&&ce.d(),ae&&ae.d(),B(b),x&&x.d(),se&&se.d(),G&&C&&C.end(),Z=!1,xe(X)}}}function ro(i,e,l){let t,n,o,r,s,a,f,c,m,u,d,h,p,k,$,b,S,N,T,C,M,Z,{schema:X}=e,{field:R}=e,{sourceField:F=void 0}=e,{indent:ee=0}=e;const O=ni();ke(i,O,x=>l(21,Z=x));const K=Ue();ke(i,K,x=>l(9,C=x));const L=Ke();ke(i,L,x=>l(28,M=x));function W(x){return x!=null&&x.repeated_field?W(x.repeated_field):x!=null&&x.fields?[...Object.values(x.fields).filter(se=>se.path.at(-1)!==lr)].filter(se=>{var G,z,re,Se;return!(se.dtype==="embedding"||se.signal!=null&&lt(se).some(me=>me.dtype==="embedding")||((G=se.signal)==null?void 0:G.signal_name)==="sentences"||((z=se.signal)==null?void 0:z.signal_name)==="substring_search"||((re=se.signal)==null?void 0:re.signal_name)==="semantic_similarity"||((Se=se.signal)==null?void 0:Se.signal_name)==="concept_labels")}):[]}const le=()=>{T&&(s?K.removeExpandedColumn(r):K.addExpandedColumn(r))},q=()=>d==="ASC"?Et(K,C.query.sort_order="DESC",C):Et(K,C.query.sort_order="ASC",C),te=()=>K.removeSortBy(r),pe=()=>R.signal&&k&&F&&Z.mutate([C.namespace,C.datasetName,{leaf_path:F.path,signal:R.signal}]),ce=()=>{var x;return R.signal&&k&&Ze({command:Je.EditPreviewConcept,namespace:C.namespace,datasetName:C.datasetName,path:F==null?void 0:F.path,signalName:(x=R.signal)==null?void 0:x.signal_name,value:R.signal})},ae=()=>{s?K.removeExpandedColumn(r):K.addExpandedColumn(r)};return i.$$set=x=>{"schema"in x&&l(0,X=x.schema),"field"in x&&l(1,R=x.field),"sourceField"in x&&l(2,F=x.sourceField),"indent"in x&&l(3,ee=x.indent)},i.$$.update=()=>{var x,se,G;i.$$.dirty[0]&2&&l(5,t=rt(R)),i.$$.dirty[0]&2&&l(20,n=Pt(R)),i.$$.dirty[0]&32&&l(8,o=!t),i.$$.dirty[0]&2&&l(6,r=R.path),i.$$.dirty[0]&576&&l(19,s=C.expandedStats[Me(r)]||!1),i.$$.dirty[0]&64&&l(27,a=r.at(-1)===bt),i.$$.dirty[0]&134217792&&l(18,f=a?r.at(-2):r.at(-1)),i.$$.dirty[0]&2&&l(17,c=W(R)),i.$$.dirty[0]&258&&l(16,m=o?lt(R).filter(z=>z.signal!=null&&lt(z).some(re=>re.dtype==="embedding")):[]),i.$$.dirty[0]&576&&l(15,u=(x=C.query.sort_by)==null?void 0:x.some(z=>Xe(z,r))),i.$$.dirty[0]&512&&l(14,d=C.query.sort_order),i.$$.dirty[0]&576&&l(7,h=((se=C.query.filters)==null?void 0:se.filter(z=>Xe(z.path,r)))||[]),i.$$.dirty[0]&128&&l(13,p=h.length>0),i.$$.dirty[0]&268435520&&l(4,k=ai(((G=M.selectRowsSchema)==null?void 0:G.data)||null,r)),i.$$.dirty[0]&576&&l(12,$=Tt(C,r)),i.$$.dirty[0]&32&&l(25,b=t?". Generated by a signal":""),i.$$.dirty[0]&2&&l(26,S=R.dtype??(R.repeated_field&&R.repeated_field.dtype?`${R.repeated_field.dtype}[]`:"object")),i.$$.dirty[0]&100663296&&l(11,N=`${S}${b}`),i.$$.dirty[0]&18&&l(10,T=pt(R)&&!k)},[X,R,F,ee,k,t,r,h,o,C,T,N,$,p,d,u,m,c,f,s,n,Z,O,K,L,b,S,a,M,le,q,te,pe,ce,ae]}class Ei extends ve{constructor(e){super(),we(this,e,ro,io,be,{schema:0,field:1,sourceField:2,indent:3},null,[-1,-1])}}function Sn(i,e,l){const t=i.slice();return t[3]=e[l],t}function so(i){let e=[],l=new Map,t,n,o=Object.keys(i[0].data.schema.fields);const r=s=>s[3];for(let s=0;s<o.length;s+=1){let a=Sn(i,o,s),f=r(a);l.set(f,e[s]=yn(f,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=oe()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);t=oe()},m(s,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,a);V(s,t,a),n=!0},p(s,a){a&1&&(o=Object.keys(s[0].data.schema.fields),ne(),e=yt(e,a,r,1,s,o,l,t.parentNode,It,yn,t,Sn),ie())},i(s){if(!n){for(let a=0;a<o.length;a+=1)g(e[a]);n=!0}},o(s){for(let a=0;a<e.length;a+=1)w(e[a]);n=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&_(t)}}}function ao(i){let e,l;return e=new Be({props:{paragraph:!0,lines:3}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function yn(i,e){let l,t,n;return t=new Ei({props:{schema:e[0].data.schema,field:e[0].data.schema.fields[e[3]]}}),{key:i,first:null,c(){l=oe(),P(t.$$.fragment),this.h()},l(o){l=oe(),H(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,r){V(o,l,r),A(t,o,r),n=!0},p(o,r){e=o;const s={};r&1&&(s.schema=e[0].data.schema),r&1&&(s.field=e[0].data.schema.fields[e[3]]),t.$set(s)},i(o){n||(g(t.$$.fragment,o),n=!0)},o(o){w(t.$$.fragment,o),n=!1},d(o){o&&_(l),B(t,o)}}}function oo(i){let e,l,t,n;const o=[ao,so],r=[];function s(a,f){var c,m;return(c=a[0])!=null&&c.isLoading?0:(m=a[0])!=null&&m.isSuccess&&a[0].data.schema.fields!=null?1:-1}return~(l=s(i))&&(t=r[l]=o[l](i)),{c(){e=I("div"),t&&t.c(),this.h()},l(a){e=D(a,"DIV",{class:!0});var f=E(e);t&&t.l(f),f.forEach(_),this.h()},h(){y(e,"class","schema flex h-full flex-col overflow-y-auto")},m(a,f){V(a,e,f),~l&&r[l].m(e,null),n=!0},p(a,[f]){let c=l;l=s(a),l===c?~l&&r[l].p(a,f):(t&&(ne(),w(r[c],1,1,()=>{r[c]=null}),ie()),~l?(t=r[l],t?t.p(a,f):(t=r[l]=o[l](a),t.c()),g(t,1),t.m(e,null)):t=null)},i(a){n||(g(t),n=!0)},o(a){w(t),n=!1},d(a){a&&_(e),~l&&r[l].d()}}}function fo(i,e,l){let t,n;const o=Ke();return ke(i,o,r=>l(2,n=r)),i.$$.update=()=>{i.$$.dirty&4&&l(0,t=n.selectRowsSchema)},[t,o,n]}class co extends ve{constructor(e){super(),we(this,e,fo,oo,be,{})}}function In(i,e,l){const t=i.slice();return t[5]=e[l],t}function uo(i){let e,l="{}",t;return{c(){e=I("span"),t=Y(l),this.h()},l(n){e=D(n,"SPAN",{class:!0});var o=E(e);t=Q(o,l),o.forEach(_),this.h()},h(){y(e,"class","font-mono")},m(n,o){V(n,e,o),v(e,t)},p:J,i:J,o:J,d(n){n&&_(e)}}}function mo(i){let e,l,t;var n=st[i[5].dtype];function o(r){return{props:{title:r[5].dtype}}}return n&&(e=it(n,o(i))),{c(){e&&P(e.$$.fragment),l=oe()},l(r){e&&H(e.$$.fragment,r),l=oe()},m(r,s){e&&A(e,r,s),V(r,l,s),t=!0},p(r,s){const a={};if(s&2&&(a.title=r[5].dtype),s&2&&n!==(n=st[r[5].dtype])){if(e){ne();const f=e;w(f.$$.fragment,1,0,()=>{B(f,1)}),ie()}n?(e=it(n,o(r)),P(e.$$.fragment),g(e.$$.fragment,1),A(e,l.parentNode,l)):e=null}else n&&e.$set(a)},i(r){t||(e&&g(e.$$.fragment,r),t=!0)},o(r){e&&w(e.$$.fragment,r),t=!1},d(r){r&&_(l),e&&B(e,r)}}}function Dn(i){let e;return{c(){e=Y("[]")},l(l){e=Q(l,"[]")},m(l,t){V(l,e,t)},d(l){l&&_(e)}}}function Vn(i){let e,l,t,n,o,r,s,a,f,c=i[5].path.indexOf(bt)>=0,m,u,d=Me(i[5].path)+"",h,p,k;function $(...M){return i[3](i[5],...M)}function b(...M){return i[4](i[5],...M)}t=new nr({props:{labelText:"Download",hideLabel:!0,checked:i[0].find($)!=null}}),t.$on("change",b);const S=[mo,uo],N=[];function T(M,Z){return M[5].dtype?0:1}s=T(i),a=N[s]=S[s](i);let C=c&&Dn();return{c(){e=I("div"),l=I("div"),P(t.$$.fragment),n=U(),o=I("div"),r=I("div"),a.c(),f=U(),C&&C.c(),m=U(),u=I("div"),h=Y(d),p=U(),this.h()},l(M){e=D(M,"DIV",{class:!0});var Z=E(e);l=D(Z,"DIV",{class:!0});var X=E(l);H(t.$$.fragment,X),X.forEach(_),n=j(Z),o=D(Z,"DIV",{class:!0});var R=E(o);r=D(R,"DIV",{class:!0});var F=E(r);a.l(F),f=j(F),C&&C.l(F),F.forEach(_),R.forEach(_),m=j(Z),u=D(Z,"DIV",{class:!0});var ee=E(u);h=Q(ee,d),ee.forEach(_),p=j(Z),Z.forEach(_),this.h()},h(){y(l,"class","mr-2"),y(r,"class","inline-flex items-center rounded-md bg-blue-200 p-0.5"),y(o,"class","flex w-10"),y(u,"class","flex-grow"),y(e,"class","flex items-center")},m(M,Z){V(M,e,Z),v(e,l),A(t,l,null),v(e,n),v(e,o),v(o,r),N[s].m(r,null),v(r,f),C&&C.m(r,null),v(e,m),v(e,u),v(u,h),v(e,p),k=!0},p(M,Z){i=M;const X={};Z&3&&(X.checked=i[0].find($)!=null),t.$set(X);let R=s;s=T(i),s===R?N[s].p(i,Z):(ne(),w(N[R],1,1,()=>{N[R]=null}),ie(),a=N[s],a?a.p(i,Z):(a=N[s]=S[s](i),a.c()),g(a,1),a.m(r,f)),Z&2&&(c=i[5].path.indexOf(bt)>=0),c?C||(C=Dn(),C.c(),C.m(r,null)):C&&(C.d(1),C=null),(!k||Z&2)&&d!==(d=Me(i[5].path)+"")&&fe(h,d)},i(M){k||(g(t.$$.fragment,M),g(a),k=!0)},o(M){w(t.$$.fragment,M),w(a),k=!1},d(M){M&&_(e),B(t),N[s].d(),C&&C.d()}}}function ho(i){let e,l,t=i[1],n=[];for(let r=0;r<t.length;r+=1)n[r]=Vn(In(i,t,r));const o=r=>w(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=oe()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=oe()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);V(r,e,s),l=!0},p(r,[s]){if(s&7){t=r[1];let a;for(a=0;a<t.length;a+=1){const f=In(r,t,a);n[a]?(n[a].p(f,s),g(n[a],1)):(n[a]=Vn(f),n[a].c(),g(n[a],1),n[a].m(e.parentNode,e))}for(ne(),a=t.length;a<n.length;a+=1)o(a);ie()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)g(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)w(n[s]);l=!1},d(r){Pe(n,r),r&&_(e)}}}function _o(i,e,l){let{fields:t}=e,{checkedFields:n}=e;function o(a,f){f.target.checked?(n.push(a),l(0,n)):l(0,n=n.filter(m=>!Xe(m.path,a.path)))}const r=(a,f)=>Xe(f.path,a.path),s=(a,f)=>o(a,f);return i.$$set=a=>{"fields"in a&&l(1,t=a.fields),"checkedFields"in a&&l(0,n=a.checkedFields)},[n,t,o,r,s]}class wt extends ve{constructor(e){super(),we(this,e,_o,ho,be,{fields:1,checkedFields:0})}}function Nn(i,e,l){const t=i.slice();return t[29]=e[l],t}function go(i){let e,l,t,n,o,r,s,a,f,c,m,u,d,h,p,k,$,b,S,N,T,C,M,Z,X,R,F,ee;function O(L){i[23](L)}let K={invalid:i[8]!=i[9]};return i[8]!==void 0&&(K.value=i[8]),S=new fr({props:K}),Oe.push(()=>We(S,"value",O)),Z=new Dr({}),{c(){e=I("div"),l=I("section"),t=I("div"),n=Y("Delete this dataset"),o=U(),r=I("div"),s=I("p"),a=Y("This action cannot be undone."),f=U(),c=I("p"),m=Y(`This will permanently delete the
                  `),u=I("span"),d=Y(i[9]),h=Y(` dataset and all its files. Please type
                  `),p=I("span"),k=Y(i[9]),$=Y(" to confirm."),b=U(),P(S.$$.fragment),T=U(),C=I("button"),M=Y(`I understand, delete this dataset
                `),P(Z.$$.fragment),this.h()},l(L){e=D(L,"DIV",{class:!0});var W=E(e);l=D(W,"SECTION",{class:!0});var le=E(l);t=D(le,"DIV",{class:!0});var q=E(t);n=Q(q,"Delete this dataset"),q.forEach(_),o=j(le),r=D(le,"DIV",{class:!0});var te=E(r);s=D(te,"P",{class:!0});var pe=E(s);a=Q(pe,"This action cannot be undone."),pe.forEach(_),f=j(te),c=D(te,"P",{});var ce=E(c);m=Q(ce,`This will permanently delete the
                  `),u=D(ce,"SPAN",{class:!0});var ae=E(u);d=Q(ae,i[9]),ae.forEach(_),h=Q(ce,` dataset and all its files. Please type
                  `),p=D(ce,"SPAN",{class:!0});var x=E(p);k=Q(x,i[9]),x.forEach(_),$=Q(ce," to confirm."),ce.forEach(_),te.forEach(_),b=j(le),H(S.$$.fragment,le),T=j(le),C=D(le,"BUTTON",{class:!0});var se=E(C);M=Q(se,`I understand, delete this dataset
                `),H(Z.$$.fragment,se),se.forEach(_),le.forEach(_),W.forEach(_),this.h()},h(){y(t,"class","text-lg text-gray-700"),y(s,"class","mb-2"),y(u,"class","font-bold"),y(p,"class","font-bold"),y(r,"class","mb-4 text-sm text-gray-500"),y(C,"class","mt-2 flex cursor-pointer flex-row justify-between p-4 text-left outline-red-400 hover:bg-gray-200"),C.disabled=X=i[8]!=i[9],ue(C,"cursor-not-allowed",i[8]!=i[9]),ue(C,"outline",i[8]==i[9]),ue(C,"opacity-50",i[8]!=i[9]),y(l,"class","flex flex-col gap-y-1"),y(e,"class","flex flex-col gap-y-6")},m(L,W){V(L,e,W),v(e,l),v(l,t),v(t,n),v(l,o),v(l,r),v(r,s),v(s,a),v(r,f),v(r,c),v(c,m),v(c,u),v(u,d),v(c,h),v(c,p),v(p,k),v(c,$),v(l,b),A(S,l,null),v(l,T),v(l,C),v(C,M),A(Z,C,null),R=!0,F||(ee=ze(C,"click",i[24]),F=!0)},p(L,W){(!R||W[0]&512)&&fe(d,L[9]),(!R||W[0]&512)&&fe(k,L[9]);const le={};W[0]&768&&(le.invalid=L[8]!=L[9]),!N&&W[0]&256&&(N=!0,le.value=L[8],Ge(()=>N=!1)),S.$set(le),(!R||W[0]&768&&X!==(X=L[8]!=L[9]))&&(C.disabled=X),(!R||W[0]&768)&&ue(C,"cursor-not-allowed",L[8]!=L[9]),(!R||W[0]&768)&&ue(C,"outline",L[8]==L[9]),(!R||W[0]&768)&&ue(C,"opacity-50",L[8]!=L[9])},i(L){R||(g(S.$$.fragment,L),g(Z.$$.fragment,L),R=!0)},o(L){w(S.$$.fragment,L),w(Z.$$.fragment,L),R=!1},d(L){L&&_(e),B(S),B(Z),F=!1,ee()}}}function po(i){let e,l,t,n;const o=[vo,bo],r=[];function s(a,f){return a[6].isFetching?0:1}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=oe()},l(a){l.l(a),t=oe()},m(a,f){r[e].m(a,f),V(a,t,f),n=!0},p(a,f){let c=e;e=s(a),e===c?r[e].p(a,f):(ne(),w(r[c],1,1,()=>{r[c]=null}),ie(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),g(l,1),l.m(t.parentNode,t))},i(a){n||(g(l),n=!0)},o(a){w(l),n=!1},d(a){r[e].d(a),a&&_(t)}}}function bo(i){let e,l,t,n,o,r,s,a,f,c,m,u,d,h,p,k,$,b,S,N,T,C,M,Z,X,R,F,ee,O;const K=[ko,wo],L=[];function W(x,se){return x[3]!=null?0:1}f=W(i),c=L[f]=K[f](i);const le=[Eo,$o],q=[];function te(x,se){return x[11].isFetching?0:1}N=te(i),T=q[N]=le[N](i);const pe=[Io,yo],ce=[];function ae(x,se){return x[3]!=null&&x[4]!=null?0:1}return F=ae(i),ee=ce[F]=pe[F](i),{c(){e=I("div"),l=I("section"),t=I("div"),n=Y("Media fields"),o=U(),r=I("div"),s=Y("These fields will be presented differently from the rest of the metadata fields."),a=U(),c.c(),m=U(),u=I("section"),d=I("div"),h=Y("Preferred embedding"),p=U(),k=I("div"),$=Y("This embedding will be used by default when indexing and querying the data."),b=U(),S=I("div"),T.c(),C=U(),M=I("section"),Z=I("div"),X=Y("Render as markdown"),R=U(),ee.c(),this.h()},l(x){e=D(x,"DIV",{class:!0});var se=E(e);l=D(se,"SECTION",{class:!0});var G=E(l);t=D(G,"DIV",{class:!0});var z=E(t);n=Q(z,"Media fields"),z.forEach(_),o=j(G),r=D(G,"DIV",{class:!0});var re=E(r);s=Q(re,"These fields will be presented differently from the rest of the metadata fields."),re.forEach(_),a=j(G),c.l(G),G.forEach(_),m=j(se),u=D(se,"SECTION",{class:!0});var Se=E(u);d=D(Se,"DIV",{class:!0});var me=E(d);h=Q(me,"Preferred embedding"),me.forEach(_),p=j(Se),k=D(Se,"DIV",{class:!0});var Fe=E(k);$=Q(Fe,"This embedding will be used by default when indexing and querying the data."),Fe.forEach(_),b=j(Se),S=D(Se,"DIV",{class:!0});var qe=E(S);T.l(qe),qe.forEach(_),Se.forEach(_),C=j(se),M=D(se,"SECTION",{class:!0});var et=E(M);Z=D(et,"DIV",{class:!0});var dt=E(Z);X=Q(dt,"Render as markdown"),dt.forEach(_),R=j(et),ee.l(et),et.forEach(_),se.forEach(_),this.h()},h(){y(t,"class","text-lg text-gray-700"),y(r,"class","text-sm text-gray-500"),y(l,"class","flex flex-col gap-y-1"),y(d,"class","text-lg text-gray-700"),y(k,"class","text-sm text-gray-500"),y(S,"class","w-60"),y(u,"class","flex flex-col gap-y-1"),y(Z,"class","text-lg text-gray-700"),y(M,"class","flex flex-col gap-y-1"),y(e,"class","flex flex-col gap-y-6")},m(x,se){V(x,e,se),v(e,l),v(l,t),v(t,n),v(l,o),v(l,r),v(r,s),v(l,a),L[f].m(l,null),v(e,m),v(e,u),v(u,d),v(d,h),v(u,p),v(u,k),v(k,$),v(u,b),v(u,S),q[N].m(S,null),v(e,C),v(e,M),v(M,Z),v(Z,X),v(M,R),ce[F].m(M,null),O=!0},p(x,se){let G=f;f=W(x),f===G?L[f].p(x,se):(ne(),w(L[G],1,1,()=>{L[G]=null}),ie(),c=L[f],c?c.p(x,se):(c=L[f]=K[f](x),c.c()),g(c,1),c.m(l,null));let z=N;N=te(x),N===z?q[N].p(x,se):(ne(),w(q[z],1,1,()=>{q[z]=null}),ie(),T=q[N],T?T.p(x,se):(T=q[N]=le[N](x),T.c()),g(T,1),T.m(S,null));let re=F;F=ae(x),F===re?ce[F].p(x,se):(ne(),w(ce[re],1,1,()=>{ce[re]=null}),ie(),ee=ce[F],ee?ee.p(x,se):(ee=ce[F]=pe[F](x),ee.c()),g(ee,1),ee.m(M,null))},i(x){O||(g(c),g(T),g(ee),O=!0)},o(x){w(c),w(T),w(ee),O=!1},d(x){x&&_(e),L[f].d(),q[N].d(),ce[F].d()}}}function vo(i){let e,l;return e=new Be({}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function wo(i){let e,l;return e=new Ot({}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function ko(i){let e,l,t;function n(r){i[21](r)}let o={fields:i[5]};return i[3]!==void 0&&(o.checkedFields=i[3]),e=new wt({props:o}),Oe.push(()=>We(e,"checkedFields",n)),{c(){P(e.$$.fragment)},l(r){H(e.$$.fragment,r)},m(r,s){A(e,r,s),t=!0},p(r,s){const a={};s[0]&32&&(a.fields=r[5]),!l&&s[0]&8&&(l=!0,a.checkedFields=r[3],Ge(()=>l=!1)),e.$set(a)},i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){w(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function $o(i){var t;let e,l;return e=new Jn({props:{selected:(t=i[6].data)==null?void 0:t.preferred_embedding,$$slots:{default:[So]},$$scope:{ctx:i}}}),e.$on("change",i[16]),{c(){P(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,o){A(e,n,o),l=!0},p(n,o){var s;const r={};o[0]&64&&(r.selected=(s=n[6].data)==null?void 0:s.preferred_embedding),o[0]&2048|o[1]&2&&(r.$$scope={dirty:o,ctx:n}),e.$set(r)},i(n){l||(g(e.$$.fragment,n),l=!0)},o(n){w(e.$$.fragment,n),l=!1},d(n){B(e,n)}}}function Eo(i){let e,l;return e=new Ot({}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Tn(i){let e,l;return e=new Mt({props:{value:i[29].name}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&2048&&(o.value=t[29].name),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function So(i){let e,l,t,n;e=new Mt({props:{value:void 0,text:"None"}});let o=i[11].data||[],r=[];for(let a=0;a<o.length;a+=1)r[a]=Tn(Nn(i,o,a));const s=a=>w(r[a],1,1,()=>{r[a]=null});return{c(){P(e.$$.fragment),l=U();for(let a=0;a<r.length;a+=1)r[a].c();t=oe()},l(a){H(e.$$.fragment,a),l=j(a);for(let f=0;f<r.length;f+=1)r[f].l(a);t=oe()},m(a,f){A(e,a,f),V(a,l,f);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(a,f);V(a,t,f),n=!0},p(a,f){if(f[0]&2048){o=a[11].data||[];let c;for(c=0;c<o.length;c+=1){const m=Nn(a,o,c);r[c]?(r[c].p(m,f),g(r[c],1)):(r[c]=Tn(m),r[c].c(),g(r[c],1),r[c].m(t.parentNode,t))}for(ne(),c=o.length;c<r.length;c+=1)s(c);ie()}},i(a){if(!n){g(e.$$.fragment,a);for(let f=0;f<o.length;f+=1)g(r[f]);n=!0}},o(a){w(e.$$.fragment,a),r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)w(r[f]);n=!1},d(a){B(e,a),a&&_(l),Pe(r,a),a&&_(t)}}}function yo(i){let e,l;return e=new Ot({}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Io(i){let e,l,t;function n(r){i[22](r)}let o={fields:i[3]};return i[4]!==void 0&&(o.checkedFields=i[4]),e=new wt({props:o}),Oe.push(()=>We(e,"checkedFields",n)),{c(){P(e.$$.fragment)},l(r){H(e.$$.fragment,r)},m(r,s){A(e,r,s),t=!0},p(r,s){const a={};s[0]&8&&(a.fields=r[3]),!l&&s[0]&16&&(l=!0,a.checkedFields=r[4],Ge(()=>l=!1)),e.$set(a)},i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){w(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function Do(i){let e,l,t,n,o,r,s,a;t=new or({props:{items:[{title:"Fields",value:"fields"},{title:"Administration",value:"administration"}],item:i[7]}}),t.$on("select",i[20]);const f=[po,go],c=[];function m(u,d){return u[7]==="fields"?0:u[7]==="administration"?1:-1}return~(r=m(i))&&(s=c[r]=f[r](i)),{c(){e=I("div"),l=I("div"),P(t.$$.fragment),n=U(),o=I("div"),s&&s.c(),this.h()},l(u){e=D(u,"DIV",{class:!0});var d=E(e);l=D(d,"DIV",{class:!0});var h=E(l);H(t.$$.fragment,h),h.forEach(_),n=j(d),o=D(d,"DIV",{class:!0});var p=E(o);s&&s.l(p),p.forEach(_),d.forEach(_),this.h()},h(){y(l,"class","-ml-4 mr-4 w-96 grow-0"),y(o,"class","flex w-full flex-col gap-y-6 rounded border border-gray-300 bg-white p-4"),y(e,"class","flex flex-row")},m(u,d){V(u,e,d),v(e,l),A(t,l,null),v(e,n),v(e,o),~r&&c[r].m(o,null),a=!0},p(u,d){const h={};d[0]&128&&(h.item=u[7]),t.$set(h);let p=r;r=m(u),r===p?~r&&c[r].p(u,d):(s&&(ne(),w(c[p],1,1,()=>{c[p]=null}),ie()),~r?(s=c[r],s?s.p(u,d):(s=c[r]=f[r](u),s.c()),g(s,1),s.m(o,null)):s=null)},i(u){a||(g(t.$$.fragment,u),g(s),a=!0)},o(u){w(t.$$.fragment,u),w(s),a=!1},d(u){u&&_(e),B(t),~r&&c[r].d()}}}function Vo(i){let e,l,t,n,o,r;return e=new Bt({props:{label:"Changes",title:"Dataset settings"}}),t=new Rt({props:{hasForm:!0,$$slots:{default:[Do]},$$scope:{ctx:i}}}),o=new Ht({props:{danger:i[7]==="administration",primaryButtonText:"Save",secondaryButtonText:"Cancel",primaryButtonDisabled:i[7]==="administration"}}),o.$on("click:button--secondary",close),{c(){P(e.$$.fragment),l=U(),P(t.$$.fragment),n=U(),P(o.$$.fragment)},l(s){H(e.$$.fragment,s),l=j(s),H(t.$$.fragment,s),n=j(s),H(o.$$.fragment,s)},m(s,a){A(e,s,a),V(s,l,a),A(t,s,a),V(s,n,a),A(o,s,a),r=!0},p(s,a){const f={};a[0]&7166|a[1]&2&&(f.$$scope={dirty:a,ctx:s}),t.$set(f);const c={};a[0]&128&&(c.danger=s[7]==="administration"),a[0]&128&&(c.primaryButtonDisabled=s[7]==="administration"),o.$set(c)},i(s){r||(g(e.$$.fragment,s),g(t.$$.fragment,s),g(o.$$.fragment,s),r=!0)},o(s){w(e.$$.fragment,s),w(t.$$.fragment,s),w(o.$$.fragment,s),r=!1},d(s){B(e,s),s&&_(l),B(t,s),s&&_(n),B(o,s)}}}function No(i){let e,l;return e=new At({props:{open:i[0],$$slots:{default:[Vo]},$$scope:{ctx:i}}}),e.$on("submit",i[17]),e.$on("close",i[25]),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.open=t[0]),n[0]&7166|n[1]&2&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function To(i,e,l){let t,n,o,r,s,a=J,f=()=>(a(),a=Ne(t,q=>l(6,s=q)),t),c,m,u;i.$$.on_destroy.push(()=>a());let{namespace:d}=e,{name:h}=e,{open:p=!1}=e,{schema:k}=e;const $=pi();ke(i,$,q=>l(28,c=q));const b=ii();ke(i,b,q=>l(11,m=q));const S=ir();ke(i,S,q=>l(27,r=q));let N="fields",T=null,C=null,M=c.embedding;function Z(q){M=q.target.value,M===""&&(M=void 0)}function X(){if(T==null)return;const q={ui:{media_paths:T.map(te=>te.path),markdown_paths:C==null?void 0:C.map(te=>te.path)},preferred_embedding:M};r.mutate([d,h,q],{onSuccess:()=>{l(0,p=!1)}})}let R="";const F=rr();ke(i,F,q=>l(12,u=q));const ee=q=>l(7,N=q.detail);function O(q){T=q,l(3,T),l(6,s),l(5,o),l(19,k)}function K(q){C=q,l(4,C),l(6,s),l(5,o),l(19,k)}function L(q){R=q,l(8,R)}const W=()=>u.mutate([d,h],{onSuccess:()=>Vt("/")}),le=()=>l(0,p=!1);return i.$$set=q=>{"namespace"in q&&l(1,d=q.namespace),"name"in q&&l(2,h=q.name),"open"in q&&l(0,p=q.open),"schema"in q&&l(19,k=q.schema)},i.$$.update=()=>{var q,te,pe,ce;if(i.$$.dirty[0]&6&&f(l(10,t=at(d,h))),i.$$.dirty[0]&6&&l(9,n=sr(d,h)),i.$$.dirty[0]&524288&&l(5,o=Ct(k).filter(ae=>ae.dtype==="string"&&!Xe(ae.path,[ar])&&!rt(ae))),i.$$.dirty[0]&104&&T==null){const ae=(((te=(q=s.data)==null?void 0:q.ui)==null?void 0:te.media_paths)||[]).map(x=>Array.isArray(x)?x:[x]);l(3,T=o.filter(x=>ae.some(se=>Xe(x.path,se))))}if(i.$$.dirty[0]&112&&C==null){const ae=(((ce=(pe=s.data)==null?void 0:pe.ui)==null?void 0:ce.markdown_paths)||[]).map(x=>Array.isArray(x)?x:[x]);l(4,C=o.filter(x=>ae.some(se=>Xe(x.path,se))))}},[p,d,h,T,C,o,s,N,R,n,t,m,u,$,b,S,Z,X,F,k,ee,O,K,L,W,le]}class Co extends ve{constructor(e){super(),we(this,e,To,No,be,{namespace:1,name:2,open:0,schema:19},null,[-1,-1])}}function Mo(i){let e,l,t;function n(r){i[13](r)}let o={fields:i[6]};return i[1]!==void 0&&(o.checkedFields=i[1]),e=new wt({props:o}),Oe.push(()=>We(e,"checkedFields",n)),{c(){P(e.$$.fragment)},l(r){H(e.$$.fragment,r)},m(r,s){A(e,r,s),t=!0},p(r,s){const a={};s&64&&(a.fields=r[6]),!l&&s&2&&(l=!0,a.checkedFields=r[1],Ge(()=>l=!1)),e.$set(a)},i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){w(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function zo(i){let e,l;return e=new Be({}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Cn(i){let e,l,t,n,o,r,s;const a=[Po,Fo],f=[];function c(m,u){return m[5]==null?0:1}return o=c(i),r=f[o]=a[o](i),{c(){e=I("section"),l=I("h4"),t=Y("Select enriched fields"),n=U(),r.c(),this.h()},l(m){e=D(m,"SECTION",{});var u=E(e);l=D(u,"H4",{class:!0});var d=E(l);t=Q(d,"Select enriched fields"),d.forEach(_),n=j(u),r.l(u),u.forEach(_),this.h()},h(){y(l,"class","svelte-1ge817j")},m(m,u){V(m,e,u),v(e,l),v(l,t),v(e,n),f[o].m(e,null),s=!0},p(m,u){let d=o;o=c(m),o===d?f[o].p(m,u):(ne(),w(f[d],1,1,()=>{f[d]=null}),ie(),r=f[o],r?r.p(m,u):(r=f[o]=a[o](m),r.c()),g(r,1),r.m(e,null))},i(m){s||(g(r),s=!0)},o(m){w(r),s=!1},d(m){m&&_(e),f[o].d()}}}function Fo(i){let e,l,t;function n(r){i[14](r)}let o={fields:i[5]};return i[2]!==void 0&&(o.checkedFields=i[2]),e=new wt({props:o}),Oe.push(()=>We(e,"checkedFields",n)),{c(){P(e.$$.fragment)},l(r){H(e.$$.fragment,r)},m(r,s){A(e,r,s),t=!0},p(r,s){const a={};s&32&&(a.fields=r[5]),!l&&s&4&&(l=!0,a.checkedFields=r[2],Ge(()=>l=!1)),e.$set(a)},i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){w(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function Po(i){let e,l;return e=new Be({}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Mn(i){let e,l;return{c(){e=I("p"),l=Y("No fields selected. Please select at least one field to download."),this.h()},l(t){e=D(t,"P",{class:!0});var n=E(e);l=Q(n,"No fields selected. Please select at least one field to download."),n.forEach(_),this.h()},h(){y(e,"class","text-gray-600")},m(t,n){V(t,e,n),v(e,l)},d(t){t&&_(e)}}}function Ao(i){let e,l;return e=new gi({props:{value:JSON.stringify(i[7].data,null,2),readonly:!0,rows:30,placeholder:"3 rows of data for previewing the response",class:"mb-2 font-mono"}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n&128&&(o.value=JSON.stringify(t[7].data,null,2)),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Bo(i){let e,l;return e=new Be({props:{paragraph:!0}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Ro(i){let e,l,t,n,o,r,s,a,f,c,m,u,d,h,p,k,$;const b=[zo,Mo],S=[];function N(R,F){return R[6]==null?0:1}o=N(i),r=S[o]=b[o](i);let T=(i[5]==null||i[5].length>0)&&Cn(i),C=i[3].length===0&&Mn();const M=[Bo,Ao],Z=[];function X(R,F){return R[7]&&R[7].isFetching?0:R[4]&&R[7]?1:-1}return~(p=X(i))&&(k=Z[p]=M[p](i)),{c(){e=I("section"),l=I("h4"),t=Y("Select source fields"),n=U(),r.c(),s=U(),T&&T.c(),a=U(),f=I("section"),c=I("h4"),m=Y("Download preview"),u=U(),C&&C.c(),d=U(),h=I("div"),k&&k.c(),this.h()},l(R){e=D(R,"SECTION",{});var F=E(e);l=D(F,"H4",{class:!0});var ee=E(l);t=Q(ee,"Select source fields"),ee.forEach(_),n=j(F),r.l(F),F.forEach(_),s=j(R),T&&T.l(R),a=j(R),f=D(R,"SECTION",{});var O=E(f);c=D(O,"H4",{class:!0});var K=E(c);m=Q(K,"Download preview"),K.forEach(_),u=j(O),C&&C.l(O),d=j(O),h=D(O,"DIV",{class:!0});var L=E(h);k&&k.l(L),L.forEach(_),O.forEach(_),this.h()},h(){y(l,"class","svelte-1ge817j"),y(c,"class","svelte-1ge817j"),y(h,"class","preview svelte-1ge817j")},m(R,F){V(R,e,F),v(e,l),v(l,t),v(e,n),S[o].m(e,null),V(R,s,F),T&&T.m(R,F),V(R,a,F),V(R,f,F),v(f,c),v(c,m),v(f,u),C&&C.m(f,null),v(f,d),v(f,h),~p&&Z[p].m(h,null),$=!0},p(R,F){let ee=o;o=N(R),o===ee?S[o].p(R,F):(ne(),w(S[ee],1,1,()=>{S[ee]=null}),ie(),r=S[o],r?r.p(R,F):(r=S[o]=b[o](R),r.c()),g(r,1),r.m(e,null)),R[5]==null||R[5].length>0?T?(T.p(R,F),F&32&&g(T,1)):(T=Cn(R),T.c(),g(T,1),T.m(a.parentNode,a)):T&&(ne(),w(T,1,1,()=>{T=null}),ie()),R[3].length===0?C||(C=Mn(),C.c(),C.m(f,d)):C&&(C.d(1),C=null);let O=p;p=X(R),p===O?~p&&Z[p].p(R,F):(k&&(ne(),w(Z[O],1,1,()=>{Z[O]=null}),ie()),~p?(k=Z[p],k?k.p(R,F):(k=Z[p]=M[p](R),k.c()),g(k,1),k.m(h,null)):k=null)},i(R){$||(g(r),g(T),g(k),$=!0)},o(R){w(r),w(T),w(k),$=!1},d(R){R&&_(e),S[o].d(),R&&_(s),T&&T.d(R),R&&_(a),R&&_(f),C&&C.d(),~p&&Z[p].d()}}}function Ho(i){let e,l,t,n,o,r;return e=new Bt({props:{title:"Download data"}}),t=new Rt({props:{hasForm:!0,$$slots:{default:[Ro]},$$scope:{ctx:i}}}),o=new Ht({props:{primaryButtonText:"Download",primaryButtonDisabled:i[3].length===0,secondaryButtonText:"Cancel"}}),o.$on("click:button--secondary",i[10]),{c(){P(e.$$.fragment),l=U(),P(t.$$.fragment),n=U(),P(o.$$.fragment)},l(s){H(e.$$.fragment,s),l=j(s),H(t.$$.fragment,s),n=j(s),H(o.$$.fragment,s)},m(s,a){A(e,s,a),V(s,l,a),A(t,s,a),V(s,n,a),A(o,s,a),r=!0},p(s,a){const f={};a&262398&&(f.$$scope={dirty:a,ctx:s}),t.$set(f);const c={};a&8&&(c.primaryButtonDisabled=s[3].length===0),o.$set(c)},i(s){r||(g(e.$$.fragment,s),g(t.$$.fragment,s),g(o.$$.fragment,s),r=!0)},o(s){w(e.$$.fragment,s),w(t.$$.fragment,s),w(o.$$.fragment,s),r=!1},d(s){B(e,s),s&&_(l),B(t,s),s&&_(n),B(o,s)}}}function Oo(i){let e,l;return e=new At({props:{size:"lg",open:i[0],$$slots:{default:[Ho]},$$scope:{ctx:i}}}),e.$on("submit",i[9]),e.$on("close",i[15]),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,[n]){const o={};n&1&&(o.open=t[0]),n&262398&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Lo(i,e,l){let t,n,o,r,s,a,f=J,c=()=>(f(),f=Ne(r,M=>l(7,a=M)),r);i.$$.on_destroy.push(()=>f());let{open:m=!1}=e,{schema:u}=e;const d=ut(),h=Ue();ke(i,h,M=>l(12,s=M));let p=[],k=[];function $(M){if(M==null)return{sourceFields:null,enrichedFields:null};const X=Ct(M).filter(F=>["embedding"].indexOf(F.dtype)===-1).filter(F=>!rt(F)),R=lt(M).filter(F=>Pt(F)).filter(F=>!lt(F).some(ee=>ee.dtype==="embedding"));return{sourceFields:X,enrichedFields:R}}async function b(){const M=s.namespace,Z=s.datasetName,X={combine_columns:!1,columns:o.map(ee=>ee.path)},R=`/api/v1/datasets/${M}/${Z}/select_rows_download?url_safe_options=${encodeURIComponent(JSON.stringify(X))}`,F=document.createElement("a");F.download=`${M}_${Z}.json`,F.href=R,document.body.appendChild(F),F.click(),F.remove()}function S(){l(0,m=!1),d("close")}function N(M){p=M,l(1,p)}function T(M){k=M,l(2,k)}const C=()=>l(0,m=!1);return i.$$set=M=>{"open"in M&&l(0,m=M.open),"schema"in M&&l(11,u=M.schema)},i.$$.update=()=>{i.$$.dirty&2048&&l(6,{sourceFields:t,enrichedFields:n}=$(u),t,(l(5,n),l(11,u))),i.$$.dirty&6&&l(3,o=[...p,...k]),i.$$.dirty&4104&&c(l(4,r=o.length>0?ci(s.namespace,s.datasetName,{columns:o.map(M=>M.path),limit:3,combine_columns:!1}):null))},[m,p,k,o,r,n,t,a,h,b,S,u,s,N,T,C]}class qo extends ve{constructor(e){super(),we(this,e,Lo,Oo,be,{open:0,schema:11})}}function zn(i,e,l){const t=i.slice();t[12]=e[l];const n=t[3](t[12]);t[13]=n;const o=t[4](t[12]);return t[14]=o,t}function Uo(i){let e,l,t,n,o,r,s,a,f;s=new xn({props:{size:"small",tooltipPosition:"left",icon:ei,iconDescription:"Sort dataset by concept score"}}),s.$on("click",i[5]);let c=i[2].data.rows,m=[];for(let d=0;d<c.length;d+=1)m[d]=Fn(zn(i,c,d));const u=d=>w(m[d],1,1,()=>{m[d]=null});return{c(){e=I("div"),l=I("div"),t=I("div"),n=Y("Items with highest score"),o=U(),r=I("div"),P(s.$$.fragment),a=U();for(let d=0;d<m.length;d+=1)m[d].c();this.h()},l(d){e=D(d,"DIV",{class:!0});var h=E(e);l=D(h,"DIV",{class:!0});var p=E(l);t=D(p,"DIV",{});var k=E(t);n=Q(k,"Items with highest score"),k.forEach(_),o=j(p),r=D(p,"DIV",{});var $=E(r);H(s.$$.fragment,$),$.forEach(_),p.forEach(_),a=j(h);for(let b=0;b<m.length;b+=1)m[b].l(h);h.forEach(_),this.h()},h(){y(l,"class","flex h-8 justify-between text-lg"),y(e,"class","flex flex-col gap-y-4")},m(d,h){V(d,e,h),v(e,l),v(l,t),v(t,n),v(l,o),v(l,r),A(s,r,null),v(e,a);for(let p=0;p<m.length;p+=1)m[p]&&m[p].m(e,null);f=!0},p(d,h){if(h&29){c=d[2].data.rows;let p;for(p=0;p<c.length;p+=1){const k=zn(d,c,p);m[p]?(m[p].p(k,h),g(m[p],1)):(m[p]=Fn(k),m[p].c(),g(m[p],1),m[p].m(e,null))}for(ne(),p=c.length;p<m.length;p+=1)u(p);ie()}},i(d){if(!f){g(s.$$.fragment,d);for(let h=0;h<c.length;h+=1)g(m[h]);f=!0}},o(d){w(s.$$.fragment,d),m=m.filter(Boolean);for(let h=0;h<m.length;h+=1)w(m[h]);f=!1},d(d){d&&_(e),B(s),Pe(m,d)}}}function jo(i){let e,l;return e=new Be({}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Fn(i){let e,l,t,n,o,r,s,a,f,c=$e(i[14])+"",m,u,d;return t=new _i({props:{text:i[13],row:i[12],spanPaths:i[0].spanPaths,valuePaths:i[0].valuePaths,embeddings:[]}}),{c(){e=I("div"),l=I("div"),P(t.$$.fragment),n=U(),o=I("div"),r=I("div"),s=Y("Max score"),a=U(),f=I("div"),m=Y(c),u=U(),this.h()},l(h){e=D(h,"DIV",{class:!0});var p=E(e);l=D(p,"DIV",{class:!0});var k=E(l);H(t.$$.fragment,k),k.forEach(_),n=j(p),o=D(p,"DIV",{class:!0});var $=E(o);r=D($,"DIV",{class:!0});var b=E(r);s=Q(b,"Max score"),b.forEach(_),a=j($),f=D($,"DIV",{class:!0});var S=E(f);m=Q(S,c),S.forEach(_),$.forEach(_),u=j(p),p.forEach(_),this.h()},h(){y(l,"class","flex-grow"),y(r,"class","text-sm text-gray-500"),y(f,"class","text-lg"),y(o,"class","flex flex-none flex-col items-end"),y(e,"class","flex gap-x-4 rounded border border-gray-300 px-4 py-2")},m(h,p){V(h,e,p),v(e,l),A(t,l,null),v(e,n),v(e,o),v(o,r),v(r,s),v(o,a),v(o,f),v(f,m),v(e,u),d=!0},p(h,p){const k={};p&4&&(k.text=h[13]),p&4&&(k.row=h[12]),p&1&&(k.spanPaths=h[0].spanPaths),p&1&&(k.valuePaths=h[0].valuePaths),t.$set(k),(!d||p&4)&&c!==(c=$e(h[14])+"")&&fe(m,c)},i(h){d||(g(t.$$.fragment,h),d=!0)},o(h){w(t.$$.fragment,h),d=!1},d(h){h&&_(e),B(t)}}}function Yo(i){let e,l,t,n;const o=[jo,Uo],r=[];function s(a,f){return a[2].isFetching?0:a[2].data?1:-1}return~(e=s(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=oe()},l(a){l&&l.l(a),t=oe()},m(a,f){~e&&r[e].m(a,f),V(a,t,f),n=!0},p(a,[f]){let c=e;e=s(a),e===c?~e&&r[e].p(a,f):(l&&(ne(),w(r[c],1,1,()=>{r[c]=null}),ie()),~e?(l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),g(l,1),l.m(t.parentNode,t)):l=null)},i(a){n||(g(l),n=!0)},o(a){w(l),n=!1},d(a){~e&&r[e].d(a),a&&_(t)}}}const Qo=5;function Wo(i,e,l){let t,n,o,r,s=J,a=()=>(s(),s=Ne(t,$=>l(2,r=$)),t);i.$$.on_destroy.push(()=>s());let{schema:f}=e,{namespace:c}=e,{datasetName:m}=e,{mediaPath:u}=e,{scorePath:d}=e;function h($){return gt.value(kt($,u),"string")}function p($){const b=d.slice(0,d.length-2),S=kt($,b);let N=0;for(const T of S){const C=gt.value(kt(T,["score"]),"float32");N=Math.max(N,C)}return N}function k(){const $=di(c,m);$.query.sort_by=[d],$.query.sort_order="DESC",$.insightsOpen=!1,Vt(ui(c,m,$))}return i.$$set=$=>{"schema"in $&&l(6,f=$.schema),"namespace"in $&&l(7,c=$.namespace),"datasetName"in $&&l(8,m=$.datasetName),"mediaPath"in $&&l(9,u=$.mediaPath),"scorePath"in $&&l(10,d=$.scorePath)},i.$$.update=()=>{i.$$.dirty&1984&&a(l(1,t=ci(c,m,{columns:[u,d],limit:Qo,combine_columns:!0,sort_by:[d]},f))),i.$$.dirty&1088&&l(11,n=[cr(f,d)]),i.$$.dirty&2112&&l(0,o=ti(f,n))},[o,t,r,h,p,k,f,c,m,u,d,n]}class Go extends ve{constructor(e){super(),we(this,e,Wo,Yo,be,{schema:6,namespace:7,datasetName:8,mediaPath:9,scorePath:10})}}function Ko(i){let e,l;return e=new Be({props:{lines:1,width:"200px"}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Zo(i){let e,l;return{c(){e=I("div"),l=Y(i[9]),this.h()},l(t){e=D(t,"DIV",{class:!0});var n=E(e);l=Q(n,i[9]),n.forEach(_),this.h()},h(){y(e,"class","text-sm text-gray-500")},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&512&&fe(l,t[9])},i:J,o:J,d(t){t&&_(e)}}}function Jo(i){let e,l=i[7].toFixed(2)+"",t,n,o=$e(i[3])+"",r,s;return{c(){e=I("div"),t=Y(l),n=Y("% ("),r=Y(o),s=Y(" items)"),this.h()},l(a){e=D(a,"DIV",{class:!0});var f=E(e);t=Q(f,l),n=Q(f,"% ("),r=Q(f,o),s=Q(f," items)"),f.forEach(_),this.h()},h(){y(e,"class","text-lg font-bold")},m(a,f){V(a,e,f),v(e,t),v(e,n),v(e,r),v(e,s)},p(a,f){f&128&&l!==(l=a[7].toFixed(2)+"")&&fe(t,l),f&8&&o!==(o=$e(a[3])+"")&&fe(r,o)},i:J,o:J,d(a){a&&_(e)}}}function Xo(i){let e,l;return e=new Be({props:{lines:1,width:"200px"}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function xo(i){let e,l,t,n,o=i[13].namespace+"",r,s,a=i[13].concept_name+"",f,c,m,u,d,h,p,k,$,b,S,N;const T=[Zo,Ko],C=[];function M(F,ee){return F[9]?0:1}u=M(i),d=C[u]=T[u](i);const Z=[Xo,Jo],X=[];function R(F,ee){return F[6].isFetching?0:1}return k=R(i),$=X[k]=Z[k](i),{c(){e=I("div"),l=I("div"),t=I("div"),n=I("span"),r=Y(o),s=Y(" / "),f=Y(a),m=U(),d.c(),h=U(),p=I("div"),$.c(),this.h()},l(F){e=D(F,"DIV",{slot:!0,class:!0});var ee=E(e);l=D(ee,"DIV",{class:!0});var O=E(l);t=D(O,"DIV",{class:!0});var K=E(t);n=D(K,"SPAN",{});var L=E(n);r=Q(L,o),s=Q(L," / "),f=Q(L,a),L.forEach(_),K.forEach(_),m=j(O),d.l(O),O.forEach(_),h=j(ee),p=D(ee,"DIV",{class:!0});var W=E(p);$.l(W),W.forEach(_),ee.forEach(_),this.h()},h(){y(t,"class","text-lg"),y(l,"class","w-full flex-grow"),y(p,"class","flex-none"),y(e,"slot","above"),y(e,"class","flex w-full items-center")},m(F,ee){V(F,e,ee),v(e,l),v(l,t),v(t,n),v(n,r),v(n,s),v(n,f),v(l,m),C[u].m(l,null),v(e,h),v(e,p),X[k].m(p,null),b=!0,S||(N=ye(c=Ie.call(null,n,{text:`version: ${i[8]}`})),S=!0)},p(F,ee){c&&Le(c.update)&&ee&256&&c.update.call(null,{text:`version: ${F[8]}`});let O=u;u=M(F),u===O?C[u].p(F,ee):(ne(),w(C[O],1,1,()=>{C[O]=null}),ie(),d=C[u],d?d.p(F,ee):(d=C[u]=T[u](F),d.c()),g(d,1),d.m(l,null));let K=k;k=R(F),k===K?X[k].p(F,ee):(ne(),w(X[K],1,1,()=>{X[K]=null}),ie(),$=X[k],$?$.p(F,ee):($=X[k]=Z[k](F),$.c()),g($,1),$.m(p,null))},i(F){b||(g(d),g($),b=!0)},o(F){w(d),w($),b=!1},d(F){F&&_(e),C[u].d(),X[k].d(),S=!1,N()}}}function ef(i){let e,l;return e=new Be({}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function tf(i){let e,l;return e=new Go({props:{schema:i[0],namespace:i[1],datasetName:i[2],mediaPath:i[12],scorePath:i[4]}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.schema=t[0]),n&2&&(o.namespace=t[1]),n&4&&(o.datasetName=t[2]),n&4096&&(o.mediaPath=t[12]),n&16&&(o.scorePath=t[4]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function lf(i){let e,l,t,n;const o=[tf,ef],r=[];function s(a,f){return a[5].data?0:1}return l=s(i),t=r[l]=o[l](i),{c(){e=I("div"),t.c(),this.h()},l(a){e=D(a,"DIV",{slot:!0});var f=E(e);t.l(f),f.forEach(_),this.h()},h(){y(e,"slot","below")},m(a,f){V(a,e,f),r[l].m(e,null),n=!0},p(a,f){let c=l;l=s(a),l===c?r[l].p(a,f):(ne(),w(r[c],1,1,()=>{r[c]=null}),ie(),t=r[l],t?t.p(a,f):(t=r[l]=o[l](a),t.c()),g(t,1),t.m(e,null))},i(a){n||(g(t),n=!0)},o(a){w(t),n=!1},d(a){a&&_(e),r[l].d()}}}function nf(i){let e,l;return e=new Vr({props:{$$slots:{below:[lf],above:[xo]},$$scope:{ctx:i}}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,[n]){const o={};n&70655&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}const rf="In concept",sf="Not in concept";function af(i,e,l){let t,n,o,r,s,a,f,c,m,u,d=J,h=()=>(d(),d=Ne(r,M=>l(5,u=M)),r),p,k=J,$=()=>(k(),k=Ne(o,M=>l(6,p=M)),o);i.$$.on_destroy.push(()=>d()),i.$$.on_destroy.push(()=>k());let{field:b}=e,{schema:S}=e,{namespace:N}=e,{datasetName:T}=e,C=b.signal;return i.$$set=M=>{"field"in M&&l(14,b=M.field),"schema"in M&&l(0,S=M.schema),"namespace"in M&&l(1,N=M.namespace),"datasetName"in M&&l(2,T=M.datasetName)},i.$$.update=()=>{var M,Z,X,R,F,ee,O;i.$$.dirty&16384&&l(4,t=[...b.path,bt,"score"]),i.$$.dirty&16384&&l(12,n=b.parent.path),i.$$.dirty&22&&$(l(11,o=fi(N,T,{leaf_path:t}))),i.$$.dirty&32&&l(9,s=(Z=(M=u.data)==null?void 0:M.metadata)==null?void 0:Z.description),i.$$.dirty&64&&l(15,a=((R=(X=p.data)==null?void 0:X.counts.find(([K,L])=>K===sf))==null?void 0:R[1])||0),i.$$.dirty&64&&l(3,f=((ee=(F=p.data)==null?void 0:F.counts.find(([K,L])=>K===rf))==null?void 0:ee[1])||0),i.$$.dirty&32&&l(8,c=(O=u.data)==null?void 0:O.version),i.$$.dirty&32776&&l(7,m=f/(f+a)*100)},h(l(10,r=Xn(C.namespace,C.concept_name))),[S,N,T,f,t,u,p,m,c,s,r,o,n,C,b,a]}class of extends ve{constructor(e){super(),we(this,e,af,nf,be,{field:14,schema:0,namespace:1,datasetName:2})}}function Pn(i,e,l){const t=i.slice();return t[9]=e[l],t}function ff(i){let e,l;return e=new Be({props:{paragraph:!0,lines:2,width:"200px"}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function cf(i){let e,l=$e(i[5])+"",t,n,o,r,s,a;return{c(){e=I("div"),t=Y(l),n=Y(" items"),o=U(),r=I("div"),s=Y(i[6]),a=Y(" chars on average")},l(f){e=D(f,"DIV",{});var c=E(e);t=Q(c,l),n=Q(c," items"),c.forEach(_),o=j(f),r=D(f,"DIV",{});var m=E(r);s=Q(m,i[6]),a=Q(m," chars on average"),m.forEach(_)},m(f,c){V(f,e,c),v(e,t),v(e,n),V(f,o,c),V(f,r,c),v(r,s),v(r,a)},p(f,c){c&32&&l!==(l=$e(f[5])+"")&&fe(t,l),c&64&&fe(s,f[6])},i:J,o:J,d(f){f&&_(e),f&&_(o),f&&_(r)}}}function An(i){let e,l;return e=new of({props:{schema:i[2],namespace:i[3],datasetName:i[4],field:i[9]}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n&4&&(o.schema=t[2]),n&8&&(o.namespace=t[3]),n&16&&(o.datasetName=t[4]),n&1&&(o.field=t[9]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function uf(i){let e,l,t,n,o,r,s,a,f,c;const m=[cf,ff],u=[];function d($,b){return $[5]&&$[6]?0:1}s=d(i),a=u[s]=m[s](i);let h=i[0],p=[];for(let $=0;$<h.length;$+=1)p[$]=An(Pn(i,h,$));const k=$=>w(p[$],1,1,()=>{p[$]=null});return{c(){e=I("div"),l=I("div"),t=I("div"),n=Y(i[1]),o=U(),r=I("div"),a.c(),f=U();for(let $=0;$<p.length;$+=1)p[$].c();this.h()},l($){e=D($,"DIV",{class:!0});var b=E(e);l=D(b,"DIV",{class:!0});var S=E(l);t=D(S,"DIV",{class:!0});var N=E(t);n=Q(N,i[1]),N.forEach(_),o=j(S),r=D(S,"DIV",{class:!0});var T=E(r);a.l(T),T.forEach(_),S.forEach(_),f=j(b);for(let C=0;C<p.length;C+=1)p[C].l(b);b.forEach(_),this.h()},h(){y(t,"class","flex-grow text-2xl font-semibold text-slate-900"),y(r,"class","flex-none text-sm text-gray-500"),y(l,"class","sticky top-0 flex rounded-xl border border-gray-300 bg-slate-50/80 px-4 py-3 backdrop-blur-sm"),y(e,"class","relative flex flex-col gap-y-4")},m($,b){V($,e,b),v(e,l),v(l,t),v(t,n),v(l,o),v(l,r),u[s].m(r,null),v(e,f);for(let S=0;S<p.length;S+=1)p[S]&&p[S].m(e,null);c=!0},p($,[b]){(!c||b&2)&&fe(n,$[1]);let S=s;if(s=d($),s===S?u[s].p($,b):(ne(),w(u[S],1,1,()=>{u[S]=null}),ie(),a=u[s],a?a.p($,b):(a=u[s]=m[s]($),a.c()),g(a,1),a.m(r,null)),b&29){h=$[0];let N;for(N=0;N<h.length;N+=1){const T=Pn($,h,N);p[N]?(p[N].p(T,b),g(p[N],1)):(p[N]=An(T),p[N].c(),g(p[N],1),p[N].m(e,null))}for(ne(),N=h.length;N<p.length;N+=1)k(N);ie()}},i($){if(!c){g(a);for(let b=0;b<h.length;b+=1)g(p[b]);c=!0}},o($){w(a),p=p.filter(Boolean);for(let b=0;b<p.length;b+=1)w(p[b]);c=!1},d($){$&&_(e),u[s].d(),Pe(p,$)}}}function df(i,e,l){let t,n,o,r,s=J,a=()=>(s(),s=Ne(t,h=>l(8,r=h)),t);i.$$.on_destroy.push(()=>s());let{concepts:f}=e,{mediaPath:c}=e,{schema:m}=e,{namespace:u}=e,{datasetName:d}=e;return i.$$set=h=>{"concepts"in h&&l(0,f=h.concepts),"mediaPath"in h&&l(1,c=h.mediaPath),"schema"in h&&l(2,m=h.schema),"namespace"in h&&l(3,u=h.namespace),"datasetName"in h&&l(4,d=h.datasetName)},i.$$.update=()=>{var h,p;i.$$.dirty&26&&a(l(7,t=oi(u,d,{leaf_path:c}))),i.$$.dirty&256&&l(6,n=(h=r.data)==null?void 0:h.avg_text_length),i.$$.dirty&256&&l(5,o=(p=r.data)==null?void 0:p.total_count)},[f,c,m,u,d,o,n,t,r]}class mf extends ve{constructor(e){super(),we(this,e,df,uf,be,{concepts:0,mediaPath:1,schema:2,namespace:3,datasetName:4})}}function Bn(i,e,l){const t=i.slice();t[8]=e[l];const n=t[5](t[8]);return t[9]=n,t}function Rn(i){let e,l;return e=new mf({props:{mediaPath:i[8],schema:i[0],namespace:i[1],datasetName:i[2],concepts:i[9]}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n&8&&(o.mediaPath=t[8]),n&1&&(o.schema=t[0]),n&2&&(o.namespace=t[1]),n&4&&(o.datasetName=t[2]),n&8&&(o.concepts=t[9]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function hf(i){let e,l,t=i[3],n=[];for(let r=0;r<t.length;r+=1)n[r]=Rn(Bn(i,t,r));const o=r=>w(n[r],1,1,()=>{n[r]=null});return{c(){e=I("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=D(r,"DIV",{class:!0});var s=E(e);for(let a=0;a<n.length;a+=1)n[a].l(s);s.forEach(_),this.h()},h(){y(e,"class","flex flex-col gap-y-6")},m(r,s){V(r,e,s);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null);l=!0},p(r,[s]){if(s&47){t=r[3];let a;for(a=0;a<t.length;a+=1){const f=Bn(r,t,a);n[a]?(n[a].p(f,s),g(n[a],1)):(n[a]=Rn(f),n[a].c(),g(n[a],1),n[a].m(e,null))}for(ne(),a=t.length;a<n.length;a+=1)o(a);ie()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)g(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)w(n[s]);l=!1},d(r){r&&_(e),Pe(n,r)}}}function _f(i,e,l){let t,n,o,r,s=J,a=()=>(s(),s=Ne(n,d=>l(6,r=d)),n);i.$$.on_destroy.push(()=>s());let{schema:f}=e,{namespace:c}=e,{datasetName:m}=e;function u(d){return t.filter(h=>ri(h.path,d))}return i.$$set=d=>{"schema"in d&&l(0,f=d.schema),"namespace"in d&&l(1,c=d.namespace),"datasetName"in d&&l(2,m=d.datasetName)},i.$$.update=()=>{var d,h;i.$$.dirty&1&&(t=lt(f).filter(p=>{var k;return((k=p.signal)==null?void 0:k.signal_name)=="concept_score"})),i.$$.dirty&6&&a(l(4,n=at(c,m))),i.$$.dirty&64&&l(3,o=(((h=(d=r.data)==null?void 0:d.ui)==null?void 0:h.media_paths)||[]).map(p=>Array.isArray(p)?p:[p]))},[f,c,m,o,n,u,r]}class gf extends ve{constructor(e){super(),we(this,e,_f,hf,be,{schema:0,namespace:1,datasetName:2})}}function Hn(i){let e,l,t,n,o,r,s,a;function f(d){i[24](d)}let c={schema:i[12].data,namespace:i[0],name:i[1]};i[4]!==void 0&&(c.open=i[4]),e=new Co({props:c}),Oe.push(()=>We(e,"open",f));function m(d){i[25](d)}let u={schema:i[12].data};return i[5]!==void 0&&(u.open=i[5]),n=new qo({props:u}),Oe.push(()=>We(n,"open",m)),s=new At({props:{size:"lg",open:i[3].insightsOpen,$$slots:{default:[bf]},$$scope:{ctx:i}}}),s.$on("close",i[26]),s.$on("submit",i[27]),{c(){P(e.$$.fragment),t=U(),P(n.$$.fragment),r=U(),P(s.$$.fragment)},l(d){H(e.$$.fragment,d),t=j(d),H(n.$$.fragment,d),r=j(d),H(s.$$.fragment,d)},m(d,h){A(e,d,h),V(d,t,h),A(n,d,h),V(d,r,h),A(s,d,h),a=!0},p(d,h){const p={};h[0]&4096&&(p.schema=d[12].data),h[0]&1&&(p.namespace=d[0]),h[0]&2&&(p.name=d[1]),!l&&h[0]&16&&(l=!0,p.open=d[4],Ge(()=>l=!1)),e.$set(p);const k={};h[0]&4096&&(k.schema=d[12].data),!o&&h[0]&32&&(o=!0,k.open=d[5],Ge(()=>o=!1)),n.$set(k);const $={};h[0]&8&&($.open=d[3].insightsOpen),h[0]&4107|h[1]&1&&($.$$scope={dirty:h,ctx:d}),s.$set($)},i(d){a||(g(e.$$.fragment,d),g(n.$$.fragment,d),g(s.$$.fragment,d),a=!0)},o(d){w(e.$$.fragment,d),w(n.$$.fragment,d),w(s.$$.fragment,d),a=!1},d(d){B(e,d),d&&_(t),B(n,d),d&&_(r),B(s,d)}}}function On(i){let e,l;return e=new gf({props:{schema:i[12].data,namespace:i[0],datasetName:i[1]}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&4096&&(o.schema=t[12].data),n[0]&1&&(o.namespace=t[0]),n[0]&2&&(o.datasetName=t[1]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function pf(i){let e,l,t=i[3].insightsOpen&&On(i);return{c(){t&&t.c(),e=oe()},l(n){t&&t.l(n),e=oe()},m(n,o){t&&t.m(n,o),V(n,e,o),l=!0},p(n,o){n[3].insightsOpen?t?(t.p(n,o),o[0]&8&&g(t,1)):(t=On(n),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(ne(),w(t,1,1,()=>{t=null}),ie())},i(n){l||(g(t),l=!0)},o(n){w(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}function bf(i){let e,l,t,n,o,r;return e=new Bt({props:{title:"Insights"}}),t=new Rt({props:{$$slots:{default:[pf]},$$scope:{ctx:i}}}),o=new Ht({props:{primaryButtonText:"Close"}}),{c(){P(e.$$.fragment),l=U(),P(t.$$.fragment),n=U(),P(o.$$.fragment)},l(s){H(e.$$.fragment,s),l=j(s),H(t.$$.fragment,s),n=j(s),H(o.$$.fragment,s)},m(s,a){A(e,s,a),V(s,l,a),A(t,s,a),V(s,n,a),A(o,s,a),r=!0},p(s,a){const f={};a[0]&4107|a[1]&1&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){r||(g(e.$$.fragment,s),g(t.$$.fragment,s),g(o.$$.fragment,s),r=!0)},o(s){w(e.$$.fragment,s),w(t.$$.fragment,s),w(o.$$.fragment,s),r=!1},d(s){B(e,s),s&&_(l),B(t,s),s&&_(n),B(o,s)}}}function Ln(i){let e,l;return e=new Lt({props:{open:!0,modalHeading:"Dataset config",primaryButtonText:"Ok",secondaryButtonText:"Cancel",$$slots:{default:[kf]},$$scope:{ctx:i}}}),e.$on("click:button--secondary",i[28]),e.$on("close",i[29]),e.$on("submit",i[30]),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&8192|n[1]&1&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function vf(i){let e,l;return e=new gi({props:{value:`${i[13].data}`,readonly:!0,rows:15,placeholder:"3 rows of data for previewing the response",class:"mb-2 font-mono"}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&8192&&(o.value=`${t[13].data}`),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function wf(i){let e,l;return e=new Be({}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function kf(i){let e,l,t,n,o,r,s,a,f,c;const m=[wf,vf],u=[];function d(h,p){var k,$;return(k=h[13])!=null&&k.isFetching?0:($=h[13])!=null&&$.data?1:-1}return~(s=d(i))&&(a=u[s]=m[s](i)),{c(){e=I("div"),l=Y(`This dataset configuration represents the transformations that created the dataset,
        including signals, embeddings, and user settings. This can be used with lilac.load to
        generate the dataset with the same view as presented.`),t=U(),n=I("div"),o=Y("config.yml"),r=U(),a&&a.c(),f=oe(),this.h()},l(h){e=D(h,"DIV",{class:!0});var p=E(e);l=Q(p,`This dataset configuration represents the transformations that created the dataset,
        including signals, embeddings, and user settings. This can be used with lilac.load to
        generate the dataset with the same view as presented.`),p.forEach(_),t=j(h),n=D(h,"DIV",{class:!0});var k=E(n);o=Q(k,"config.yml"),k.forEach(_),r=j(h),a&&a.l(h),f=oe(),this.h()},h(){y(e,"class","mb-4 text-sm"),y(n,"class","font-mono text-xs")},m(h,p){V(h,e,p),v(e,l),V(h,t,p),V(h,n,p),v(n,o),V(h,r,p),~s&&u[s].m(h,p),V(h,f,p),c=!0},p(h,p){let k=s;s=d(h),s===k?~s&&u[s].p(h,p):(a&&(ne(),w(u[k],1,1,()=>{u[k]=null}),ie()),~s?(a=u[s],a?a.p(h,p):(a=u[s]=m[s](h),a.c()),g(a,1),a.m(f.parentNode,f)):a=null)},i(h){c||(g(a),c=!0)},o(h){w(a),c=!1},d(h){h&&_(e),h&&_(t),h&&_(n),h&&_(r),~s&&u[s].d(h),h&&_(f)}}}function $f(i){let e,l,t,n,o,r,s,a,f,c,m;t=new co({}),s=new ha({});let u=i[12].data&&Hn(i),d=i[2]&&Ln(i);return{c(){e=I("div"),l=I("div"),P(t.$$.fragment),o=U(),r=I("div"),P(s.$$.fragment),a=U(),u&&u.c(),f=U(),d&&d.c(),c=oe(),this.h()},l(h){e=D(h,"DIV",{class:!0});var p=E(e);l=D(p,"DIV",{class:!0});var k=E(l);H(t.$$.fragment,k),k.forEach(_),o=j(p),r=D(p,"DIV",{class:!0});var $=E(r);H(s.$$.fragment,$),$.forEach(_),p.forEach(_),a=j(h),u&&u.l(h),f=j(h),d&&d.l(h),c=oe(),this.h()},h(){y(l,"class",n=Qt(`schema-container relative h-full ${i[11]?"w-0":"w-1/3"} border-r border-gray-200`)+" svelte-1xlsh2v"),y(r,"class","h-full w-2/3 flex-grow"),y(e,"class","flex h-full w-full")},m(h,p){V(h,e,p),v(e,l),A(t,l,null),v(e,o),v(e,r),A(s,r,null),V(h,a,p),u&&u.m(h,p),V(h,f,p),d&&d.m(h,p),V(h,c,p),m=!0},p(h,p){(!m||p[0]&2048&&n!==(n=Qt(`schema-container relative h-full ${h[11]?"w-0":"w-1/3"} border-r border-gray-200`)+" svelte-1xlsh2v"))&&y(l,"class",n),h[12].data?u?(u.p(h,p),p[0]&4096&&g(u,1)):(u=Hn(h),u.c(),g(u,1),u.m(f.parentNode,f)):u&&(ne(),w(u,1,1,()=>{u=null}),ie()),h[2]?d?(d.p(h,p),p[0]&4&&g(d,1)):(d=Ln(h),d.c(),g(d,1),d.m(c.parentNode,c)):d&&(ne(),w(d,1,1,()=>{d=null}),ie())},i(h){m||(g(t.$$.fragment,h),g(s.$$.fragment,h),g(u),g(d),m=!0)},o(h){w(t.$$.fragment,h),w(s.$$.fragment,h),w(u),w(d),m=!1},d(h){h&&_(e),B(t),B(s),h&&_(a),u&&u.d(h),h&&_(f),d&&d.d(h),h&&_(c)}}}function Ef(i){let e,l,t=i[3].namespace+"",n,o,r=i[3].datasetName+"",s,a,f;return{c(){e=I("div"),l=I("a"),n=Y(t),o=Y("/"),s=Y(r),this.h()},l(c){e=D(c,"DIV",{class:!0});var m=E(e);l=D(m,"A",{class:!0,href:!0});var u=E(l);n=Q(u,t),o=Q(u,"/"),s=Q(u,r),u.forEach(_),m.forEach(_),this.h()},h(){y(l,"class","font-semibold text-black"),y(l,"href",i[8]),y(e,"class","dataset-name svelte-1xlsh2v")},m(c,m){V(c,e,m),v(e,l),v(l,n),v(l,o),v(l,s),a||(f=ze(l,"click",i[21]),a=!0)},p(c,m){m[0]&8&&t!==(t=c[3].namespace+"")&&fe(n,t),m[0]&8&&r!==(r=c[3].datasetName+"")&&fe(s,r),m[0]&256&&y(l,"href",c[8])},d(c){c&&_(e),a=!1,f()}}}function Sf(i){let e,l,t,n,o,r,s,a,f,c,m,u,d,h,p;return t=new Ss({}),r=new Ye({props:{type:"outline",$$slots:{default:[Ef]},$$scope:{ctx:i}}}),f=new ct({}),u=new as({}),{c(){e=I("div"),l=I("button"),P(t.$$.fragment),o=U(),P(r.$$.fragment),s=U(),a=I("button"),P(f.$$.fragment),c=U(),m=I("button"),P(u.$$.fragment),this.h()},l(k){e=D(k,"DIV",{slot:!0,class:!0});var $=E(e);l=D($,"BUTTON",{class:!0});var b=E(l);H(t.$$.fragment,b),b.forEach(_),o=j($),H(r.$$.fragment,$),s=j($),a=D($,"BUTTON",{});var S=E(a);H(f.$$.fragment,S),S.forEach(_),c=j($),m=D($,"BUTTON",{});var N=E(m);H(u.$$.fragment,N),N.forEach(_),$.forEach(_),this.h()},h(){y(l,"class","mr-2"),ue(l,"bg-blue-100",!i[11]),ue(l,"outline-blue-400",!i[11]),ue(l,"outline",!i[11]),y(e,"slot","header-subtext"),y(e,"class","flex flex-row items-center gap-x-1")},m(k,$){V(k,e,$),v(e,l),A(t,l,null),v(e,o),A(r,e,null),v(e,s),v(e,a),A(f,a,null),v(e,c),v(e,m),A(u,m,null),d=!0,h||(p=[ye(n=Ie.call(null,l,{text:i[11]?"Show Schema":"Hide Schema"})),ze(l,"click",i[15]),ze(l,"keypress",i[15]),ze(a,"click",i[22]),ye(Ie.call(null,a,{text:"Dataset information"})),ye(Ie.call(null,m,{text:"Dataset insights"})),ze(m,"click",i[23])],h=!0)},p(k,$){n&&Le(n.update)&&$[0]&2048&&n.update.call(null,{text:k[11]?"Show Schema":"Hide Schema"}),(!d||$[0]&2048)&&ue(l,"bg-blue-100",!k[11]),(!d||$[0]&2048)&&ue(l,"outline-blue-400",!k[11]),(!d||$[0]&2048)&&ue(l,"outline",!k[11]);const b={};$[0]&264|$[1]&1&&(b.$$scope={dirty:$,ctx:k}),r.$set(b)},i(k){d||(g(t.$$.fragment,k),g(r.$$.fragment,k),g(f.$$.fragment,k),g(u.$$.fragment,k),d=!0)},o(k){w(t.$$.fragment,k),w(r.$$.fragment,k),w(f.$$.fragment,k),w(u.$$.fragment,k),d=!1},d(k){k&&_(e),B(t),B(r),B(f),B(u),h=!1,xe(p)}}}function yf(i){let e,l,t;return l=new Ca({}),{c(){e=I("div"),P(l.$$.fragment),this.h()},l(n){e=D(n,"DIV",{slot:!0,class:!0});var o=E(e);H(l.$$.fragment,o),o.forEach(_),this.h()},h(){y(e,"slot","header-center"),y(e,"class","flex w-full items-center")},m(n,o){V(n,e,o),A(l,e,null),t=!0},p:J,i(n){t||(g(l.$$.fragment,n),t=!0)},o(n){w(l.$$.fragment,n),t=!1},d(n){n&&_(e),B(l)}}}function qn(i){let e,l,t,n;return{c(){e=I("div"),l=Y("Copied!"),this.h()},l(o){e=D(o,"DIV",{class:!0});var r=E(e);l=Q(r,"Copied!"),r.forEach(_),this.h()},h(){y(e,"class","absolute right-12 z-50 mt-2 rounded border border-neutral-300 bg-neutral-50 px-4 py-1 text-xs")},m(o,r){V(o,e,r),v(e,l),n=!0},i(o){n||(t&&t.end(1),n=!0)},o(o){t=Mi(e,Rr,{}),n=!1},d(o){o&&_(e),o&&t&&t.end()}}}function If(i){let e,l,t,n,o,r,s,a,f,c,m,u,d,h,p,k,$,b,S,N=i[6]&&qn();return s=new Nr({}),c=new ts({}),h=new Tr({}),{c(){e=I("div"),l=I("div"),t=I("div"),n=I("div"),N&&N.c(),o=U(),r=I("button"),P(s.$$.fragment),a=U(),f=I("button"),P(c.$$.fragment),m=U(),u=I("div"),d=I("button"),P(h.$$.fragment),this.h()},l(T){e=D(T,"DIV",{slot:!0});var C=E(e);l=D(C,"DIV",{class:!0});var M=E(l);t=D(M,"DIV",{class:!0});var Z=E(t);n=D(Z,"DIV",{class:!0});var X=E(n);N&&N.l(X),o=j(X),r=D(X,"BUTTON",{});var R=E(r);H(s.$$.fragment,R),R.forEach(_),X.forEach(_),a=j(Z),f=D(Z,"BUTTON",{});var F=E(f);H(c.$$.fragment,F),F.forEach(_),m=j(Z),u=D(Z,"DIV",{class:!0});var ee=E(u);d=D(ee,"BUTTON",{});var O=E(d);H(h.$$.fragment,O),O.forEach(_),ee.forEach(_),Z.forEach(_),M.forEach(_),C.forEach(_),this.h()},h(){y(n,"class","relative"),d.disabled=p=!i[9],y(u,"class","mr-2"),ue(u,"opacity-40",!i[9]),y(t,"class","flex"),y(l,"class","flex h-full flex-col"),y(e,"slot","header-right")},m(T,C){V(T,e,C),v(e,l),v(l,t),v(t,n),N&&N.m(n,null),v(n,o),v(n,r),A(s,r,null),v(t,a),v(t,f),A(c,f,null),v(t,m),v(t,u),v(u,d),A(h,d,null),$=!0,b||(S=[ye(Ie.call(null,r,{text:"Copy the URL"})),ze(r,"click",i[18]),ye(Ie.call(null,f,{text:"Download data"})),ze(f,"click",i[19]),ye(Ie.call(null,d,{text:"Dataset settings"})),ze(d,"click",i[20]),ye(k=Ie.call(null,u,{text:i[9]?"":"User does not have access to update settings of this dataset."}))],b=!0)},p(T,C){T[6]?N?C[0]&64&&g(N,1):(N=qn(),N.c(),g(N,1),N.m(n,o)):N&&(ne(),w(N,1,1,()=>{N=null}),ie()),(!$||C[0]&512&&p!==(p=!T[9]))&&(d.disabled=p),k&&Le(k.update)&&C[0]&512&&k.update.call(null,{text:T[9]?"":"User does not have access to update settings of this dataset."}),(!$||C[0]&512)&&ue(u,"opacity-40",!T[9])},i(T){$||(g(N),g(s.$$.fragment,T),g(c.$$.fragment,T),g(h.$$.fragment,T),$=!0)},o(T){w(N),w(s.$$.fragment,T),w(c.$$.fragment,T),w(h.$$.fragment,T),$=!1},d(T){T&&_(e),N&&N.d(),B(s),B(c),B(h),b=!1,xe(S)}}}function Df(i){let e,l;return e=new Fi({props:{$$slots:{"header-right":[If],"header-center":[yf],"header-subtext":[Sf],default:[$f]},$$scope:{ctx:i}}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&15231|n[1]&1&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Vf(i,e,l){let t,n,o,r,s,a,f,c,m=J,u=()=>(m(),m=Ne(n,ae=>l(12,c=ae)),n),d,h=J,p=()=>(h(),h=Ne(s,ae=>l(13,d=ae)),s);i.$$.on_destroy.push(()=>m()),i.$$.on_destroy.push(()=>h());let{namespace:k}=e,{datasetName:$}=e;const b=Ue();ke(i,b,ae=>l(3,f=ae));function S(){Et(b,f.schemaCollapsed=!f.schemaCollapsed,f)}let N=!1,T=!1;const C=Ft();ke(i,C,ae=>l(17,a=ae));let M=!1,Z=!1;const X=()=>navigator.clipboard.writeText(location.href).then(()=>{l(6,M=!0),setTimeout(()=>l(6,M=!1),2e3)},()=>{throw Error("Error copying link to clipboard.")}),R=()=>l(5,T=!0),F=()=>l(4,N=!0),ee=()=>Vt(r),O=()=>l(2,Z=!0),K=()=>b.setInsightsOpen(!0);function L(ae){N=ae,l(4,N)}function W(ae){T=ae,l(5,T)}const le=()=>b.setInsightsOpen(!1),q=()=>b.setInsightsOpen(!1),te=()=>l(2,Z=!1),pe=()=>l(2,Z=!1),ce=()=>l(2,Z=!1);return i.$$set=ae=>{"namespace"in ae&&l(0,k=ae.namespace),"datasetName"in ae&&l(1,$=ae.datasetName)},i.$$.update=()=>{var ae;i.$$.dirty[0]&8&&l(11,t=f.schemaCollapsed),i.$$.dirty[0]&8&&u(l(10,n=zt(f.namespace,f.datasetName))),i.$$.dirty[0]&131072&&l(9,o=(ae=a.data)==null?void 0:ae.access.dataset.update_settings),i.$$.dirty[0]&3&&l(8,r=ui(k,$)),i.$$.dirty[0]&7&&p(l(7,s=Z?ur(k,$,"yaml"):null))},[k,$,Z,f,N,T,M,s,r,o,n,t,c,d,b,S,C,a,X,R,F,ee,O,K,L,W,le,q,te,pe,ce]}class Nf extends ve{constructor(e){super(),we(this,e,Vf,Df,be,{namespace:0,datasetName:1},null,[-1,-1])}}function Tf(i){let e;return{c(){e=Y("Page not found! Please specify a dataset.")},l(l){e=Q(l,"Page not found! Please specify a dataset.")},m(l,t){V(l,e,t)},p:J,i:J,o:J,d(l){l&&_(e)}}}function Cf(i){let e=i[2],l,t,n=Un(i);return{c(){n.c(),l=oe()},l(o){n.l(o),l=oe()},m(o,r){n.m(o,r),V(o,l,r),t=!0},p(o,r){r&4&&be(e,e=o[2])?(ne(),w(n,1,1,J),ie(),n=Un(o),n.c(),g(n,1),n.m(l.parentNode,l)):n.p(o,r)},i(o){t||(g(n),t=!0)},o(o){w(n),t=!1},d(o){o&&_(l),n.d(o)}}}function Un(i){let e,l;return e=new Nf({props:{namespace:i[0],datasetName:i[1]}}),{c(){P(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.namespace=t[0]),n&2&&(o.datasetName=t[1]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Mf(i){let e,l,t,n;const o=[Cf,Tf],r=[];function s(a,f){return a[2]&&a[0]&&a[1]?0:1}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=oe()},l(a){l.l(a),t=oe()},m(a,f){r[e].m(a,f),V(a,t,f),n=!0},p(a,[f]){let c=e;e=s(a),e===c?r[e].p(a,f):(ne(),w(r[c],1,1,()=>{r[c]=null}),ie(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),g(l,1),l.m(t.parentNode,t))},i(a){n||(g(l),n=!0)},o(a){w(l),n=!1},d(a){r[e].d(a),a&&_(t)}}}function zf(i,e,l){let t,n,o,r,s,a,f,c,m=J,u=()=>(m(),m=Ne(f,O=>l(10,c=O)),f),d,h=J,p=()=>(h(),h=Ne(t,O=>l(11,d=O)),t),k,$=J,b=()=>($(),$=Ne(a,O=>l(12,k=O)),a),S,N=J,T=()=>(N(),N=Ne(r,O=>l(13,S=O)),r),C,M=J,Z=()=>(M(),M=Ne(o,O=>l(14,C=O)),o),X;i.$$.on_destroy.push(()=>m()),i.$$.on_destroy.push(()=>h()),i.$$.on_destroy.push(()=>$()),i.$$.on_destroy.push(()=>N()),i.$$.on_destroy.push(()=>M());let R,F;const ee=dr();return ke(i,ee,O=>l(15,X=O)),i.$$.update=()=>{if(i.$$.dirty&32771&&X.page==="datasets")if(X.identifier==""||X.identifier==null)l(0,R=void 0),l(1,F=void 0);else{const[O,K]=X.identifier.split("/");(R!=O||F!=K)&&(l(0,R=O),l(1,F=K))}if(i.$$.dirty&3&&p(l(2,t=R&&F?br(R,F):null)),i.$$.dirty&7&&t!=null){const O=di(R,F);mr("datasets",`${R}/${F}`,t,ee,K=>pr(K,O),K=>gr(K,O))}i.$$.dirty&4&&t!=null&&hr(t),i.$$.dirty&3&&l(8,n=R&&F?vr(R,F):null),i.$$.dirty&256&&n!=null&&_r(n),i.$$.dirty&3&&Z(l(6,o=R&&F?at(R,F):null)),i.$$.dirty&16640&&n&&C!=null&&C.data&&n.setSettings(C.data),i.$$.dirty&3&&T(l(5,r=R&&F?zt(R,F):null)),i.$$.dirty&8448&&n&&S!=null&&S.data&&n.setSchema(S.data),i.$$.dirty&8192&&l(9,s=S!=null&&S.data?wr("string",S.data):null),i.$$.dirty&515&&b(l(4,a=R&&F&&s?kr(R,F,s.map(O=>O.path)):null)),i.$$.dirty&4352&&n&&k!=null&&k.data&&!k.isFetching&&n.setStats(k.data),i.$$.dirty&2051&&u(l(3,f=R&&F&&d?$r(R,F,Er(d)):null)),i.$$.dirty&1280&&n&&c!=null&&c.data&&n.setSelectRowsSchema(c)},[R,F,t,f,a,r,o,ee,n,s,c,d,k,S,C,X]}class Wf extends ve{constructor(e){super(),we(this,e,zf,Mf,be,{})}}export{Wf as component};
