Metadata-Version: 2.1
Name: nonebot_plugin_bottle
Version: 1.0.2.0
Summary: Bottle post plugin in Nonebot
Home-page: https://github.com/Todysheep/nonebot_plugin_bottle
License: GNU GPLv3
Author: Todysheep
Author-email: todysheep@163.com
Requires-Python: >=3.8,<4.0
Classifier: License :: Other/Proprietary License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Requires-Dist: aiofiles (>=0.8.0)
Requires-Dist: httpx (>=0.23.0)
Requires-Dist: nonebot-adapter-onebot (>=2.2.0)
Requires-Dist: nonebot-plugin-datastore (>=0.6.0)
Requires-Dist: nonebot2[fastapi] (>=2.0.0,<3.0.0)
Project-URL: Repository, https://github.com/Todysheep/nonebot_plugin_bottle
Description-Content-Type: text/markdown

# Nonebot æ¼‚æµç“¶æ’ä»¶
## å®‰è£…
- ä½¿ç”¨ `pip install nonebot_plugin_bottle`
- ä½¿ç”¨ `nb plugin install nonebot_plugin_bottle`
## æŒ‡ä»¤ (å‰åº”å¸¦æŒ‡ä»¤å‰ç¼€)
- `æ‰”æ¼‚æµç“¶ [æ–‡æœ¬/å›¾ç‰‡] `æˆ– `æ‰”æ¼‚æµç“¶` åä¸€æ¡æ¶ˆæ¯è·Ÿæ¼‚æµç“¶å†…å®¹
- `å¯„æ¼‚æµç“¶` [æ–‡æœ¬/å›¾ç‰‡] ï¼ˆåŒ`æ‰”æ¼‚æµç“¶`ï¼Œé˜²æ­¢æŒ‡ä»¤å†²çªç”¨ï¼‰
- `æ¡æ¼‚æµç“¶` 
- `è¯„è®ºæ¼‚æµç“¶` [æ¼‚æµç“¶ç¼–å·] [æ–‡æœ¬]
- `ä¸¾æŠ¥æ¼‚æµç“¶` [æ¼‚æµç“¶ç¼–å·]
- `æŸ¥çœ‹æ¼‚æµç“¶` [æ¼‚æµç“¶ç¼–å·]
- `åˆ é™¤æ¼‚æµç“¶` [æ¼‚æµç“¶ç¼–å·]
- `æˆ‘çš„æ¼‚æµç“¶`
### SUPERUSERæŒ‡ä»¤ï¼š
- `æ¸…ç©ºæ¼‚æµç“¶`
- `æ¢å¤æ¼‚æµç“¶ [æ¼‚æµç“¶ç¼–å·]`
- `åˆ é™¤æ¼‚æµç“¶è¯„è®º` [æ¼‚æµç“¶ç¼–å·] [QQå·]
- `æ¼‚æµç“¶ç™½åå•` [QQ / ç¾¤èŠ] [QQå· / ç¾¤å·]
- `æ¼‚æµç“¶é»‘åå•` [QQ / ç¾¤èŠ / ä¸¾æŠ¥] [QQå· / ç¾¤å·]
- `æ¼‚æµç“¶è¯¦æƒ…` [æ¼‚æµç“¶ç¼–å·]

## åŠŸèƒ½é¡»çŸ¥
- æ‰€æœ‰ç”¨æˆ·ï¼š
    - `æ‰”æ¼‚æµç“¶`æŒ‡ä»¤æ— å­—æ•°é™åˆ¶ï¼Œå¦‚éœ€è¦å¯åœ¨ä»£ç ä¸­ä¿®æ”¹ã€‚è‹¥åªè¯´äº†æ‰”æ¼‚æµç“¶ï¼Œåˆ™æ’ä»¶å°†ä¼šç›‘å¬ç”¨æˆ·çš„ä¸‹ä¸€æ¡æ¶ˆæ¯ã€‚
    - `æ¡æ¼‚æµç“¶`è‹¥æ¡åˆ°çš„æ¼‚æµç“¶å­˜åœ¨å›å¤ï¼Œåˆ™ä¼šæ˜¾ç¤ºæœ€è¿‘ä¸‰æ¡(é»˜è®¤)ï¼Œä½¿ç”¨`æŸ¥çœ‹æ¼‚æµç“¶`æŸ¥çœ‹æ‰€æœ‰å›å¤
    - `æŸ¥çœ‹æ¼‚æµç“¶`ä¸ºä¿è¯éšæœºæ€§ï¼Œæ— è¯„è®ºæ—¶ä¸å±•ç¤ºæ¼‚æµç“¶å†…å®¹ï¼Œå¯åœ¨ä»£ç ä¸­ä¿®æ”¹ã€‚æ¼‚æµç“¶çš„å‘é€è€…å¯ä»¥é€šè¿‡æœ¬æŒ‡ä»¤æŸ¥çœ‹å†…å®¹ï¼Œæ— è®ºæœ‰æ— è¯„è®ºã€‚
    - `è¯„è®ºæ¼‚æµç“¶`è¯„è®ºå†…å®¹å°†é€šè¿‡è¯¥ç“¶å­æ‰”å‡ºçš„æ–¹å¼å‘Šè¯‰æ‰”å‡ºç“¶å­çš„äºº
    - `ä¸¾æŠ¥æ¼‚æµç“¶`äº”æ¬¡(é»˜è®¤)åå°†è‡ªåŠ¨åˆ é™¤ï¼Œä¸¾æŠ¥æˆåŠŸåä¼šç§èŠSUPERUSERæ¼‚æµç“¶è¯¦æƒ…å†…å®¹
    - `åˆ é™¤æ¼‚æµç“¶`æ¼‚æµç“¶å‘é€è€…å¯ä»¥åˆ é™¤è‡ªå·±æ‰”å‡ºçš„æ¼‚æµç“¶ã€‚äºŒæ¬¡ç¡®è®¤ä¼šè§¦å‘åˆ é™¤æ“ä½œçš„æŒ‡ä»¤ä¸ºï¼š`æ˜¯/Y/Yes/y/yes`ã€‚å…¶ä»–çš„å‡ç›´æ¥å–æ¶ˆæ“ä½œã€‚
- SUPERUSER:
    - `åˆ é™¤æ¼‚æµç“¶`å¯ä»¥åˆ é™¤æŒ‡å®šæ¼‚æµç“¶
    - `æ¸…ç©ºæ¼‚æµç“¶`é¡¾åæ€ä¹‰ï¼Œä½¿ç”¨éœ€è°¨æ…
    - `æ¢å¤æ¼‚æµç“¶`å¯ä»¥æ¢å¤è¢«åˆ é™¤çš„æ¼‚æµç“¶
    - `åˆ é™¤æ¼‚æµç“¶è¯„è®º`å¯åˆ é™¤è¯¥å‘é€è€…åœ¨è¯¥ç“¶çš„æ‰€æœ‰è¯„è®º
    - `æ¼‚æµç“¶è¯¦æƒ…`å°†ä¼šå‘é€æ¼‚æµç“¶å‘é€è€…çš„QQå·å’Œç¾¤å·ï¼Œæ‰€æœ‰å›å¤äººçš„QQå·
    - `æ¼‚æµç“¶é»‘åå•`ä¸­`ä¸¾æŠ¥`é€‰é¡¹æ˜¯æŒ‡`ä¸¾æŠ¥æ¼‚æµç“¶`çš„ä½¿ç”¨æƒé™
    - `æ¼‚æµç“¶æ•°æ®åº“`å­˜æ”¾åœ¨`data/bottle/data.json`ä¸­
    - `æƒé™æ•°æ®åº“` å­˜æ”¾åœ¨`data/bottle/permissionsList.json`ä¸­
    - `æ¼‚æµç“¶å±è”½è¯` å­˜æ”¾åœ¨`data/bottle/curse.json`ä¸­ï¼Œ**æ”¯æŒçƒ­æ›´æ”¹**
## æƒé™æ§åˆ¶
- æ‰€æœ‰éSUPERUSERæŒ‡ä»¤å‡å—åˆ°æƒé™æ§åˆ¶
- `åŠŸèƒ½å†·å´å¼€å…³`ï¼šæ’ä»¶é»˜è®¤å¼€å¯ï¼Œå¯åœ¨`data/bottle/permissionsList.json`ä¸­ä¿®æ”¹`enableCooldown`boolå€¼(True/False)
- `åŠŸèƒ½å†·å´`ï¼šæ’ä»¶é»˜è®¤ 30 ç§’å†·å´ï¼Œå¯åœ¨`data/bottle/permissionsList.json`ä¸­ä¿®æ”¹`cooldownTime`å€¼  
- ç™½åå•ä¼˜å…ˆçº§é«˜äºé»‘åå•å’Œå†·å´åå•

## é˜²åˆ·å±é…ç½®
### æœ€å¤§å­—ç¬¦æ•°é‡
- æœ€å¤§å­—ç¬¦æ•°é‡é…ç½®ç”¨äºé™åˆ¶æ¼‚æµç“¶æœ€å¤§å¯æŠ•æ·çš„å­—æ•°ã€‚
- ä½¿ç”¨`len()`å‡½æ•°ï¼Œæ‰€æœ‰æ±‰å­—ã€è‹±æ–‡å­—æ¯ã€ç©ºæ ¼å‡è¢«ç®—ä½œ1ã€‚
- è¯¥é…ç½®é¡¹è®¾ç½®ä¸º0æ—¶ä¸é™åˆ¶å­—ç¬¦æ•°é‡ã€‚é»˜è®¤è®¾ç½®ä¸º0ã€‚
### æœ€å¤§æ¢è¡Œæ•°é‡
- æœ€å¤§æ¢è¡Œæ•°é‡ï¼Œä»£è¡¨æ¼‚æµç“¶å†…å®¹æœ€å¤§å¯æ‹¥æœ‰æ¢è¡Œçš„æ•°é‡ã€‚
- å¯é˜²æ­¢ç”¨æˆ·ä¸æ–­æ¢è¡Œï¼Œæ²¡æœ‰è§¦å‘æœ€å¤§å­—ç¬¦æ•°é‡é™åˆ¶ï¼Œä½†æ˜¯è¿˜ä¼šåˆ·å±ã€‚
- è¯¥é…ç½®é¡¹è®¾ç½®ä¸º0æ—¶ä¸é™åˆ¶æ¢è¡Œæ•°é‡ã€‚é»˜è®¤è®¾ç½®ä¸º0ã€‚
### æœ€å¤§å­—ç¬¦æ¢è¡Œæ¯”ç‡
- æœ€å¤§å­—ç¬¦æ¢è¡Œæ¯”ç‡ï¼Œæ˜¯æ¼‚æµç“¶æ€»å­—ç¬¦æ•°é‡å’Œå…¶æ¢è¡Œæ•°é‡çš„æ¯”å€¼ã€‚
- ä»…å½“æ¼‚æµç“¶æ¢è¡Œæ•°é‡åœ¨â€œæœ€å¤§æ¢è¡Œæ•°é‡â€ä¹‹ä¸‹æ—¶è§¦å‘ï¼Œå¯ç”¨äºæ£€æµ‹æ˜¯å¦æ¶‰åŠåˆ°æ— æ„ä¹‰æ¢è¡Œåˆ·å±ã€‚
- è¯¥é…ç½®é¡¹çš„æ•°å­—ï¼ˆxï¼‰ä»£è¡¨æ¯xä¸ªå­—ç¬¦ï¼ˆåŒ…å«ï¼‰å°±å¯ä»¥æœ‰1ä¸ªæ¢è¡Œã€‚
- ä¾‹å¦‚æˆ‘å‘äº†ä¸€ä¸ªå­—ç¬¦æ•°é‡æœ‰100çš„æ–‡æœ¬ï¼ŒåŒæ—¶æ‹¥æœ‰10ä¸ªæ¢è¡Œã€‚é‚£ä¹ˆæˆ‘éœ€è¦å°†è¯¥é…ç½®è®¾ç½®ä¸º10å’Œ10ä»¥ä¸‹çš„æ•°å­—æ¥å…è®¸è¿™ä¸ªæ¼‚æµç“¶å†…å®¹è¢«å‘å‡ºã€‚
- è¯¥é…ç½®é¡¹è®¾ç½®ä¸º0æ—¶ä¸é™åˆ¶å­—ç¬¦æ¢è¡Œæ¯”ç‡ã€‚é»˜è®¤è®¾ç½®ä¸º0ï¼Œæ¨èè®¾ç½®ä¸º9ä»¥ä¸Šçš„æ•°å€¼ã€‚
- æ•ˆæœå›¾å¦‚ä¸‹ï¼ˆæ•ˆæœå›¾ä¸­ï¼Œè¯¥é…ç½®é¡¹ä¸º10ï¼‰
![89fbe85ef97f9fe7d87b7526462e62cc](https://github.com/Sevenyine/nonebot_plugin_bottle/assets/65720409/7be1ec95-4ae7-4c08-a14b-4bdc72782093)
![69ca733b21ad6c38052fe1e6a9136b92](https://github.com/Sevenyine/nonebot_plugin_bottle/assets/65720409/86a9eaa1-194e-42da-b039-b74203ebabf4)


## æ–‡å­—å®¡æ ¸APIé…ç½®ï¼ˆå¯é€‰`ç™¾åº¦å®¡æ ¸`æˆ–`ç®€å•å±è”½è¯å®¡æ ¸`ï¼‰
- ç™¾åº¦å®¡æ ¸
    - åœ¨[ç™¾åº¦æ™ºèƒ½äº‘](https://cloud.baidu.com/doc/ANTIPORN/s/dkk6wyt3z)ä¸­ç”³è¯·`API_KEY`å’Œ`secret_key`
    - åœ¨`.env.*`æ–‡ä»¶ä¸­å¡«å†™`nonebot_plugin_bottle_api_key`ä¸`nonebot_plugin_bottle_secret_key`ï¼Œå‚è€ƒ[NoneBot2é…ç½®æ–¹å¼](https://v2.nonebot.dev/docs/tutorial/configuration#%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F)
    - ä¸é…ç½®è¯¥é¡¹åˆ™è¿›è¡Œ`ç®€å•å±è”½è¯å®¡æ ¸`
- ç®€å•å±è”½è¯å®¡æ ¸
    - åœ¨`data/bottle/curse.json`æ‰‹åŠ¨å¡«å†™jsonæ–‡ä»¶ï¼ˆ`list`æ ¼å¼ï¼Œæ–‡ä»¶ä¸å­˜åœ¨åˆ™è°ƒç”¨å®¡æ ¸åç”Ÿæˆï¼‰
    - åˆ¤æ–­æ–¹æ³•ä¸ºè‹¥æ–‡å­—å­˜åœ¨å±è”½è¯ï¼Œåˆ™å®¡æ ¸å¤±è´¥
    - æ ¼å¼ï¼š  
        ```
        ["å±è”½è¯1","å±è”½è¯2"]
        ```
    - å±è”½è¯æ¨èï¼ˆéœ€è¦æ‰‹åŠ¨æ›´æ”¹ï¼‰ï¼š[é˜²å˜´è‡­æ’ä»¶](https://github.com/tkgs0/nonebot-plugin-antiinsult/blob/main/nonebot_plugin_antiinsult/curse.json)
    - è‹¥ä¸ºç©ºåˆ—è¡¨åˆ™ä¸è¿›è¡Œå®¡æ ¸

## é…ç½®æ–‡ä»¶ï¼ˆ.env.*ï¼‰

| é…ç½®é¡¹ | é…ç½®å | å˜é‡ç±»å‹ |  é»˜è®¤å€¼ |
|:--------|:----------|:-------------:|------:|
| API KEY | nonebot_plugin_bottle_api_key | str | "" |
| SECRET KEY | nonebot_plugin_bottle_secret_key | str | "" |
| æ˜¯å¦ç¼“å­˜å›¾ç‰‡ | nonebot_plugin_bottle_local_storage | bool | True |
| æ¼‚æµç“¶æœ€å¤§å­—ç¬¦æ•°é‡ | nonebot_plugin_bottle_max_length | int | 0 |
| æ¼‚æµç“¶æœ€å¤§æ¢è¡Œæ•°é‡ | nonebot_plugin_bottle_max_return | int | 0 |
| æ¼‚æµç“¶å­—ç¬¦æ¢è¡Œæ¯”ç‡ | nonebot_plugin_bottle_rt_rate | int | 0 |


## æ›´æ–°æ—¥å¿—
- ***é‡æ„ç‰ˆæœ¬*** 1.0.0 [2023-3-10] [#32](https://github.com/Todysheep/nonebot_plugin_bottle/issues/32) [@LambdaYH](https://github.com/LambdaYH)
    - ä½¿ç”¨`nonebot_plugin_datastore`é‡æ„
    - å¼‚æ­¥è¯»å–è¿ç¦è¯æ–‡ä»¶
    - å¼‚æ­¥è¯»å–è¿ç¦è¯æ–‡ä»¶
    - å¯åŠ¨æ—¶å°†æ—§jsonæ•°æ®è¿ç§»
    - ä¼˜åŒ–å›¾ç‰‡ç¼“å­˜
    - è°ƒæ•´requireä½ç½®
- 0.2.7 [2023-2-25]
    - `ä¸¾æŠ¥æ¼‚æµç“¶`ç°åœ¨å¯ä»¥ç¦æ­¢æŸäººä½¿ç”¨äº†ï¼ˆ`æ¼‚æµç“¶é»‘åå• ä¸¾æŠ¥ [qqå·]`ï¼‰
    - æ–°å¢`æ¢å¤æ¼‚æµç“¶`æŒ‡ä»¤ï¼Œå¯ä»¥æ¢å¤è¢«åˆ é™¤çš„æ¼‚æµç“¶
- 0.2.6 [2023-2-24]
    - `ä¸¾æŠ¥æ¼‚æµç“¶`ä¿®å¤äº†å•äººå¯ä»¥ä¸¾æŠ¥å¤šæ¬¡çš„é—®é¢˜
    - [ ] æ ¼å¼åŒ–æ¼‚æµç“¶è¾“å‡º

<details>
    <summary>æ›´å¤šæ›´æ–°</summary>

    - 0.2.5 [2023-2-24]
        - æ›´æ”¹`requests`è¯·æ±‚æ–¹å¼ä¸º`httpx` [#29](https://github.com/Todysheep/nonebot_plugin_bottle/issues/29)
        - é€‚é…`metadata` #29
        - ğŸ’¥ç ´åæ€§æ›´æ–° `api_key`ä¸`secret_key`å°†åœ¨`.env.*`ä¸­å¡«å†™ï¼ˆè¯¦è§ä¸Šæ–¹ï¼‰ [#29](https://github.com/Todysheep/nonebot_plugin_bottle/issues/29)
    - 0.2.4
        - ç°åœ¨å¼€å§‹è®°å½•æ‰”æ¼‚æµç“¶çš„æ—¶é—´ï¼Œæ—§ç‰ˆæœ¬çš„æ¼‚æµç“¶æ—¶é—´ä¸º`0000-00-00 00:00:00`,ä½¿ç”¨`æŸ¥çœ‹æ¼‚æµç“¶å¯ä»¥æŸ¥çœ‹å…·ä½“æ—¶é—´`
    - 0.2.3
        - `åˆ é™¤æ¼‚æµç“¶`ç°åœ¨æ‰€æœ‰äººå¯ç”¨ï¼Œå¹¶è¿›è¡Œäº†ä¸€äº›æƒé™é™åˆ¶
        - `æ¡æ¼‚æµç“¶`å‡½æ•°æ›´æ–°äº†é€’å½’ä¸Šé™é˜²æ­¢æ— é™é€’å½’
        - è¦æ±‚åç»­å†…å®¹è¾“å…¥çš„æ‰€æœ‰æŒ‡ä»¤ç°éœ€è¦ç©ºæ ¼éš”å¼€
    - 0.2.2
        - æ›´æ–°`ç®€å•å±è”½è¯`åŠŸèƒ½ï¼Œåœ¨æœªé…ç½®`api_key`å’Œ`secret_key`æ—¶è¿›è¡Œç®€å•çš„å±è”½è¯å®¡æ ¸ï¼Œè€Œä¸æ˜¯è·³è¿‡å®¡æ ¸
        - ç°åœ¨è¯„è®ºä¹Ÿéœ€è¦ç»è¿‡æ–‡å­—å®¡æ ¸
        - å¢åŠ å­˜æ”¾å±è”½è¯æ–‡ä»¶`data/bottle/curse.json`
    - 0.2.1
        - å¢åŠ åˆ é™¤æ¼‚æµç“¶è¯„è®ºåŠŸèƒ½
    - 0.2.0
        - åœæ­¢ä½¿ç”¨`black_group`
        - å¢åŠ ä½¿ç”¨CDï¼Œé»‘/ç™½åå•ç¾¤ç»„
        - å¼€å§‹è®°å½•å›å¤äººQQå·ï¼ˆä»…SUPERUSERä½¿ç”¨`æ¼‚æµç“¶è¯¦æƒ…`å¯è§ï¼‰
    - 0.1.8
        - å¢åŠ `request`åº“è¦æ±‚
        - ä¸¢å‡ºæ¼‚æµç“¶åå±•ç¤ºæ¼‚æµç“¶ç¼–å·
    - 0.1.7
        - æ–°å¢jsoné¡¹`key`ï¼Œå°†ä¸ä½¿ç”¨`del`åˆ é™¤æ¼‚æµç“¶ï¼Œè€Œä¿ç•™åŸæ¼‚æµç“¶æ•°æ®ä¾¿äºç®¡ç†è€…æŸ¥çœ‹
        - æ–°å¢jsoné¡¹`group_name`,`username`ï¼Œå°†åœ¨APIæ— æ³•è·å–ä¿¡æ¯æ—¶ä½¿ç”¨
    - 0.1.6
        - æ–°å¢é…ç½®é¡¹`api_key`,'secret_key'ï¼Œç”¨äºæ–‡æœ¬å®¡æ ¸
        - æ–°å¢é…ç½®é¡¹`black_group`ï¼Œç”¨äºå±è”½ç‰¹å®šç¾¤èŠ

</details>

## ç‰¹åˆ«æ„Ÿè°¢
- **[@LambdaYH](https://github.com/LambdaYH)** PRäº†~~ä¸€ä¸ªç°æœ‰ä½œè€…æ ¹æœ¬çœ‹ä¸æ‡‚çš„~~é‡æ„ç‰ˆæœ¬ (1.0.0)
- [@a563696823](https://github.com/a563696823) é€‚é…commitï¼Œæ›´æ”¹configå¡«å†™ï¼Œé€‚é…httpx
- [@MTmin](https://github.com/MTmin) å¤šæœºå™¨äººç‰ˆæœ¬
- [@Sevenyine](https://github.com/Sevenyine) å‘äº†~~114514æ¡~~issue

## æ•ˆæœå±•ç¤º
![image](https://user-images.githubusercontent.com/97968466/191049794-1b409436-fd70-43d9-8dcb-3575e82fd69b.png)  
![image](https://user-images.githubusercontent.com/97968466/213113862-e6c7568b-8686-4e97-8f83-7354ff1cb704.png)  
![image](https://user-images.githubusercontent.com/97968466/191052704-1b5ec89d-7a49-40d6-a5d9-b0a0171c730e.png)  
![image](https://user-images.githubusercontent.com/97968466/191049649-2e8d8555-f285-470f-9f7b-f5a0994341ee.png)  

