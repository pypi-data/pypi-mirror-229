"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[107],{8049:(e,t,r)=>{r.r(t),r.d(t,{default:()=>g});var i=r(6252);const o={class:"card"},l={class:"card-body"},c={class:"row"},a=(0,i._)("div",{class:"col-md-4"},[(0,i._)("strong",null,"Update Profile Picture"),(0,i._)("p",{class:"text-instructions"},' Click on "Update Picture" to update your profile picture ')],-1),s={class:"col-md-3"},u=["src"],n=(0,i._)("br",null,null,-1);var p=r(9729),d=r(4344),f=r(989),h=r(106);const P=r(9669),m={name:"UpdateProfilePicture",components:{NButton:p.ZP,NUpload:d.Z},props:{userProfile:{type:Array,default:()=>[]}},data:()=>({profilePicture:""}),computed:{...(0,f.Se)({staticUrl:"getStaticUrl",rootUrl:"getRootUrl"})},mixins:[h.Z],methods:{setProfilePicture(){if(this.profilePicture=`${this.staticUrl}/NearBeach/images/placeholder/product_tour.svg`,0===this.userProfile.length)return;let e=this.userProfile[0].fields.document;null!=e&&""!==e&&(this.profilePicture=`${this.rootUrl}private/${e}`)},updateProfilePicture(){P.get("get_profile_picture/",{}).then((e=>{this.profilePicture=`${this.rootUrl}private/${e.data.profile_picture}`})).catch((()=>{this.profilePicture=`${this.staticUrl}/NearBeach/images/placeholder/product_tour.svg`}))}},mounted(){this.setProfilePicture()}},g=(0,r(3744).Z)(m,[["render",function(e,t,r,p,d,f){const h=(0,i.up)("n-button"),P=(0,i.up)("n-upload");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",l,[(0,i._)("div",c,[a,(0,i._)("div",s,[(0,i._)("img",{src:e.profilePicture,alt:"Profile Picture",class:"organisation-profile-image"},null,8,u),n,(0,i.kq)('<button class="btn btn-primary">Update Profile...</button>'),(0,i.Wm)(P,{action:`${e.rootUrl}profile_information/update_profile/`,headers:{"X-CSRFTOKEN":e.getToken("csrftoken")},data:{},onFinish:f.updateProfilePicture},{default:(0,i.w5)((()=>[(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Update Profile Picture")])),_:1})])),_:1},8,["action","headers","onFinish"])])])])])}]])},106:(e,t,r)=>{r.d(t,{Z:()=>i});const i={methods:{getToken(e){const t=new RegExp(`${e}=([^;]+)`).exec(document.cookie);return null!==t?encodeURIComponent(t[1]):null}}}}}]);