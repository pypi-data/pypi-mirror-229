# Pipeline to generate 3rd party license file for the component
# and check it back into the repository

# Automtically run when a (selected) requirements file changes
trigger:
  branches:
    include:
    - '*'
    exclude:
    - master
    - release/* 
  paths:
    include:
    - requirements-3.9.txt

# Bring in the templates containing the build logic
resources:
  repositories:
  - repository: templates
    name: dp/pipeline-templates
    type: git
    ref: refs/heads/master

variables:
- template: ../build-vars.yml
- template: variables/common-vars.yml@templates

stages:
- template: common/python-generate-licenses.yml@templates
  parameters:
    package: $(package)
    module: $(module)
    pythonVersionJfrog: $(pythonVersionJfrog)
