"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[57935],{12133:function(e,o,a){a.r(o),a.d(o,{DialogHassioBackupUpload:function(){return v}});var r,n,t=a(88962),i=a(99312),l=a(81043),c=a(33368),d=a(71650),s=a(82390),u=a(69205),h=a(70906),g=a(91808),k=a(68144),b=a(79932),p=a(47181),f=(a(90806),a(10983),a(11654)),v=(a(36369),(0,g.Z)([(0,b.Mo)("dialog-hassio-backup-upload")],(function(e,o){var a,g=function(o){(0,u.Z)(r,o);var a=(0,h.Z)(r);function r(){var o;(0,d.Z)(this,r);for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return o=a.call.apply(a,[this].concat(t)),e((0,s.Z)(o)),o}return(0,c.Z)(r)}(o);return{F:g,d:[{kind:"field",decorators:[(0,b.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,b.SB)()],key:"_dialogParams",value:void 0},{kind:"method",key:"showDialog",value:(a=(0,l.Z)((0,i.Z)().mark((function e(o){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._dialogParams=o,e.next=3,this.updateComplete;case 3:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{kind:"method",key:"closeDialog",value:function(){this._dialogParams&&!this._dialogParams.onboarding&&this._dialogParams.reloadBackup&&this._dialogParams.reloadBackup(),this._dialogParams=void 0,(0,p.B)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){var e,o,a;return this._dialogParams?(0,k.dy)(r||(r=(0,t.Z)([' <ha-dialog open scrimClickAction escapeKeyAction hideActions .heading="','" @closed="','"> <div slot="heading"> <ha-header-bar> <span slot="title">','</span> <ha-icon-button .label="','" .path="','" slot="actionItems" dialogAction="cancel" dialogInitialFocus></ha-icon-button> </ha-header-bar> </div> <hassio-upload-backup @backup-uploaded="','" .hass="','"></hassio-upload-backup> </ha-dialog> '])),(null===(e=this.hass)||void 0===e?void 0:e.localize("ui.panel.page-onboarding.restore.upload_backup"))||"Upload backup",this.closeDialog,(null===(o=this.hass)||void 0===o?void 0:o.localize("ui.panel.page-onboarding.restore.upload_backup"))||"Upload backup",(null===(a=this.hass)||void 0===a?void 0:a.localize("ui.common.close"))||"Close","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",this._backupUploaded,this.hass):k.Ld}},{kind:"method",key:"_backupUploaded",value:function(e){var o,a=e.detail.backup;null===(o=this._dialogParams)||void 0===o||o.showBackup(a.slug),this.closeDialog()}},{kind:"get",static:!0,key:"styles",value:function(){return[f.yu,(0,k.iv)(n||(n=(0,t.Z)(["ha-header-bar{--mdc-theme-on-primary:var(--primary-text-color);--mdc-theme-primary:var(--mdc-theme-surface);flex-shrink:0}@media all and (max-width:450px),all and (max-height:500px){ha-header-bar{--mdc-theme-primary:var(--app-header-background-color);--mdc-theme-on-primary:var(--app-header-text-color, white)}}"])))]}}]}}),k.oi))},54736:function(e,o,a){var r,n,t=a(88962),i=a(33368),l=a(71650),c=a(82390),d=a(69205),s=a(70906),u=a(91808),h=a(68144),g=a(79932);(0,u.Z)([(0,g.Mo)("ha-ansi-to-html")],(function(e,o){var a=function(o){(0,d.Z)(r,o);var a=(0,s.Z)(r);function r(){var o;(0,l.Z)(this,r);for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return o=a.call.apply(a,[this].concat(t)),e((0,c.Z)(o)),o}return(0,i.Z)(r)}(o);return{F:a,d:[{kind:"field",decorators:[(0,g.Cb)()],key:"content",value:void 0},{kind:"method",key:"render",value:function(){return(0,h.dy)(r||(r=(0,t.Z)(["",""])),this._parseTextToColoredPre(this.content))}},{kind:"get",static:!0,key:"styles",value:function(){return(0,h.iv)(n||(n=(0,t.Z)(["pre{overflow-x:auto;white-space:pre-wrap;overflow-wrap:break-word}.bold{font-weight:700}.italic{font-style:italic}.underline{text-decoration:underline}.strikethrough{text-decoration:line-through}.underline.strikethrough{text-decoration:underline line-through}.fg-red{color:var(--error-color)}.fg-green{color:var(--success-color)}.fg-yellow{color:var(--warning-color)}.fg-blue{color:var(--info-color)}.fg-magenta{color:#762671}.fg-cyan{color:#2cb5e9}.fg-white{color:#ccc}.bg-black{background-color:#000}.bg-red{background-color:var(--error-color)}.bg-green{background-color:var(--success-color)}.bg-yellow{background-color:var(--warning-color)}.bg-blue{background-color:var(--info-color)}.bg-magenta{background-color:#762671}.bg-cyan{background-color:#2cb5e9}.bg-white{background-color:#ccc}"])))}},{kind:"method",key:"_parseTextToColoredPre",value:function(e){for(var o,a=document.createElement("pre"),r=/\033(?:\[(.*?)[@-~]|\].*?(?:\007|\033\\))/g,n=0,t={bold:!1,italic:!1,underline:!1,strikethrough:!1,foregroundColor:null,backgroundColor:null},i=function(e){var o=document.createElement("span");t.bold&&o.classList.add("bold"),t.italic&&o.classList.add("italic"),t.underline&&o.classList.add("underline"),t.strikethrough&&o.classList.add("strikethrough"),null!==t.foregroundColor&&o.classList.add("fg-".concat(t.foregroundColor)),null!==t.backgroundColor&&o.classList.add("bg-".concat(t.backgroundColor)),o.appendChild(document.createTextNode(e)),a.appendChild(o)};null!==(o=r.exec(e));){var l=o.index;i(e.substring(n,l)),n=l+o[0].length,void 0!==o[1]&&o[1].split(";").forEach((function(e){switch(parseInt(e,10)){case 0:t.bold=!1,t.italic=!1,t.underline=!1,t.strikethrough=!1,t.foregroundColor=null,t.backgroundColor=null;break;case 1:t.bold=!0;break;case 3:t.italic=!0;break;case 4:t.underline=!0;break;case 9:t.strikethrough=!0;break;case 22:t.bold=!1;break;case 23:t.italic=!1;break;case 24:t.underline=!1;break;case 29:t.strikethrough=!1;break;case 30:case 39:t.foregroundColor=null;break;case 31:t.foregroundColor="red";break;case 32:t.foregroundColor="green";break;case 33:t.foregroundColor="yellow";break;case 34:t.foregroundColor="blue";break;case 35:t.foregroundColor="magenta";break;case 36:t.foregroundColor="cyan";break;case 37:t.foregroundColor="white";break;case 40:t.backgroundColor="black";break;case 41:t.backgroundColor="red";break;case 42:t.backgroundColor="green";break;case 43:t.backgroundColor="yellow";break;case 44:t.backgroundColor="blue";break;case 45:t.backgroundColor="magenta";break;case 46:t.backgroundColor="cyan";break;case 47:t.backgroundColor="white";break;case 49:t.backgroundColor=null}}))}return i(e.substring(n)),a}}]}}),h.oi)},57935:function(e,o,a){a.r(o);var r,n,t,i=a(99312),l=a(81043),c=a(88962),d=a(33368),s=a(71650),u=a(82390),h=a(69205),g=a(70906),k=a(91808),b=a(34541),p=a(47838),f=(a(53918),a(68144)),v=a(79932),m=a(47181),y=(a(12133),a(54736),a(22098),a(76307)),w=(a(38544),a(15451));(0,k.Z)([(0,v.Mo)("onboarding-restore-backup")],(function(e,o){var k,C=function(o){(0,h.Z)(r,o);var a=(0,g.Z)(r);function r(){var o;(0,s.Z)(this,r);for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return o=a.call.apply(a,[this].concat(t)),e((0,u.Z)(o)),o}return(0,d.Z)(r)}(o);return{F:C,d:[{kind:"field",decorators:[(0,v.Cb)()],key:"localize",value:void 0},{kind:"field",decorators:[(0,v.Cb)()],key:"language",value:void 0},{kind:"field",decorators:[(0,v.SB)()],key:"_restoring",value:function(){return!1}},{kind:"method",key:"render",value:function(){return this._restoring?(0,f.dy)(r||(r=(0,c.Z)(["<h1> "," </h1> <onboarding-loading></onboarding-loading>"])),this.localize("ui.panel.page-onboarding.restore.in_progress")):(0,f.dy)(n||(n=(0,c.Z)([" <h1>",'</h1> <ha-button unelevated @click="','"> '," </ha-button> "])),this.localize("ui.panel.page-onboarding.restore.header"),this._uploadBackup,this.localize("ui.panel.page-onboarding.restore.upload_backup"))}},{kind:"method",key:"_uploadBackup",value:function(){var e,o,r=this;e=this,o={showBackup:function(e){return r._showBackupDialog(e)},onboarding:!0},(0,m.B)(e,"show-dialog",{dialogTag:"dialog-hassio-backup-upload",dialogImport:function(){return Promise.resolve().then(a.bind(a,12133))},dialogParams:o})}},{kind:"method",key:"firstUpdated",value:function(e){var o=this;(0,b.Z)((0,p.Z)(C.prototype),"firstUpdated",this).call(this,e),setInterval((function(){return o._checkRestoreStatus()}),1e3)}},{kind:"method",key:"_checkRestoreStatus",value:(k=(0,l.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._restoring){e.next=9;break}return e.prev=1,e.next=4,(0,y.Dq)();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),"unauthorized"===e.t0.message&&window.location.replace("/");case 9:case"end":return e.stop()}}),e,this,[[1,6]])}))),function(){return k.apply(this,arguments)})},{kind:"method",key:"_showBackupDialog",value:function(e){var o,r,n=this;o=this,r={slug:e,onboarding:!0,localize:this.localize,onRestoring:function(){n._restoring=!0}},(0,m.B)(o,"show-dialog",{dialogTag:"dialog-hassio-backup",dialogImport:function(){return Promise.all([a.e(28597),a.e(41985),a.e(70632),a.e(52154),a.e(50795),a.e(41638)]).then(a.bind(a,41638))},dialogParams:r})}},{kind:"get",static:!0,key:"styles",value:function(){return[w.I,(0,f.iv)(t||(t=(0,c.Z)([":host{display:flex;flex-direction:column;align-items:center}"])))]}}]}}),f.oi)}}]);
//# sourceMappingURL=57935-mymxIySyfJQ.js.map